{"metadata": {"file_path": "process_fmz_dataset.py", "name": "!/usr/bin/env python3", "extension": ".py", "size_bytes": 14228, "modified_time": 1749803430.866529, "description": "\\s*([^\\n]+)'  # 第二行标题", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": true, "has_market_analysis": true, "is_multiasset": true, "complexity_level": "high"}, "complexity_metrics": {"loc": 359, "function_count": 8, "class_count": 0, "comment_ratio": 0.12777777777777777, "cyclomatic_complexity": 41}, "indicators": ["MACD", "RSI", "KDJ", "BOLL", "MA", "EMA", "ATR", "CCI", "OBV"], "frequency": "高频", "strategy_patterns": ["trend_following", "mean_reversion", "arbitrage", "market_making", "momentum", "ml_based"], "strategy_features": ["risk_management", "position_sizing", "multi_timeframe", "market_regime"]}, "code": "#!/usr/bin/env python3\nimport os\nimport json\nimport re\nimport glob\nimport argparse\nfrom pathlib import Path\n\n# 配置日志级别\nimport logging\nlogging.basicConfig(\n    level=logging.INFO,\n    format='%(asctime)s - %(levelname)s - %(message)s'\n)\nlogger = logging.getLogger(__name__)\n\ndef parse_args():\n    \"\"\"解析命令行参数\"\"\"\n    parser = argparse.ArgumentParser(description='处理FMZ量化策略数据集')\n    parser.add_argument('--input-dir', type=str, default='.',\n                        help='输入数据集目录 (默认: 当前目录)')\n    parser.add_argument('--output-dir', type=str, default='processed',\n                        help='输出目录 (默认: processed)')\n    parser.add_argument('--output-file', type=str, default='financial_strategies.jsonl',\n                        help='输出文件名 (默认: financial_strategies.jsonl)')\n    return parser.parse_args()\n\ndef analyze_strategy_pattern(code_content):\n    \"\"\"分析策略模式和特征\"\"\"\n    patterns = {\n        \"trend_following\": [\"趋势跟踪\", \"突破\", \"动量\", \"趋势\", \"方向\", \"走势\"],\n        \"mean_reversion\": [\"均值回归\", \"震荡\", \"超买\", \"超卖\", \"回归\", \"反转\"],\n        \"arbitrage\": [\"套利\", \"对冲\", \"价差\", \"配对\", \"统计套利\"],\n        \"market_making\": [\"做市\", \"报价\", \"买卖价差\", \"流动性\"],\n        \"momentum\": [\"动量\", \"惯性\", \"加速度\", \"趋势强度\"],\n        \"ml_based\": [\"机器学习\", \"神经网络\", \"深度学习\", \"AI\", \"人工智能\"],\n    }\n    \n    features = {\n        \"risk_management\": [\"止损\", \"止盈\", \"风险\", \"仓位\", \"敞口\"],\n        \"position_sizing\": [\"仓位\", \"头寸\", \"下单量\", \"开仓\", \"平仓\"],\n        \"multi_timeframe\": [\"多周期\", \"多时间周期\", \"跨周期\", \"周期切换\"],\n        \"market_regime\": [\"趋势\", \"震荡\", \"行情\", \"市场状态\", \"市场环境\"],\n    }\n    \n    strategy_types = []\n    strategy_features = []\n    \n    # 分析策略类型\n    for pattern_type, keywords in patterns.items():\n        if any(keyword in code_content for keyword in keywords):\n            strategy_types.append(pattern_type)\n    \n    # 分析策略特征\n    for feature_type, keywords in features.items():\n        if any(keyword in code_content for keyword in keywords):\n            strategy_features.append(feature_type)\n    \n    return strategy_types, strategy_features\n\ndef extract_metadata(file_path):\n    \"\"\"提取策略文件中的元数据\"\"\"\n    file_path = Path(file_path)\n    logger.info(f\"处理文件: {file_path}\")\n    \n    metadata = {\n        \"file_path\": str(file_path),\n        \"name\": file_path.stem,\n        \"extension\": file_path.suffix,\n        \"size_bytes\": file_path.stat().st_size,\n        \"modified_time\": file_path.stat().st_mtime,\n        \"description\": \"\",\n        \"symbol\": \"unknown\",\n        \"author\": \"unknown\",\n        \"strategy_type\": \"unknown\",\n        \"backtest_config\": {},\n        \"training_labels\": {}, \n        \"complexity_metrics\": {}\n    }\n    \n    try:\n        with open(file_path, 'r', encoding='utf-8', errors='ignore') as f:\n            content = f.read()\n            \n            # 提取策略名称（支持多种格式）\n            name_patterns = [\n                r'策略名称[：:]\\s*([^\\n]+)',\n                r'#\\s*([^\\n]+)',  # 第一行标题\n                r'策略名[：:]\\s*([^\\n]+)',\n                r'名称[：:]\\s*([^\\n]+)'\n            ]\n            \n            for pattern in name_patterns:\n                match = re.search(pattern, content)\n                if match:\n                    metadata[\"name\"] = match.group(1).strip()\n                    break\n            \n            # 提取策略描述\n            desc_patterns = [\n                r'策略说明[：:]\\s*([^\\n]+)',\n                r'策略描述[：:]\\s*([^\\n]+)',\n                r'##\\s*([^\\n]+)'  # 第二行标题\n            ]\n            \n            for pattern in desc_patterns:\n                match = re.search(pattern, content)\n                if match:\n                    metadata[\"description\"] = match.group(1).strip()\n                    break\n            \n            # 提取交易品种\n            symbol_patterns = [\n                r'交易品种[：:]\\s*([^\\n]+)',\n                r'交易对[：:]\\s*([^\\n]+)',\n                r'品种[：:]\\s*([^\\n]+)'\n            ]\n            \n            for pattern in symbol_patterns:\n                match = re.search(pattern, content)\n                if match:\n                    metadata[\"symbol\"] = match.group(1).strip()\n                    break\n            \n            # 提取作者信息\n            author_patterns = [\n                r'作者[：:]\\s*([^\\n]+)',\n                r'Author[：:]\\s*([^\\n]+)'\n            ]\n            \n            for pattern in author_patterns:\n                match = re.search(pattern, content)\n                if match:\n                    metadata[\"author\"] = match.group(1).strip()\n                    break\n            \n            # 提取策略类型（趋势、震荡、套利等）\n            strategy_types = [\"趋势\", \"震荡\", \"套利\", \"网格\", \"做市\", \"量化\", \"对冲\", \"高频\"]\n            for stype in strategy_types:\n                if stype in content:\n                    metadata[\"strategy_type\"] = stype\n                    break\n            \n            # 提取技术指标\n            indicators = []\n            indicator_keywords = [\"MACD\", \"RSI\", \"KDJ\", \"BOLL\", \"MA\", \"EMA\", \"ATR\", \"CCI\", \"OBV\"]\n            for indicator in indicator_keywords:\n                if indicator.upper() in content.upper():\n                    indicators.append(indicator)\n            \n            metadata[\"indicators\"] = indicators\n            \n            # 提取交易频率\n            freq_keywords = {\n                \"高频\": [\"高频\", \"tick\", \"秒级\", \"秒\", \"高频交易\"],\n                \"日内\": [\"日内\", \"分钟\", \"分钟线\", \"1m\", \"5m\", \"15m\", \"30m\"],\n                \"日线\": [\"日线\", \"日级\", \"日\", \"daily\", \"day\"],\n                \"周线\": [\"周线\", \"周级\", \"周\", \"weekly\", \"week\"],\n                \"长线\": [\"长线\", \"月线\", \"月级\", \"月\", \"长期\", \"year\", \"month\"]\n            }\n            \n            for freq, keywords in freq_keywords.items():\n                if any(keyword in content for keyword in keywords):\n                    metadata[\"frequency\"] = freq\n                    break\n            \n    except Exception as e:\n        logger.error(f\"提取元数据时出错: {e}\")\n    \n    return metadata\n\ndef calculate_complexity_metrics(code_content):\n    \"\"\"计算代码复杂度指标\"\"\"\n    metrics = {\n        \"loc\": len(code_content.splitlines()),  # 代码行数\n        \"function_count\": len(re.findall(r'def\\s+\\w+\\s*\\(', code_content)),  # 函数数量\n        \"class_count\": len(re.findall(r'class\\s+\\w+', code_content)),  # 类数量\n        \"comment_ratio\": len(re.findall(r'#.*$|\\'{3}[\\s\\S]*?\\'{3}|\"{3}[\\s\\S]*?\"{3}', code_content, re.M)) / (len(code_content.splitlines()) + 1),  # 注释比例\n        \"cyclomatic_complexity\": len(re.findall(r'\\bif\\b|\\bfor\\b|\\bwhile\\b|\\band\\b|\\bor\\b', code_content)),  # 圈复杂度近似值\n    }\n    return metrics\n\ndef extract_backtest_config(code_content):\n    \"\"\"提取回测配置参数\"\"\"\n    config = {}\n    \n    # 提取常见的回测参数\n    param_patterns = {\n        \"initial_capital\": r'(初始资金|capital|initCapital)\\s*[=:]\\s*(\\d+)',\n        \"timeframe\": r'(period|时间周期|周期)\\s*[=:]\\s*[\\'\"]*([^\\'\"]+)',\n        \"fees\": r'(fee|费率|手续费)\\s*[=:]\\s*([0-9.]+)',\n        \"slippage\": r'(slippage|滑点)\\s*[=:]\\s*([0-9.]+)',\n    }\n    \n    for param, pattern in param_patterns.items():\n        match = re.search(pattern, code_content)\n        if match:\n            config[param] = match.group(2)\n    \n    return config\n\ndef extract_training_labels(code_content):\n    \"\"\"提取用于训练的标签\"\"\"\n    labels = {\n        \"has_risk_management\": bool(re.search(r'止损|止盈|risk|stop[_\\s]loss', code_content, re.I)),\n        \"has_position_sizing\": bool(re.search(r'仓位|position|size|volume', code_content, re.I)),\n        \"has_market_analysis\": bool(re.search(r'market|analysis|分析|行情', code_content, re.I)),\n        \"is_multiasset\": bool(re.search(r'symbols|pairs|多品种|portfolio', code_content, re.I)),\n        \"complexity_level\": \"high\" if len(code_content.splitlines()) > 300 else \"medium\" if len(code_content.splitlines()) > 100 else \"low\"\n    }\n    return labels\n\ndef extract_code(file_path):\n    \"\"\"提取策略文件中的代码部分\"\"\"\n    file_path = Path(file_path)\n    code = \"\"\n    \n    try:\n        with open(file_path, 'r', encoding='utf-8', errors='ignore') as f:\n            content = f.read()\n        \n        # 根据文件类型提取代码\n        if file_path.suffix == '.py':\n            # Python文件直接返回全文\n            code = content\n            \n        elif file_path.suffix == '.md':\n            # Markdown文件提取代码块\n            code_blocks = re.findall(r'```(?:python|javascript|lua)?\\n(.*?)```', content, re.DOTALL)\n            code = \"\\n\\n\".join(code_blocks)\n            \n        elif file_path.suffix == '.js':\n            # JavaScript文件直接返回全文\n            code = content\n            \n        elif file_path.suffix == '.lua':\n            # Lua文件直接返回全文\n            code = content\n            \n        else:\n            # 其他类型文件尝试智能提取\n            code_lines = []\n            in_code = False\n            \n            for line in content.split('\\n'):\n                # 简单的代码检测规则\n                if line.strip().startswith(('def ', 'class ', 'function ', 'import ', 'from ', 'var ', 'let ', 'const ', 'local ')):\n                    in_code = True\n                \n                if in_code:\n                    code_lines.append(line)\n                    \n                    # 如果连续5行空行，可能代码结束\n                    if len(code_lines) > 5 and all(l.strip() == '' for l in code_lines[-5:]):\n                        break\n            \n            code = \"\\n\".join(code_lines)\n    \n    except Exception as e:\n        logger.error(f\"提取代码时出错: {e}\")\n    \n    return code.strip()\n\ndef process_dataset(input_dir, output_dir, output_file):\n    \"\"\"处理整个数据集\"\"\"\n    input_dir = Path(input_dir)\n    output_dir = Path(output_dir)\n    output_file = output_dir / output_file\n    \n    # 检查fmz_strategies仓库是否存在，不存在则克隆\n    if not input_dir.exists():\n        logger.info(\"FMZ策略仓库不存在，正在克隆...\")\n        os.system(f\"git clone https://github.com/fmzquant/strategies.git {input_dir}\")\n        if not input_dir.exists():\n            logger.error(f\"克隆仓库失败，目录不存在: {input_dir}\")\n            return\n    \n    # 创建输出目录\n    os.makedirs(output_dir, exist_ok=True)\n    logger.info(f\"输出目录: {output_dir}\")\n    \n    # 查找所有策略文件\n    strategy_files = []\n    supported_extensions = ['*.py', '*.md', '*.js', '*.lua', '*.txt']\n    \n    for ext in supported_extensions:\n        files = list(input_dir.rglob(ext))\n        logger.info(f\"找到 {len(files)} 个 {ext} 文件\")\n        strategy_files.extend(files)\n    \n    if not strategy_files:\n        logger.warning(\"未找到任何策略文件！\")\n        return\n    \n    logger.info(f\"共找到 {len(strategy_files)} 个策略文件\")\n    \n    # 处理每个文件并写入JSONL格式\n    processed_count = 0\n    error_count = 0\n    \n    with open(output_file, 'w', encoding='utf-8') as f:\n        for i, file_path in enumerate(strategy_files):\n            if (i + 1) % 10 == 0 or (i + 1) == len(strategy_files):\n                logger.info(f\"进度: {i + 1}/{len(strategy_files)} ({((i + 1) / len(strategy_files)) * 100:.1f}%)\")\n            \n            try:\n                metadata = extract_metadata(file_path)\n                code = extract_code(file_path)\n                \n                # 过滤掉代码为空的样本\n                if not code:\n                    logger.warning(f\"文件 {file_path} 不包含有效代码，跳过\")\n                    error_count += 1\n                    continue\n                \n                # 分析策略模式和特征\n                strategy_types, strategy_features = analyze_strategy_pattern(code)\n                metadata[\"strategy_patterns\"] = strategy_types\n                metadata[\"strategy_features\"] = strategy_features\n                \n                # 提取回测配置\n                metadata[\"backtest_config\"] = extract_backtest_config(code)\n                \n                # 计算代码复杂度指标\n                metadata[\"complexity_metrics\"] = calculate_complexity_metrics(code)\n                \n                # 提取训练标签\n                metadata[\"training_labels\"] = extract_training_labels(code)\n                \n                # 构建完整的策略样本\n                strategy_sample = {\n                    \"metadata\": metadata,\n                    \"code\": code,\n                    \"code_length\": len(code),\n                    \"processed_at\": str(Path(file_path).stat().st_mtime)\n                }\n                \n                # 写入JSONL格式（每行一个JSON对象）\n                f.write(json.dumps(strategy_sample, ensure_ascii=False) + '\\n')\n                processed_count += 1\n                \n            except Exception as e:\n                logger.error(f\"处理文件 {file_path} 时出错: {e}\")\n                error_count += 1\n    \n    logger.info(f\"数据集处理完成！\")\n    logger.info(f\"成功处理: {processed_count} 个文件\")\n    logger.info(f\"处理失败: {error_count} 个文件\")\n    logger.info(f\"输出文件: {output_file}\")\n    logger.info(f\"文件大小: {output_file.stat().st_size / (1024 * 1024):.2f} MB\")\n\nif __name__ == \"__main__\":\n    args = parse_args()\n    logger.info(f\"开始处理FMZ量化策略数据集...\")\n    logger.info(f\"输入目录: {args.input_dir}\")\n    logger.info(f\"输出目录: {args.output_dir}\")\n    logger.info(f\"输出文件: {args.output_file}\")\n    \n    process_dataset(args.input_dir, args.output_dir, args.output_file)", "code_length": 12618, "processed_at": "1749803430.866529"}
{"metadata": {"file_path": "2014年的简易比特币高频策略机器人.md", "name": "2014年的简易比特币高频策略机器人", "extension": ".md", "size_bytes": 10928, "modified_time": 1749801644.8867252, "description": "", "symbol": "unknown", "author": "unknown", "strategy_type": "套利", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": true, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 50, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 9}, "indicators": ["MA"], "frequency": "高频", "strategy_patterns": ["arbitrage", "market_making"], "strategy_features": ["risk_management", "position_sizing"]}, "code": "function GetPrice(Type) {\n   //_C()是平台的容错函数\n    var depth=_C(exchange.GetDepth);\n    var amountBids=0;\n    var amountAsks=0;\n    //计算买价，获取累计深度达到预设的价格\n    if(Type==\"Buy\"){\n       for(var i=0;i<20;i++){\n           amountBids+=depth.Bids[i].Amount;\n           //参数floatamountbuy是预设的累计深度\n           if (amountBids>floatamountbuy){\n               //稍微加0.01，使得订单排在前面\n              return depth.Bids[i].Price+0.01;}\n        }\n    }\n    //同理计算卖价\n    if(Type==\"Sell\"){\n       for(var j=0; j<20; j++){\n    \t   amountAsks+=depth.Asks[j].Amount;\n            if (amountAsks>floatamountsell){\n            return depth.Asks[j].Price-0.01;}\n        }\n    }\n    //遍历了全部深度仍未满足需求，就返回一个价格，以免出现bug\n    return depth.Asks[0].Price\n}\n\n\nfunction onTick() {\n    var buyPrice = GetPrice(\"Buy\");\n    var sellPrice= GetPrice(\"Sell\");\n    //diffprice是预设差价，买卖价差如果小于预设差价，就会挂一个相对更深的价格\n    if ((sellPrice - buyPrice) <= diffprice){\n            buyPrice-=10;\n            sellPrice+=10;}\n    //把原有的单子全部撤销，实际上经常出现新的价格和已挂单价格相同的情况，此时不需要撤销\n    CancelPendingOrders() \n    //获取账户信息，确定目前账户存在多少钱和多少币\n    var account=_C(exchange.GetAccount);\n    //可买的比特币量，_N()是平台的精度函数\n    var amountBuy = _N((account.Balance / buyPrice-0.1),2); \n    //可卖的比特币量，注意到没有仓位的限制，有多少就买卖多少，因为我当时的钱很少\n    var amountSell = _N((account.Stocks),2); \n    if (amountSell > 0.02) {\n        exchange.Sell(sellPrice,amountSell);}\n    if (amountBuy > 0.02) {\n        exchange.Buy(buyPrice, amountBuy);}\n    //休眠，进入下一轮循环\n    Sleep(sleeptime);\n}", "code_length": 1462, "processed_at": "1749801644.8867252"}
{"metadata": {"file_path": "ATR可调节跟踪止损策略ATR-Adjustable-Trailing-Stop-Loss-Strategy.md", "name": "### 概述", "extension": ".md", "size_bytes": 8241, "modified_time": 1749801644.8947213, "description": "## 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": true, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "medium"}, "complexity_metrics": {"loc": 149, "function_count": 0, "class_count": 0, "comment_ratio": 0.06666666666666667, "cyclomatic_complexity": 19}, "indicators": ["RSI", "MA", "EMA", "ATR"], "frequency": "日内", "strategy_patterns": ["trend_following", "mean_reversion"], "strategy_features": ["risk_management", "position_sizing", "market_regime"]}, "code": "其中,Atr代表ATR周期参数,Hhv代表Highest函数查找周期参数,Mult代表ATR系数。\n\n该公式的计算思路是,先计算出ATR指标的值,再乘以系数Mult,得到止损缓存区的范围。然后通过Highest函数查找过去Hhv周期内的最高价,再减去止损缓存区间范围,得到动态的止损线TS。\n\n当价格上涨时,最高价会不断创新高,从而带动止损线向上移动,实现利润的锁定。当价格下跌时,止损线会保持之前的高点,避免了止损退出。\n\n#### 优势\n\n1. 动态止损,及时锁定利润\n\n该策略中的止损线是动态调整的,能够跟踪价格上涨后的最高点,实现利润的及时锁定。相比固定止损更具优势。\n\n2. 避免无谓止损\n\n当价格出现正常回调或止损过密时,固定止损线很容易被触发停止交易。该策略能够在价格下跌时保持止损线不变,避免无谓的止损退出。\n\n3. 可调节止损幅度\n\n通过调节ATR周期参数和系数参数,可以控制止损线调整的灵敏度,实现不同程度的止损。\n\n4. 风险可控\n\n止损线的范围由ATR动态计算,能够根据市场波动性设定合理的止损幅度,从而控制每单的风险敞口。\n\n#### 风险\n\n1. 行情剧烈波动时止损过于激进\n\n当行情出现剧烈波动时,ATR会快速上涨,止损线也会快速上移,增加无谓止损的概率。此时需要适当调整ATR周期参数,降低止损线调整的敏感度。\n\n2. 大幅度行情反转时难以应对\n\n该策略难以应对大幅度的行情反转,此时止损线可能会过于滞后,应及时降低仓位规避风险。\n\n3. 参数优化难度较大\n\nATR周期、Highest周期和系数参数需要综合优化,优化难度较大。建议采用步进优化法多组合测试。\n\n#### 优化思路\n\n1. 优化ATR周期参数\n\n适当增大ATR周期参数,可以减少止损线过于频繁调整的情况,但会增加单笔损失。\n\n2. 优化Highest周期参数 \n\n增大Highest周期参数可以让止损线更稳定,但需要权衡跟踪速度。\n\n3. 测试不同的ATR系数\n\n根据不同品种的特点选择合适的ATR系数,增大系数将止损幅度,减小系数降低单笔损失。\n\n4. 结合趋势 indictor\n\n结合趋势指标辅助决策,可以减少止损线被反转清除的概率。\n\n#### 总结\n\n该策略整体具有动态止损、风险可控的优点,适用于趋势行情。但需要注意防止行情剧烈波动带来的风险,同时参数优化难度较大。通过合理的参数设置和优化,以及辅助技术分析,可以将该策略运用于实盘交易中。\n||\n\nThis strategy uses the ATR indicator to calculate a dynamic stop loss line for risk control.\n\n#### Overview \n\nThe strategy uses the ATR indicator to calculate a dynamic stop loss line. When prices rise, the stop loss line will move up with prices to lock in profits. When prices fall, the stop loss line remains unchanged to avoid being stopped out. The ATR indicator can measure market volatility and risk. Multiplying it by a coefficient generates the stop loss line, thus controlling the risk exposure per trade.\n\n#### Principles\n\nThe strategy uses the ATR indicator and Highest function to calculate the dynamic stop loss line. The specific formula is:\n\n\n\n\nWhere Atr is the ATR period parameter, Hhv is the lookback period parameter of the Highest function, and Mult is the ATR coefficient.\n\nThe logic is to first calculate the ATR value, then multiply it by the Mult coefficient to get the range of the stop loss buffer zone. Then use the Highest function to find the highest high in the past Hhv periods, and subtract the stop loss buffer zone to obtain the dynamic stop loss line TS.\n\nWhen prices rise, the highest high will be constantly updated, driving the stop loss line to move up and locking in profits. When prices fall, the stop loss line will maintain the previous high point to avoid being stopped out.\n\n#### Advantages\n\n1. Dynamic stop loss for timely profit taking\n\nThe stop loss line adjusts dynamically to track the highest point after price rises, allowing timely profit taking. This is superior to fixed stop loss.\n\n2. Avoid unnecessary stop loss\n\nFixed stop loss lines can easily be triggered by normal pullbacks or overtight stops. This strategy keeps the stop loss unchanged during price declines to avoid unnecessary stops.\n\n3. Adjustable stop loss range \n\nBy tuning the ATR period and multiplier parameters, the sensitivity of the stop loss adjustment can be controlled for different degrees of stops.\n\n4. Controllable risk\n\nThe ATR dynamically calculates the stop loss range, allowing reasonable stop loss ranges according to market volatility for risk control per trade.\n\n#### Risks\n\n1. Stop loss too aggressive during high volatility\n\nWhen volatility spikes, ATR rises quickly and drives the stop loss line up rapidly, increasing the chance of unnecessary stops. The ATR period can be adjusted to make the line less sensitive.\n\n2. Difficult to adapt to sharp reversals\n\nThe strategy struggles to adapt to sharp reversals. The stop loss line may lag too much and needs timely position reduction.\n\n3. Difficult optimization\n\nOptimizing the ATR period, Highest period and multiplier parameters together can be challenging. Stepped parameter sweep testing is recommended.\n\n#### Optimization\n\n1. Optimize ATR Period\n\nIncrease ATR period to reduce overly frequent stop line adjustment, but at the cost of larger loss per stop.\n\n2. Optimize Highest Period\n\nIncrease Highest period to make the line more stable, but balance tracking speed.\n\n3. Test different ATR coefficients\n\nChoose proper ATR multipliers according to instrument characteristics. Larger multipliers widen stops, smaller ones decrease loss per stop.\n\n4. Add trend filter\n\nAdding a trend filter reduces the chance of stops being triggered by reversals.\n\n#### Summary\n\nThe strategy has the advantage of dynamic stops and controllable risks. It fits trending markets but watch out for volatility spikes and difficult parameter optimization. With proper settings, optimization and additional techniques, it can be applied for live trading.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1|5|Atr Period|\n|v_input_2|10|HHV Period|\n|v_input_3|2.5|Multiplier|\n|v_input_4|true|Barcolor|\n\n\n> Source (PineScript)", "code_length": 4766, "processed_at": "1749801644.8947213"}
{"metadata": {"file_path": "BTCUSDT量化交易执行体.md", "name": "## API注意事项：", "extension": ".md", "size_bytes": 10851, "modified_time": 1749801644.9027174, "description": "# API注意事项：", "symbol": "unknown", "author": "unknown", "strategy_type": "量化", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 8, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["MA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "https://github.com/Find-Dream/BTCUSDT\n\n\nnohup python3 start.py &\n\n\nps -aux | grep start.py\nkill -9 获取到的进程号", "code_length": 106, "processed_at": "1749801644.9027174"}
{"metadata": {"file_path": "BitMEX-高级API功能-V110-期货批量下单编辑订单冰山订单一键撤单定时撤单-Python2-3.md", "name": "BitMEX 高级API功能 (FMZ.com)", "extension": ".md", "size_bytes": 17532, "modified_time": 1749801644.9067154, "description": "# 初始化", "symbol": "unknown", "author": "unknown", "strategy_type": "unknown", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 56, "function_count": 0, "class_count": 0, "comment_ratio": 0.07017543859649122, "cyclomatic_complexity": 0}, "indicators": ["MA", "EMA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "# 单个交易所\nBitMEX = ext.BitMEXPlus(exchange)    # 创建一个新的接口对象\n# 多个交易所\nBitMEX = ext.BitMEXPlus(exchanges[0]) # exchanges[这里取决于你的交易所添加在第几个]\n\n\nside price amount 为必填参数\nsymbol 不填则使用默认交易对设置\ndisplayQty 用于冰山订单功能 设置订单显示部分大小 设置为0则完全隐藏\norderType execInst 可选参数请看源码内备注\nBitMEX.BulkAdd(side=string, price=float, amount=integer, symbol=string, displayQty=integer, ordType='Limit', clOrdID='', execInst='') \n\n\nsymbol 指定后可清除指定交易对订单 如不指定则清除所有订单\nnotify 是否显示日志 默认为显示\nBitMEX.BulkClear(symbol=string, notify=True)\n\n\nsymbol 指定后只提交指定交易对订单 不指定则提交所有订单\nBitMEX.BulkPost(symbol=string)\n\n\nBitMEX.BulkOrders()\n\n\nsymbol 指定后只取消指定交易对订单 不指定则取消所有订单\nfilter 自定义订单过滤 只取消符合条件的订单 如 filter={'side': 'Buy'} 取消所有买单\nBitMEX.CancelAllOrders(symbol=string, filter=dict)\n\n\ntimeout 指定在多少毫秒后取消订单 填0可以删除计数器\nBitMEX.CancelAllAfter(timeout=integer)\n\n\nsymbol 指定交易对 不指定交易对则使用默认交易对\norderID clOrdID 订单ID和用户自定义订单ID 至少指定其中一项 两项都填则只使用orderID\nprice amount 订单的新价格和订单的新数量 至少修改其中一项 可以同时修改两项\nBitMEX.Amend(symbol=string, orderID=string, clOrdID=string, price=float, amount=integer)\n\n\nsymbol 指定交易对 不指定交易对则使用默认交易对\norderID clOrdID 订单ID和用户自定义订单ID 至少指定其中一项 两项都填则只使用orderID\nprice amount 订单的新价格和订单的新数量 至少修改其中一项 可以同时修改两项\nBitMEX.AmendAdd(symbol=string, orderID=string, clOrdID=string, price=float, amount=integer)\n\n\nsymbol 指定后可清除指定交易对订单 如不指定则清除所有订单\nnotify 是否显示日志 默认为显示\nBitMEX.AmendClear(symbol=string, notify=True)\n\n\nsymbol 指定后提交指定交易对订单修改请求 不指定则提交默认交易对订单的修改请求\nBitMEX.AmendPost(symbol=string)\n\n\nBitMEX.AmendOrders()", "code_length": 1432, "processed_at": "1749801644.9067154"}
{"metadata": {"file_path": "Black-Scholes-Volatility-Adjusted-Dynamic-Breakout-Strategy-布莱克-斯科尔斯波动率调整动态突破策略.md", "name": "### 概述", "extension": ".md", "size_bytes": 17360, "modified_time": 1749801644.9067154, "description": "## 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": true, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 54, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 22}, "indicators": ["RSI", "MA", "EMA", "ATR"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "// EWMA波动率计算\nalpha = 0.94  // 衰减因子\newmaVar = 0.0\newmaVar := alpha * ewmaVar[1] + (1 - alpha) * logReturn * logReturn\newmaVol = math.sqrt(ewmaVar) * math.sqrt(periodsPerYear)\n\n\nvolumeConfirmation = volume > ta.sma(volume, 20) * 1.5\nmomentumConfirmation = ta.rsi(close, 14) > 50 for longCondition or < 50 for shortCondition\nlongCondition := longCondition and volumeConfirmation and momentumConfirmation\n\n\natrPeriod = 14\natrMultiplier = 2\natrValue = ta.atr(atrPeriod)\ndynamicStopLoss = atrMultiplier * atrValue\n\n\ntimeFilter = (hour >= 10 and hour < 15) or (hour == 15 and minute < 30)\nlongCondition := longCondition and timeFilter\n\n\nhigherTimeframeClose = request.security(syminfo.tickerid, \"60\", close)\nhigherTimeframeTrend = ta.ema(higherTimeframeClose, 20) > ta.ema(higherTimeframeClose, 50)\nlongCondition := longCondition and higherTimeframeTrend\nshortCondition := shortCondition and not higherTimeframeTrend\n\n\n// EWMA volatility calculation\nalpha = 0.94  // decay factor\newmaVar = 0.0\newmaVar := alpha * ewmaVar[1] + (1 - alpha) * logReturn * logReturn\newmaVol = math.sqrt(ewmaVar) * math.sqrt(periodsPerYear)\n\n\nvolumeConfirmation = volume > ta.sma(volume, 20) * 1.5\nmomentumConfirmation = ta.rsi(close, 14) > 50 for longCondition or < 50 for shortCondition\nlongCondition := longCondition and volumeConfirmation and momentumConfirmation\n\n\natrPeriod = 14\natrMultiplier = 2\natrValue = ta.atr(atrPeriod)\ndynamicStopLoss = atrMultiplier * atrValue\n\n\ntimeFilter = (hour >= 10 and hour < 15) or (hour == 15 and minute < 30)\nlongCondition := longCondition and timeFilter\n\n\nhigherTimeframeClose = request.security(syminfo.tickerid, \"60\", close)\nhigherTimeframeTrend = ta.ema(higherTimeframeClose, 20) > ta.ema(higherTimeframeClose, 50)\nlongCondition := longCondition and higherTimeframeTrend\nshortCondition := shortCondition and not higherTimeframeTrend", "code_length": 1847, "processed_at": "1749801644.9067154"}
{"metadata": {"file_path": "ChatGPT处理交易所上新公告.md", "name": "openaiCompletions", "extension": ".md", "size_bytes": 5474, "modified_time": 1749801644.9147112, "description": "", "symbol": "unknown", "author": "unknown", "strategy_type": "unknown", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 10, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA"], "frequency": "日线", "strategy_patterns": [], "strategy_features": []}, "code": "var content = \"某交易所宣布，将于2023年3月22日12:00（UTC+8）上线ID/USDT交易对。\";\nvar result = openaiCompletions(content);\nLog(result);\n\n\n{\n  \"success\": true,\n  \"pair\": [\"ID_USDT\"],\n  \"time\": \"2023-03-22 12:00:00\"\n}", "code_length": 195, "processed_at": "1749801644.9147112"}
{"metadata": {"file_path": "DEMA快速双指数移动平均策略DEMA-Double-Exponential-Moving-Average-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 8546, "modified_time": 1749801644.9187093, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 6, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA", "EMA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "buy = crossover(demaSlow, demaFast)  \nsell = crossunder(demaSlow, demaFast)\n\n\nbuy = crossover(demaSlow, demaFast)\nsell = crossunder(demaSlow, demaFast)", "code_length": 151, "processed_at": "1749801644.9187093"}
{"metadata": {"file_path": "M-Language-Turtle-Trading-strategy-implementationsV-10.md", "name": "M-Language-Turtle-Trading-strategy-implementationsV-10", "extension": ".md", "size_bytes": 12712, "modified_time": 1749801644.9466953, "description": "", "symbol": "unknown", "author": "unknown", "strategy_type": "量化", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 9, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["BOLL", "MA", "EMA", "ATR"], "frequency": "日线", "strategy_patterns": [], "strategy_features": []}, "code": "%%\n// 这里面可以调用发明者量化的任何API \nscope.TEST = function(obj) {\n    return obj.val * 100;\n}\n%%\n收盘价:C;\n收盘价放大100倍:TEST(C);\n上一个收盘价放大100倍:TEST(REF(C, 1)); // 鼠标移动到回测的K线上就会提示变量值", "code_length": 163, "processed_at": "1749801644.9466953"}
{"metadata": {"file_path": "OKEX-V5-K线数据分页查询例子-Python版.md", "name": "# OKEX V5 K线数据分页查询例子", "extension": ".md", "size_bytes": 3442, "modified_time": 1749801644.9666853, "description": "OKEX V5 K线数据分页查询例子", "symbol": "unknown", "author": "unknown", "strategy_type": "量化", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 1, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["MA"], "strategy_patterns": [], "strategy_features": []}, "code": "![IMG](https://www.fmz.com/upload/asset/16d33bb293b09726b5dc.png)", "code_length": 65, "processed_at": "1749801644.9666853"}
{"metadata": {"file_path": "OKEX-V5-K线数据分页查询例子.md", "name": "# OKEX V5 K线数据分页查询例子", "extension": ".md", "size_bytes": 3993, "modified_time": 1749801644.9666853, "description": "OKEX V5 K线数据分页查询例子", "symbol": "unknown", "author": "unknown", "strategy_type": "量化", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 1, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["MA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "![IMG](https://www.fmz.com/upload/asset/16d33bb293b09726b5dc.png)", "code_length": 65, "processed_at": "1749801644.9666853"}
{"metadata": {"file_path": "OKXBinance-Websocket高频交易模板-多品种OKEX-Binance-Websocket-High-Frequency-Multi-Symbols-Trading-Template.md", "name": "ff0000\")", "extension": ".md", "size_bytes": 57312, "modified_time": 1749801644.9666853, "description": "", "symbol": "unknown", "author": "unknown", "strategy_type": "量化", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": true, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 85, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 9}, "indicators": ["RSI", "MA", "EMA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "function onTick(ctx, event) {\n    if (event.depth) {\n        Log(\"depth update\", event)\n    }\n    if (event.trades) {\n        Log(\"trades received\", event)\n    }\n    if (event.balance || event.positions) {\n        Log(\"account update\", event)\n    }\n    if (event.orders) {\n        Log(\"private orders update\", event)\n    }\n    \n    // include orders, positions, balance for latest\n    Log(\"account\", ctx.wsPrivate.account)\n    \n    // for test only\n    if (false) {\n        return {\n            amendOrders: [{\n                instId: event.instId,\n                clOrdId: \"xxxx*****\",\n                cxlOnFail: true,\n                newSz: \"2\",\n            }],\n            newOrders: [{\n                instId: event.instId,\n                clOrdId: UUID(),\n                side: \"sell\",\n                tdMode: \"cross\",\n                ordType: \"post_only\",\n                px: event.depth.asks[0].price.toFixed(4),\n                sz: \"1\",\n            }, {\n                instId: event.instId,\n                clOrdId: UUID(),\n                side: \"sell\",\n                tdMode: \"cross\",\n                ordType: \"post_only\",\n                px: event.depth.asks[0].price.toFixed(4),\n                sz: \"1\",\n            }],\n            cancelOrders: [{\n                instId: order.instId,\n                clOrdId: order.Id\n            }]\n        }\n    }\n}\n\nfunction main() {\n    let instId = exchange.SetContractType(\"swap\").InstrumentID\n\n    let ctx = $.NewWSS(exchange, function(ws) {\n        let msg = null\n        if (exchange.GetName() === 'Futures_OKCoin') {\n            msg = {\n                op: \"subscribe\",\n                args: [{\n                    channel: \"books5\",\n                    instId: instId,\n                }, {\n                    channel: \"trades\",\n                    instId: instId,\n                }]\n            }\n        } else {\n            let symbol = exchange.GetCurrency().replace('_', '').toLowerCase()\n            msg = {\n                method: \"SUBSCRIBE\",\n                params: [symbol + \"@aggTrade\", symbol + \"@depth20@100ms\"],\n                id: \"1\",\n            }\n        }\n        ws.write(JSON.stringify(msg))\n        Log(\"subscribe\", msg, \"channel\")\n        LogStatus(\"Ready\")\n    }, onTick, Debug)\n\n    while (true) {\n        ctx.poll()\n        EventLoop(1000)\n    }\n}", "code_length": 2333, "processed_at": "1749801644.9666853"}
{"metadata": {"file_path": "OkEX-高级API功能-V110-期货批量下单现货TBD-Python2-3.md", "name": "OkEX 高级API功能 (FMZ.com)", "extension": ".md", "size_bytes": 12006, "modified_time": 1749801644.9706833, "description": "# 初始化", "symbol": "unknown", "author": "unknown", "strategy_type": "unknown", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 26, "function_count": 0, "class_count": 0, "comment_ratio": 0.18518518518518517, "cyclomatic_complexity": 0}, "indicators": ["MA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "# OkEX 期货\n# future 可选参数 this_week next_week quarter ， 不填默认 this_week\nOkEXFuture = ext.OkEXFuturePlus(exchange, future=string)    # 创建一个新的接口对象 \n# 多个交易所\nOkEXFuture = ext.OkEXFuturePlus(exchanges[0], future=string)    # exchanges[这里取决于你的交易所添加在第几个]\n\n\nside price amount 为必填参数\nsymbol future 不填则使用默认交易对设置\nmatchPrice 默认为False , 设置为True 使用对手价交易\nOkEXFuture.BulkAdd(side=string, price=float, amount=integer, matchPrice=False, symbol=string, future=string) \n\n\nsymbol 指定后可清除指定交易对订单 如不指定则清除所有订单\nnotify 是否显示日志 默认为显示\nOkEXFuture.BulkClear(symbol=string, notify=True)\n\n\nsymbol 指定后只提交指定交易对订单 不指定则提交所有订单\nfuture 必须同时指定symbol才能使用 指定后只提交特定交易对的特定合约的订单\nOkEXFuture.BulkPost(symbol=string, future=string)\n\n\nsymbol 指定后只查看指定交易对订单 不指定则查看所有订单\nfuture 必须同时指定symbol才能使用 指定后只查看特定交易对的特定合约的订单\nOkEXFuture.BulkOrders(symbol=string, future=string)", "code_length": 807, "processed_at": "1749801644.9706833"}
{"metadata": {"file_path": "P-Signal多时间框架交易策略P-Signal-Multi-Timeframe-Trading-Strategy.md", "name": "## 概述", "extension": ".md", "size_bytes": 10326, "modified_time": 1749801644.9706833, "description": "# 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 8, "function_count": 0, "class_count": 0, "comment_ratio": 0.4444444444444444, "cyclomatic_complexity": 0}, "indicators": ["MACD", "RSI", "MA", "ATR"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "fErf(x) = 1.0 - 1.0/(1.0 + 0.5*abs(x)) * exp(-x*x - 1.26551223 + ...)  # 高斯误差函数\n\nfPSignal(ser, n) = fErf((stdev(ser, n) > 0 ? sma(ser, n)/stdev(ser, n)/sqrt(2) : 1)) # P-Signal指标\n\n\nfErf(x) = 1.0 - 1.0/(1.0 + 0.5*abs(x)) * exp(-x*x - 1.26551223 + ...) # Gaussian error function \n\nfPSignal(ser, n) = fErf((stdev(ser, n) > 0 ? sma(ser, n)/stdev(ser, n)/sqrt(2) : 1)) # P-Signal indicator", "code_length": 384, "processed_at": "1749801644.9706833"}
{"metadata": {"file_path": "RSI-BB动量突破策略RSI-BB-Momentum-Breakout-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 8859, "modified_time": 1749801644.9786794, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": false, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "medium"}, "complexity_metrics": {"loc": 169, "function_count": 0, "class_count": 0, "comment_ratio": 0.058823529411764705, "cyclomatic_complexity": 30}, "indicators": ["MACD", "RSI", "BOLL", "MA"], "frequency": "日内", "strategy_patterns": ["trend_following", "mean_reversion", "momentum"], "strategy_features": ["risk_management", "market_regime"]}, "code": "其中up统计近30天收盘价上涨的幅度,down统计近30天收盘价下跌的幅度,rsi根据上涨幅度和下跌幅度的比值计算出来。\n\nBB的计算方法是:\n\n\n\n\n其中basis是50日均线,dev是标准差的0.2倍,upper和lower分别是带中线上下轨。 \n\nbbi是布林带宽度指数,计算方法是:\n\n\n\n\nbbr判断当前close是否突破上下轨,突破为1,跌破为-1,否则为0。bbi就是当前bbr减去前一周期bbr,大于0表示向上突破,小于0表示向下突破。\n\n在计算出RSI和BBI后,策略的交易信号判断逻辑是:\n\n\n\n\n也就是当RSI在52-65区间,且BBI大于0.11小于0.7时做多;当RSI在35-48区间,且BBI小于-0.11大于-0.7时做空。\n\n## 策略优势\n\n1. 结合RSI和BB两个指标,能更准确判断买卖点。RSI判断超买超卖,BB判断突破口,两者结合更可靠。\n\n2. RSI参数设置为30日线,可以过滤市场中的部分噪音,识别主要趋势。\n\n3. BB参数设置为50日线以及0.2倍标准差,可以起到过滤震荡的效果。\n\n4. BBI增加0.11和0.7的过滤条件,可以过滤假突破。\n\n5. RSI的做多做空区间设置为52-65和35-48,增加buffer避免错失买卖点。\n\n## 策略风险\n\n1. 突破交易策略容易被套,需要设置止损来控制风险。\n\n2. 回测数据可能存在过拟合,实盘效果可能会有差异。\n\n3. 市场可能出现剧烈变动,导致止损被击穿产生较大亏损。\n\n4. 需要优化RSI和BB的参数,包括周期参数及买卖区间参数。\n\n5. 订单的价格设置也会对实盘效果产生较大影响。\n\n## 策略优化方向\n\n1. 测试不同的RSI和BB的参数组合,找到最佳参数。\n\n2. 添加其他指标判断过滤信号,如MACD、KD等。\n\n3. 优化和调整买卖的RSI区间参数,减小区间范围以过滤更多噪音。 \n\n4. 优化BBI的过滤参数,设置动态区间过滤假突破。\n\n5. 添加趋势判断指标,避免逆势操作。\n\n6. 测试不同的止损方式,寻找最大回撤可接受的止损方案。 \n\n7. 测试不同的订单方式,寻找滑点影响最小的下单方案。\n\n## 总结\n\nRSI-BB动量突破策略结合趋势判断和突破口判断的优点,在回测中表现不俗。但实盘效果可能会受滑点和止损的影响。需要针对回测结果优化参数,并测试不同的止损和下单方案,找到更适合实盘的设置。此外,参数和过滤条件都需要动态调整,才能应对市场的变化。总体来说,该策略有一定的实战价值,但需要持续优化和验证,才能产生稳定的效果。\n\n||\n\n\n## Overview\n\nThe RSI-BB momentum breakout strategy combines the Relative Strength Index (RSI) and Bollinger Bands (BB) indicators for breakout trading. It uses RSI to determine market trends and overbought/oversold levels, and BB to identify breakout points. When both RSI and BB signals align, the strategy will enter long or short trades accordingly.\n\n## Strategy Logic\n\nThe code first computes the RSI and BB indicators. \n\nThe RSI is calculated as:\n\n\n\n\nWhere up measures the upward price movement over 30 periods, down measures the downward price movement, and rsi is computed based on the ratio of up to down.\n\nThe BB is calculated as:\n\n\n\n\nWhere basis is the 50-period moving average, dev is 0.2 times the standard deviation, upper and lower are the bands.\n\nbbi is the bollinger bandwidth index, computed as:\n\n\n\n\nbbr checks if close breaks upper or lower band. Breakout is 1, breakdown is -1, otherwise 0. bbi is the difference between current and previous bbr. Positive bbi indicates upward breakout, negative indicates downward.\n\nThe strategy signals are determined as: \n\n\n\n\nGo long when RSI is between 52-65 and BBI is between 0.11 and 0.7. Go short when RSI is between 35-48 and BBI is between -0.11 and -0.7.\n\n## Advantages\n\n1. Combining RSI and BB provides more reliable signals. RSI gauges trend and overbought/oversold levels, BB identifies breakout.\n\n2. 30-period RSI filters out some market noise and focuses on major trends. \n\n3. 50-period BB with 0.2 standard deviation helps filter out whipsaws.\n\n4. BBI thresholds filter fake breakouts. \n\n5. RSI long/short zones of 52-65 and 35-48 provide some buffer to avoid missed trades.\n\n## Risks\n\n1. Breakout strategies are prone to being caught in whipsaws, need to manage risk with stop loss.\n\n2. Backtest results may be overfitted, live performance may vary.\n\n3. Extreme market moves may hit stop loss resulting in large losses.\n\n4. RSI and BB parameters including periods and thresholds need to be optimized. \n\n5. Order price can significantly impact live performance.\n\n## Enhancement Opportunities \n\n1. Test different combinations of RSI and BB parameters to find optimal settings.\n\n2. Add other indicators like MACD, KD for signal filtration. \n\n3. Optimize RSI long/short zones to filter out more noise.\n\n4. Optimize dynamic BBI thresholds to better filter fakeouts.\n\n5. Add trend filter to avoid trading against major trend.\n\n6. Test different stop loss techniques to find optimal risk control.\n\n7. Test different order types to minimize slippage impact.\n\n## Conclusion\n\nThe RSI-BB strategy combines the advantages of using trend and momentum indicators. Backtest results are promising but live performance may vary due to real-world factors like slippage and stop loss. Parameters and filters need to be optimized based on backtest results. Stop loss and order placement should also be evaluated for real-world effectiveness. The strategy has merit but requires ongoing enhancements and robustness testing to generate consistent results.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1|50|length|\n|v_input_2|0.2|Mult Factor|\n|v_input_3|0.1|alertLevel|\n|v_input_4|0.75|impulseLevel|\n|v_input_5|false|showRange|\n|v_input_6|250|TP|\n|v_input_7|20|SL|\n|v_input_8|false|TS|\n\n\n> Source (PineScript)", "code_length": 4390, "processed_at": "1749801644.9786794"}
{"metadata": {"file_path": "RSI与MACD交叉多周期动态交易策略-RSI-and-MACD-Cross-Period-Dynamic-Trading-Strategy.md", "name": "### 概述", "extension": ".md", "size_bytes": 16118, "modified_time": 1749801644.9826775, "description": "## 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": true, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 38, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 6}, "indicators": ["MACD", "RSI", "MA", "EMA", "ATR"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "atrValue = ta.atr(14)\n   dynamicRsiOversold = 30 - (atrValue / close * 100)\n   dynamicRsiOverbought = 70 + (atrValue / close * 100)\n   \n\n   adxValue = ta.adx(14)\n   adxFilter = adxValue > 25\n   longCondition = (rsi < rsiOversold) and macdCrossUp and adxFilter\n   \n\n   positionSize = 100 / (ta.atr(14) / close * 100)\n   \n\n   timeFilter = (time >= timestamp(\"00:30:00\")) and (time <= timestamp(\"23:00:00\"))\n   \n\n   atrValue = ta.atr(14)\n   dynamicStopLoss = atrValue * 1.5\n   \n\n   atrValue = ta.atr(14)\n   dynamicRsiOversold = 30 - (atrValue / close * 100)\n   dynamicRsiOverbought = 70 + (atrValue / close * 100)\n   \n\n   adxValue = ta.adx(14)\n   adxFilter = adxValue > 25\n   longCondition = (rsi < rsiOversold) and macdCrossUp and adxFilter\n   \n\n   positionSize = 100 / (ta.atr(14) / close * 100)\n   \n\n   timeFilter = (time >= timestamp(\"00:30:00\")) and (time <= timestamp(\"23:00:00\"))\n   \n\n   atrValue = ta.atr(14)\n   dynamicStopLoss = atrValue * 1.5", "code_length": 949, "processed_at": "1749801644.9826775"}
{"metadata": {"file_path": "RSI指标改进交易策略RSI-Indicator-Improvement-Trading-Strategy.md", "name": "RSI Histogram Alert Strategy", "extension": ".md", "size_bytes": 7016, "modified_time": 1749801644.9906733, "description": "一、策略概述", "symbol": "unknown", "author": "unknown", "strategy_type": "量化", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 4, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA"], "strategy_patterns": [], "strategy_features": []}, "code": "RSIMain = (rsi(xPrice, RSIPeriod) - 50) * RSIHistoModify\n\n\nRSIMain = (rsi(xPrice, RSIPeriod) - 50) * RSIHistoModify", "code_length": 115, "processed_at": "1749801644.9906733"}
{"metadata": {"file_path": "SAR交替时间框架交易策略SAR-Alternating-Timeframe-Trading-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 6798, "modified_time": 1749801644.9946713, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 6, "function_count": 0, "class_count": 0, "comment_ratio": 0.5714285714285714, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA"], "frequency": "高频", "strategy_patterns": ["trend_following"], "strategy_features": ["market_regime"]}, "code": "SAR = SAR前值 + 加速因子(最高价 - SAR前值) # 多头趋势\nSAR = SAR前值 + 加速因子(最低价 - SAR前值) # 空头趋势\n\n\nSAR = Previous SAR + Acceleration Factor * (Highest Price - Previous SAR) # Uptrend \nSAR = Previous SAR + Acceleration Factor * (Lowest Price - Previous SAR) # Downtrend", "code_length": 249, "processed_at": "1749801644.9946713"}
{"metadata": {"file_path": "Telegram-发信接口-V200-Python.md", "name": "Telegram API接口 (FMZ.com)", "extension": ".md", "size_bytes": 2697, "modified_time": 1749801645.0066655, "description": "### 这个库目前只能Telegram发信 后续会增加更多功能。", "symbol": "unknown", "author": "unknown", "strategy_type": "unknown", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 10, "function_count": 0, "class_count": 0, "comment_ratio": 0.6363636363636364, "cyclomatic_complexity": 0}, "indicators": ["MA", "CCI"], "strategy_patterns": [], "strategy_features": []}, "code": "# key 为 Bot key\n## 获取 Bot key 可以参考 https://www.ccino.org/create-a-telegram-bot.html\n# chat_id 为收信用户Telegram ID\n## Telegram ID 可以通过 @dwx_aibot 机器人获取， 连接至此机器人后发送 /getid 即可获得 ChatID\nTelegram = ext.Telegram(key=string, chat_id=integer)    # 创建一个新的接口对象\n\n\n# chat_id 为可选项 默认会使用初始化时设置的ChatID\n# message 即为信息内容\nTelegram.Send(message=string, chat_id=integer)", "code_length": 347, "processed_at": "1749801645.0066655"}
{"metadata": {"file_path": "TypeScript-演示.md", "name": "TypeScript-演示", "extension": ".md", "size_bytes": 841, "modified_time": 1749801645.0106633, "description": "", "symbol": "unknown", "author": "unknown", "strategy_type": "量化", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 1, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["MA"], "strategy_patterns": [], "strategy_features": []}, "code": "// @ts-check", "code_length": 12, "processed_at": "1749801645.0106633"}
{"metadata": {"file_path": "US30多级趋势确认与风险管理策略-US30-Multi-Grade-Trend-Confirmation-Risk-Management-Strategy.md", "name": "### 概述", "extension": ".md", "size_bytes": 22287, "modified_time": 1749801645.0106633, "description": "## 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": true, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 66, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 18}, "indicators": ["RSI", "MA", "EMA", "ATR"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "atr = ta.atr(14)\n   longSL = close - atr * slMultiplier\n   longTP = close + atr * tpMultiplier\n   \n\n   timeFilter = (hour >= 14 and hour < 16) or (hour >= 9 and hour < 11)\n   \n\n   higherTimeframeTrend = request.security(syminfo.ticker, \"15\", close > ta.ema(close, 200))\n   longCondition = longBase and higherTimeframeTrend\n   \n\n   consecutiveLongSignals = longBase and longBase[1]\n   \n\n   adaptiveLength = math.round(ta.atr(14) / ta.atr(14)[20] * baseLength)\n   adaptiveRsi = ta.rsi(close, math.max(2, adaptiveLength))\n   \n\n   if setupGrade == \"A\"\n       tpMultiplier = 2.0\n   else if setupGrade == \"B\"\n       tpMultiplier = 1.5\n   else\n       tpMultiplier = 1.0\n   \n\n   volatilityFilter = ta.atr(14) > ta.sma(ta.atr(14), 20) * 0.8\n   \n\n   if (strategy.position_size > 0 and close > entryPrice * (1 + partialTpPerc/100))\n       strategy.exit(\"Partial\", \"Long\", qty_percent=50)\n   \n\n   atr = ta.atr(14)\n   longSL = close - atr * slMultiplier\n   longTP = close + atr * tpMultiplier\n   \n\n   timeFilter = (hour >= 14 and hour < 16) or (hour >= 9 and hour < 11)\n   \n\n   higherTimeframeTrend = request.security(syminfo.ticker, \"15\", close > ta.ema(close, 200))\n   longCondition = longBase and higherTimeframeTrend\n   \n\n   consecutiveLongSignals = longBase and longBase[1]\n   \n\n   adaptiveLength = math.round(ta.atr(14) / ta.atr(14)[20] * baseLength)\n   adaptiveRsi = ta.rsi(close, math.max(2, adaptiveLength))\n   \n\n   if setupGrade == \"A\"\n       tpMultiplier = 2.0\n   else if setupGrade == \"B\"\n       tpMultiplier = 1.5\n   else\n       tpMultiplier = 1.0\n   \n\n   volatilityFilter = ta.atr(14) > ta.sma(ta.atr(14), 20) * 0.8\n   \n\n   if (strategy.position_size > 0 and close > entryPrice * (1 + partialTpPerc/100))\n       strategy.exit(\"Partial\", \"Long\", qty_percent=50)", "code_length": 1761, "processed_at": "1749801645.0106633"}
{"metadata": {"file_path": "Uniswap-V3-交易类库Uniswap-V3-Trade-Template.md", "name": "code", "extension": ".md", "size_bytes": 48377, "modified_time": 1749801645.0106633, "description": "", "symbol": "unknown", "author": "unknown", "strategy_type": "量化", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 70, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 1}, "indicators": ["RSI", "MA", "EMA"], "frequency": "高频", "strategy_patterns": ["ml_based"], "strategy_features": []}, "code": "exchange.IO(\"api\", tokenAddress, \"decimals\")\nexchange.IO(\"api\", tokenAddress, \"approve\", 0x......., \"0xfffffffffffff\")\nexchange.IO(\"api\", tokenAddress, \"approve(address,uint256)\", 0x......., \"0xfffffffffffff\")\n\n\nexchange.IO(\"abi\", tokenAddress, abiContent)\n\n\nhttps://api.etherscan.io/api?module=contract&action=getabi&address=0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45\n\n\nexchange.IO(\"api\", ContractV3SwapRouterV2, \"multicall(uint256,bytes[])\", 123, (new Date().getTime() / 1000) + 3600, \"\")\n\n\nexchange.IO(\"api\", ContractV3SwapRouterV2, \"multicall(uint256,bytes[])\", ..., {gasPrice: 123456, gasLimit: 21000})\n\n\nexchange.IO(\"api\", \"eth\",  \"eth_getBalance\", self.walletAddress, \"latest\")\n\n\nexchange.IO(\"api\", \"eth\",  \"send\", toAddress, toAmount)\n\n\n// can encode with tuple\nlet types = \"tuple(a uint256,b uint8,c address),bytes\"\nlet ret = exchange.IO(\"encode\", types, {\n    a: 30,\n    b: 20,\n    c: \"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2\"\n}, \"0011\")\nLog(\"encode: \", ret)\n// decode tuple\nLog(\"decode:\", exchange.IO(\"decode\", types, ret))\n\n// join packed types\nlet path = exchange.IO(\"encodePacked\", \"address,uint24,address\", tokenAddressMap['1INCH'], 3000, tokenAddressMap['USDT'])\n// pack method call\nlet rawData = exchange.IO(\"encode\", ContractV3SwapRouterV2, \"checkOracleSlippage(bytes,uint24,uint32)\", path, 10000, 600)\n// parse abi raw data\nLog(\"method hash:\", rawData.slice(0, 8))\n\n\nexchange.IO(\"key\", \"219103fb1e058720b8431580cdc61ed77a270bac1f87503145b9e9b5cd8a92ce\")\n\n\n$.testUniswap = function() {\n    let ex = $.NewUniswapV3()\n    Log(\"walletAddress: \", ex.walletAddress)\n    let tokenAddressMap = {\n        \"ETH\": \"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2\", // WETH\n        \"USDT\": \"0xdac17f958d2ee523a2206206994597c13d831ec7\",\n        \"1INCH\": \"0x111111111117dC0aa78b770fA6A738034120C302\",\n    }\n    for (let name in tokenAddressMap) {\n        ex.addToken(name, tokenAddressMap[name])\n    }\n\n    Log(ex.getPrice('ETH_USDT'))\n    Log(ex.getPrice('1INCH_USDT'))\n    // swap 0.01 ETH to USDT\n    Log(ex.swapToken('ETH', 0.01, 'USDT'))\n    let usdtBalance = ex.balanceOf('USDT')\n    Log(\"balance of USDT\", usdtBalance)\n    // swap USDT to DAI then to ETH\n    Log(ex.swapToken('USDT', usdtBalance, 'DAI,ETH'))\n    \n    Log(\"balance of ETH\", ex.getETHBalance())\n    \n    // Log(ex.sendETH('0x11111', 0.02))\n}", "code_length": 2316, "processed_at": "1749801645.0106633"}
{"metadata": {"file_path": "WebSocket-加速驱动WebSocket-Acceleration-Driver.md", "name": "### 描述：", "extension": ".md", "size_bytes": 33742, "modified_time": 1749801645.0146613, "description": "## 描述：", "symbol": "unknown", "author": "unknown", "strategy_type": "量化", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 1, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "> Source (javascript)", "code_length": 21, "processed_at": "1749801645.0146613"}
{"metadata": {"file_path": "一种移动平均线指标策略-Moving-Average-Indicator-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 7038, "modified_time": 1749801645.0226574, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 8, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["MACD", "RSI", "KDJ", "MA", "ATR"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "低点 = 最近N天的最低价中的最低值 \n高点 = 最近N天的最高价中的最高值\nK值 = (当前close - 低点)/(高点 - 低点)* 100\n\n\nLow = the lowest low of the most recent N days  \nHigh = the highest high of the most recent N days\nK value = (Current close – Low)/(High – Low)*100", "code_length": 223, "processed_at": "1749801645.0226574"}
{"metadata": {"file_path": "三重叠加随机动量策略Triple-Overlapping-Stochastic-Momentum-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 13283, "modified_time": 1749801645.0306535, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "高频", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 4, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "BOLL", "MA", "EMA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "SMI = 100 * EMA(EMA(收盘价-最高价和最低价的中点,N1),N2) / 0.5 * EMA(EMA(最高价-最低价,N1),N2)\n\n\nSMI = 100 * EMA(EMA(Close - Midpoint of High-Low Range, N1), N2) / 0.5 * EMA(EMA(High - Low, N1), N2)", "code_length": 178, "processed_at": "1749801645.0306535"}
{"metadata": {"file_path": "三重移动平均线交叉系统Triple-Moving-Average-Crossover-System.md", "name": "# 概述", "extension": ".md", "size_bytes": 7722, "modified_time": 1749801645.0306535, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": false, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "medium"}, "complexity_metrics": {"loc": 101, "function_count": 0, "class_count": 0, "comment_ratio": 0.09803921568627451, "cyclomatic_complexity": 18}, "indicators": ["MACD", "RSI", "MA"], "frequency": "日内", "strategy_patterns": ["trend_following", "mean_reversion"], "strategy_features": ["risk_management", "market_regime"]}, "code": "其中,length1、length2和length3分别定义三条移动平均线的时间长度。sma函数计算close价格在对应长度上的简单移动平均值。\n\n然后使用三条移动平均线的交叉判断买入和卖出时机:\n\n\n\n\n当中期线ma2上穿长期线ma1,并且短期线ma3上穿前一周期的ma3时,发出做多信号。当中期线ma2下穿长期线ma1,并且短期线ma3下穿前一周期的ma3时,发出做空信号。\n\n## 策略优势\n\n- 使用三条移动平均线,可以比较清晰地判断趋势的变化。\n- 长短线的组合可以过滤掉一些短期的市场噪音,锁定较长线的趋势。\n- 规则简单容易操作。\n- 可以通过调整三条移动平均线的参数来适应不同的市场环境。\n\n## 策略风险\n\n- 买点卖点都是事后确认的,不能完全避免亏损。\n- 当股价在移动平均线附近震荡时,会出现多次假信号。\n- 长期线过长会错过趋势转折点。短期线过短会因噪音频繁交易。\n- 不能很好地处理横盘市。\n\n可以通过适当优化参数、结合其他指标作为过滤条件来减少这些风险。\n\n## 策略优化方向 \n\n- 可以测试不同长度参数的组合,寻找最佳参数。\n- 可以加入止损来控制亏损。\n- 可以添加其他指标判断力度和背离,避免误判。例如MACD,KD等。\n- 可以根据实际情况选择合适的止盈策略。\n\n## 总结\n\n三重移动平均线交叉策略属于简单实用的趋势跟踪策略。它根据三条移动平均线的交叉判断行情趋势的变化,以产生交易信号。该策略优点是规则简单,可以有效跟踪趋势,适合中长线操作。但也存在一定的假信号风险和回撤风险。可以通过参数优化、加入辅助指标等方法进行改进,以适应不同市场环境。总体来说,三重移动平均线交叉策略是量化交易的一个基础入门策略,对于学习算法交易是一个很好的开始。\n\n\n||\n\n\n## Overview\n\nThe Triple Moving Average Crossover System is a typical trend-following stock trading strategy. It uses the crossover of three moving averages of different time lengths as buy and sell signals. When the short period moving average crosses above the medium period moving average, and the medium period moving average crosses above the long period moving average, a buy signal is generated. When the short period moving average crosses below the medium period moving average, and the medium period moving average crosses below the long period moving average, a sell signal is generated.\n\n## Strategy Logic\n\nThe strategy is based on three moving averages: the long period moving average ma1, the medium period moving average ma2 and the short period moving average ma3. First it calculates these three lines:\n\n\n\n\nWhere length1, length2 and length3 define the time lengths of the three moving averages. The sma function calculates the simple moving average of the close price over the corresponding length.\n\nIt then uses the crossover of the three moving averages to determine entries and exits:\n\n\n\n\nWhen the medium term ma2 crosses above the long term ma1, and the short term ma3 crosses above the previous period's ma3, a long signal is triggered. When the medium term ma2 crosses below the long term ma1, and the short term ma3 crosses below the previous period's ma3, a short signal is triggered.\n\n## Advantages of the Strategy\n\n- Using three moving averages can clearly identify trend changes.\n- The combination of long and short periods filters out some short term market noise and locks in longer term trends. \n- Simple rules make it easy to implement.\n- Parameters can be adjusted to adapt to different market environments.\n\n## Risks of the Strategy\n\n- Entries and exits are identified in hindsight and cannot completely avoid losses.\n- Whipsaws occur when the price oscillates around moving averages.\n- Long period line that is too long may miss trend turning points. Short period line that is too short may trigger frequent trades due to noise.\n- Does not handle ranging markets very well.\n\nThese risks can be reduced through appropriate parameter optimization, adding filters with other indicators etc.\n\n## Improvement Directions\n\n- Backtest different parameter combinations to find optimal values.\n- Add stop loss to control losses.\n- Add other indicators to judge momentum and divergence to avoid false signals. E.g. MACD, KD etc.\n- Choose suitable profit taking strategy according to actual situation.\n\n## Summary \n\nThe Triple Moving Average Crossover strategy is a simple and practical trend following strategy. It identifies changes in trend direction based on the crossover of three moving averages to generate trading signals. The advantages of this strategy are its simple rules and effective tracking of trends, making it suitable for medium to long term trading. However, there are also risks of false signals and drawdowns. The strategy can be improved by optimizing parameters, adding supporting indicators etc. to adapt to different market environments. Overall, the Triple Moving Average Crossover is a foundational algorithmic trading strategy that provides a good starting point for learning quantitative trading.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1|18|长线|\n|v_input_2|9|中线|\n|v_input_3|4|短线|\n\n\n> Source (PineScript)", "code_length": 4157, "processed_at": "1749801645.0306535"}
{"metadata": {"file_path": "交互模板.md", "name": "FF0000\")", "extension": ".md", "size_bytes": 3804, "modified_time": 1749801645.0346513, "description": "", "symbol": "unknown", "author": "unknown", "strategy_type": "量化", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 18, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 1}, "indicators": ["MA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "// 测试代码\n  function main() {\n      $.BindingFunc(\"test1\", function(cmd, param){                     // 绑定 控件名称为 test1 的按钮，function(cmd, param){...} 为该按钮的响应函数， 响应函数 第一个参数为 触发响应函数的控件名称即：test1\n          var ticker = exchange.GetTicker()                            // 第二个 param 参数是 控件点击时 附带的 参数（数值类型、字符串类型、布尔类型、下拉框 都有附带参数，按钮类型没有附带参数）\n          Log(\"控件：\", cmd, \"ticker:\", ticker, \" 参数:\", param)\n      })\n      $.BindingFunc(\"test3\", function(cmd, param){                     // 绑定 test3 ...\n          var account = exchange.GetAccount()\n          Log(\"account:\", account, \"cmd:\", cmd, \"param:\", param)\n      })\n      $.BindingFunc(\"test5\", function(){                               // 绑定 test5 ... \n          Log(exchange.GetName())\n      })\n      while(1){\n          $.GetCommand()                                               // 主循环中 检测 交互命令。\n          Sleep(2000)\n      }\n  }", "code_length": 873, "processed_at": "1749801645.0346513"}
{"metadata": {"file_path": "价格动量追踪策略Price-Momentum-Tracking-Strategy.md", "name": "## 概述", "extension": ".md", "size_bytes": 9575, "modified_time": 1749801645.0386493, "description": "# 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": true, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "medium"}, "complexity_metrics": {"loc": 161, "function_count": 0, "class_count": 0, "comment_ratio": 0.06172839506172839, "cyclomatic_complexity": 29}, "indicators": ["MACD", "RSI", "MA"], "frequency": "日内", "strategy_patterns": ["trend_following", "momentum", "ml_based"], "strategy_features": ["risk_management", "position_sizing", "market_regime"]}, "code": "其中,`swma`为运动平均线,`vwap`为成交量加权平均价。这二者都能反映价格平均水平。\n\n然后比较价格与均值的大小关系,判断是否上穿均线和均价,从而判断是否属于看涨信号:  \n\n\n\n\n为过滤假信号,要求这两个指标之前没有给出信号:\n\n\n\n\n接下来保存看涨信号:\n\n\n\n\n最后,当保存了上穿信号,并且价格再度上穿均线时,产生开仓信号:\n\n\n\n\n这样可以过滤掉部分假信号,使得信号更加可靠。\n\n策略还包含止损止盈设置。止损距离为可配置,止盈设置为止损的一定倍数。\n\n### 优势分析\n\n该策略具有以下优势:\n\n1. 使用价格动量指标,能较好判断趋势方向\n2. 结合双重指标和多步判断,可过滤假信号,使策略更可靠\n3. 止损止盈设置合理,可以控制单笔交易风险\n4. 策略参数可配置,适应不同市场环境\n5. 策略逻辑简单直接,容易理解实现\n\n### 风险分析\n\n该策略也存在一些风险:  \n\n1. 均线指标存在滞后,可能错过部分价格波动  \n2. 效果依赖参数设置,不同参数组合效果差异大\n3. 买点信号较少,存在一定漏单风险  \n4. 多步判断会过滤部分机会,可能影响盈利水平\n\n对策:\n1. 可以测试不同均线参数,优化参数设置\n2. 适当简化判断逻辑,增加买点信号\n3. 调整止损止盈比例,控制单笔损失\n\n### 优化方向  \n\n该策略还可以从以下方向进行优化:\n\n1. 测试更多价格动量指标,如MACD、DMI等\n2. 增加卖出信号判断,实现双向交易\n3. 结合交易量指标,避免潜在的假突破\n4. 根据回测结果优化参数设置\n5. 考虑根据市场环境自动调整参数\n6. 增加机器学习算法,实现参数自适应优化\n\n这些优化可以提高策略灵活性、稳健性与盈利水平。\n\n### 总结  \n\n该价格动量追踪策略整体来说是简单直接、逻辑清晰的趋势追踪策略。策略使用价格均线和均价判断价格动量方向,并设计多步验证机制来提高信号质量。策略同时包含合理的止损止盈设定。从代码量来看,策略逻辑非常简洁,只需要20多行pine脚本即可实现。总的来说,该策略是一个非常好的学习案例,初学者可以作为量化交易战略理解的很好的起点。当然,策略本身也具有实际的交易价值,通过参数优化和功能扩展,可以成为避免噪音、跟踪趋势的实用交易系统。\n\n||\n\n### Overview\n\nThis strategy uses price momentum indicators to determine the trading direction. Specifically, it calculates the moving average and mean price respectively. When the price crosses above the moving average and mean price, a buy signal is generated. To filter out false signals, it requires no similar previous signals. Then it saves the signal status and generates the final opening position signal in combination with the moving average. The strategy also contains stop loss and take profit settings.\n\n### Strategy Principle\n\nThe strategy mainly relies on price momentum indicators to judge the trend direction. First it calculates the moving average and mean price of the price:  \n\n\n\n\nWhere `swma` is the smoothed moving average and `vwap` is volume weighted average price. Both can reflect the average price level.  \n\nThen compare the price with the average to see if the price crosses above the moving average and mean price, to judge if it is a bullish signal:\n\n\n\n\nTo filter out false signals, it requires no previous signals from these two indicators:\n\n\n\n\nNext, save the bullish signal:  \n\n\n\n\nFinally, when the saved crossing signal and the price crosses above the moving average again, generate the opening position signal:  \n\n\n\n\nThis can filter out some false signals and make the signals more reliable.  \n\nThe strategy also contains stop loss and take profit settings. The stop loss distance is configurable, and the take profit is set to a certain multiple of the stop loss.\n\n### Advantage Analysis  \n\nThe strategy has the following advantages:\n\n1. Using price momentum indicators can better judge the trend direction  \n2. The combination of dual indicators and multi-step verification can filter false signals and make the strategy more reliable\n3. The stop loss and take profit settings are reasonable to control single trade risk\n4. The strategy parameters are configurable to adapt to different market environments \n5. The strategy logic is simple and straightforward, easy to understand and implement\n\n### Risk Analysis   \n\nThe strategy also has some risks:\n\n1. The moving average indicator has a lag and may miss some price fluctuations  \n2. The effect relies on parameter settings, and different parameter combinations can make big differences\n3. There are relatively few buy signals, with some missed trade risks\n4. Multi-step verification will filter some opportunities, which may impact profit level  \n\nCountermeasures:\n1. Test different moving average parameters for parameter optimization\n2. Slightly simplify the logical judgment to increase buy signals  \n3. Adjust the stop loss and take profit ratio to control single loss\n\n### Optimization Directions   \n\nThe strategy can also be optimized in the following directions:  \n\n1. Test more price momentum indicators such as MACD, DMI, etc.  \n2. Add sell signal judgments to implement dual-direction trading\n3. Incorporate trading volume indicators to avoid potential false breakouts  \n4. Optimize parameter settings based on backtest results  \n5. Consider automatically adjusting parameters based on market conditions\n6. Add machine learning algorithms to achieve parameter self-adaptive optimization  \n\nThese optimizations can improve strategy flexibility, robustness and profitability.  \n\n### Summary   \n\nOverall, this price momentum tracking strategy is a simple, straightforward and logical trend tracking strategy. The strategy uses price moving averages and mean prices to determine price momentum direction, and designs a multi-step verification mechanism to improve signal quality. The strategy also contains reasonable stop loss and take profit settings. In terms of code, the strategy logic is very concise, requiring only 20+ lines of Pine script to implement. In summary, this strategy is a very good learning example, beginners can use it as a very good starting point to understand quantitative trading strategies. Of course, the strategy itself also has practical trading value. Through parameter optimization and function expansion, it can become a practical trading system to avoid noise and track trends.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1|false|Consecutive Orders|\n|v_input_2|250|Stop Loss|\n|v_input_3|10|Reward/Risk|\n\n\n> Source (PineScript)", "code_length": 5260, "processed_at": "1749801645.0386493"}
{"metadata": {"file_path": "价格异常波动反转策略Price-Volatility-Mean-Reversion-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 10525, "modified_time": 1749801645.0386493, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "unknown", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": true, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "medium"}, "complexity_metrics": {"loc": 133, "function_count": 0, "class_count": 0, "comment_ratio": 0.08955223880597014, "cyclomatic_complexity": 17}, "indicators": ["MACD", "RSI", "KDJ", "BOLL", "MA"], "frequency": "高频", "strategy_patterns": ["trend_following", "mean_reversion"], "strategy_features": ["risk_management", "position_sizing"]}, "code": "其中,wvf 是价格波动率,sDev 是标准差,midLine 是平均线,lowerBand 和 upperBand 分别是下限线和上限线。当价格超过上限线,则认为出现异常波动。\n\n2. RSI 指标:计算价格的相对强弱指数,判断价格反转的时机。具体计算方法是:\n\n\n\n\n当RSI低于某一数值时,表示价格处于超卖状态,可能出现反弹。当RSI超过某一数值时,表示价格处于超买状态,可能出现回落。\n\n## 入场和出场\n\n该策略的入场和出场逻辑如下:\n\n多仓入场:当价格超过上限线或波动率超过阈值,且RSI低于某一数值时,做多。\n\n空仓入场:当价格超过上限线或波动率超过阈值,且RSI超过某一数值时,做空。 \n\n出场条件:开仓方向与K线实体方向相反时平仓。\n\n## 优势\n\n- 利用价格异常波动的统计特性,判断价格反转的时机,覆盖面广。\n- 结合RSI指标判断超买超卖状态,可以提高入场的精确度。\n- 采用突破标准差下限作为入场信号,可以减少错失机会。\n- 采用实体反转作为止损方式,可以快速止损,降低亏损。\n\n## 风险\n\n- 标准差下限可能会调整,需要优化参数。\n- 突破标准差下限不一定产生反转,存在被套的风险。\n- RSI参数需要优化,如果不合适可能导致信号不精确。 \n- 实体方向判定止损可能会过于激进,需要调整参数。\n\n## 优化思路\n\n- 优化计算标准差的周期参数,使其更能捕捉价格异常波动。\n- 优化RSI的参数,找到更好的超买超卖判定标准。\n- 尝试其他指标结合,如KDJ、MACD等判断反转时机。\n- 优化止损方式,设置价格回调幅度作为止损标准。\n\n## 总结\n\n该策略通过计算价格波动率的标准差,判断价格是否出现异常波动,从而捕捉反转机会。在入场时机选择上,则结合RSI指标判断价格的超买超卖状态,提高精确度。在止损方式上采用简单的实体方向止损。整体来说,该策略利用统计数据判断异常波动,效果较好,但需要进一步优化参数,提高稳定性。如果能够合理优化止损机制,降低亏损,该策略的效果会更好。\n\n||\n\n\n## Overview\n\nThis strategy detects price reversal opportunities by calculating the standard deviation of price volatility. When there is an anomalously large price fluctuation, it is considered as an opportunity for price reversal, and reverse trading positions are taken.\n\n## Principle \n\nThe strategy uses two main indicators:\n\n1. VixFix indicator: Calculates the standard deviation of price over a certain period to determine if there is anomalous price volatility. The specific calculation is:\n\n\n\n\nWhere wvf is price volatility, sDev is standard deviation, midLine is the average line, lowerBand and upperBand are the lower and upper limit lines. When price exceeds the upper limit line, it is considered anomalous volatility.\n\n2. RSI indicator: Calculates the Relative Strength Index of price to determine timing of price reversal. The calculation is:\n\n\n\n\nWhen RSI is below a threshold, it indicates oversold status and potential bounce back. When RSI exceeds a threshold, it indicates overbought status and potential pullback.\n\n## Entry and Exit\n\nThe entry and exit logic is:\n\nLong entry: When price exceeds upper limit or volatility exceeds threshold, and RSI is below a value, go long.\n\nShort entry: When price exceeds upper limit or volatility exceeds threshold, and RSI exceeds a value, go short.\n\nExit: When candlestick body direction is opposite of position direction, close position.\n\n## Advantages\n\n- Uses statistical properties of anomalous price volatility to determine price reversal with wide coverage.\n- Combining with RSI to judge overbought/oversold improves entry precision.  \n- Breaking lower deviation band as entry signal reduces missing opportunities.\n- Candlestick body reversal as stop loss realizes quick stop loss and reduces losses.\n\n## Risks\n\n- Lower deviation band may need adjustment for parameter optimization.\n- Breaking lower band does not guarantee reversal, risks being trapped.\n- RSI parameters need optimization, improper values lead to inaccurate signals.\n- Candlestick body stop loss may be too aggressive, needs adjustment.\n\n## Optimization Directions \n\n- Optimize calculation period of standard deviation to better capture anomalous volatility.\n- Optimize RSI parameters to find better overbought/oversold criteria. \n- Try combining other indicators like KDJ, MACD to determine reversal timing.\n- Optimize stop loss mechanism, set price retracement as stop loss benchmark.\n\n## Conclusion\n\nThe strategy detects anomalous price volatility through calculating standard deviation of price volatility, to capture reversal opportunities. RSI is combined to judge overbought/oversold status for improving entry precision. Simple candlestick body direction stop loss is used. Overall, the strategy is effective in using statistical data to detect anomalous volatility, but needs further parameter optimization to improve stability. If the stop loss mechanism can be reasonably optimized to reduce losses, the strategy would perform even better.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1|true|Long|\n|v_input_2|true|Short|\n|v_input_3|true|leverage|\n|v_input_4|40|RSI Limit|\n|v_input_5|22|LookBack Period Standard Deviation High|\n|v_input_6|20|Bolinger Band Length|\n|v_input_7|2|Bollinger Band Standard Devaition Up|\n|v_input_8|50|Look Back Period Percentile High|\n|v_input_9|0.85|Highest Percentile - 0.90=90%, 0.95=95%, 0.99=99%|\n|v_input_10|1.01|Lowest Percentile - 1.10=90%, 1.05=95%, 1.01=99%|\n|v_input_11|false|Show High Range - Based on Percentile and LookBack Period?|\n|v_input_12|false|Show Standard Deviation Line?|\n|v_input_13|1900|From Year|\n|v_input_14|2100|To Year|\n|v_input_15|true|From Month|\n|v_input_16|12|To Month|\n|v_input_17|true|From day|\n|v_input_18|31|To day|\n\n\n> Source (PineScript)", "code_length": 4651, "processed_at": "1749801645.0386493"}
{"metadata": {"file_path": "典型的趋势跟踪策略Dual-Moving-Average-Crossover-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 8727, "modified_time": 1749801645.0466454, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": true, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 72, "function_count": 0, "class_count": 0, "comment_ratio": 0.0547945205479452, "cyclomatic_complexity": 15}, "indicators": ["MACD", "RSI", "MA", "EMA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "emaLen1 = emaFuncOne(close, lenMA1)  \nemaLen2 = emaFuncTwo(close, lenMA2)\n\n\ncurrentState = if emaLen2 > emaLen1  \n    0\nelse\n    1\n\npreviousState = if emaLastLen2 > emaLastLen1\n    0  \nelse\n    1\n\nconvergence = if currentState != previousState\n    1\nelse \n    0\n\n\nemaLen1 = emaFuncOne(close, lenMA1)\nemaLen2 = emaFuncTwo(close, lenMA2)  \n\n\n  \nWhen the shorter period EMA crosses over the longer period EMA, currentState is not equal to previousState, a crossover signal is triggered, go long. \nWhen the shorter period EMA crosses below the longer period EMA, currentState is not equal to previousState, a crossover signal is triggered, go short.\n\n## Advantage Analysis   \n\nThe advantages of this strategy are:  \n\n1. The logic is simple and intuitive, easy to understand and implement  \n2. Smoothes price fluctuations with EMA and filters out market noise  \n3. Automatically follows trends, avoids missing trades   \n\n## Risk Analysis   \n\nThere are also some risks with this strategy:   \n\n1. Crossover signals may lag and fail to capture reversals in a timely manner\n2. Whipsaw signals may occur frequently during ranging markets  \n3. Poor parameter tuning may cause oversensitivity or delays\n\nOptimization can be done by adjusting EMA periods or adding filters.  \n\n## Optimization Directions\n\nThis strategy can be optimized from the following aspects:  \n\n1. Test different EMA period combinations  \n2. Add volume or volatility filters to reduce false signals\n3. Incorporate other indicators like MACD to confirm trends  \n4. Optimize money management with stop loss and take profit\n\n## Conclusion  \n\nThe Dual Moving Average Crossover strategy is a simple and practical trend following system overall. It is straight-forward, easy to implement and can automatically track trends. But some risks like lagging and false signals exist. With parameter tuning and adding filters, it can be further improved to become one of the fundamental algorithmic trading strategies.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1|30|Length 1|\n|v_input_2|60|Length 2|\n\n\n> Source (PineScript)", "code_length": 2118, "processed_at": "1749801645.0466454"}
{"metadata": {"file_path": "内部价格强度趋势反转交易系统-Internal-Bar-Strength-Trend-Reversal-Trading-System.md", "name": "### 概述", "extension": ".md", "size_bytes": 21697, "modified_time": 1749801645.0466454, "description": "## 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 4, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA", "EMA", "ATR"], "frequency": "日线", "strategy_patterns": [], "strategy_features": []}, "code": "IBS = (前一日收盘价 - 前一日最低价) / (前一日最高价 - 前一日最低价)\n\n\nIBS = (Previous Day's Close - Previous Day's Low) / (Previous Day's High - Previous Day's Low)", "code_length": 140, "processed_at": "1749801645.0466454"}
{"metadata": {"file_path": "切换OKEX_V5模拟盘交易终端插件.md", "name": "# 交易终端OKEX_V5模拟盘切换插件", "extension": ".md", "size_bytes": 1216, "modified_time": 1749801645.0466454, "description": "交易终端OKEX_V5模拟盘切换插件", "symbol": "unknown", "author": "unknown", "strategy_type": "量化", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 1, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["MA"], "strategy_patterns": [], "strategy_features": []}, "code": "{\"msg\":\"Broker id of APIKey does not match current environment.\",\"code\":\"50101\"}", "code_length": 80, "processed_at": "1749801645.0466454"}
{"metadata": {"file_path": "利用价格动量指标实现的趋势跟踪策略Momentum-Breakout-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 7371, "modified_time": 1749801645.0466454, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 4, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "momentum = close - close[n]\n\n\nmomentum = close - close[n]", "code_length": 57, "processed_at": "1749801645.0466454"}
{"metadata": {"file_path": "动态区间突破策略Dynamic-Range-Breakout-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 9246, "modified_time": 1749801645.0586395, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": true, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 38, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 8}, "indicators": ["RSI", "BOLL", "MA"], "frequency": "日线", "strategy_patterns": ["trend_following"], "strategy_features": []}, "code": "src = low \nbasis = sma(src, length)\ndev = mult * stdev(src, length) \nlower = basis - dev\n\n\nlow < lower  // 价格突破下轨\nclose < open or usecol == false // 色彩过滤\nnbody > abody / 2 or usebod == false // 实体过滤\n\n\nclose > open and nbody > abody / 2\n\n\nlot = strategy.position_size == 0 ? strategy.equity / close * capital / 100 : lot[1]  \n\n\nwhen=(time > timestamp(fromyear, frommonth, fromday, 00, 00) and time < timestamp(toyear, tomonth, today, 23, 59))\n\n\nsrc = low\nbasis = sma(src, length) \ndev = mult * stdev(src, length)\nlower = basis - dev\n\n\nlow < lower // price breaks lower band\nclose < open or usecol == false // color filter\nnbody > abody / 2 or usebod == false // body filter  \n\n\nclose > open and nbody > abody / 2  \n\n\nlot = strategy.position_size == 0 ? strategy.equity / close * capital / 100 : lot[1] \n\n\nwhen=(time > timestamp(fromyear, frommonth, fromday, 00, 00) and time < timestamp(toyear, tomonth, today, 23, 59))", "code_length": 918, "processed_at": "1749801645.0586395"}
{"metadata": {"file_path": "动态突破均线交易策略Dynamic-Moving-Average-Crossover-Trading-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 11904, "modified_time": 1749801645.0666354, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 8, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["MACD", "RSI", "KDJ", "MA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "b = abs(close-open)/(high - low) \nc = min(max(b, 0), 1)\nRatio OCHL Averager = c*close + (1-c)*前一日Ratio OCHL Averager\n\n\nb = abs(close-open)/(high - low)\nc = min(max(b, 0), 1)  \nRatio OCHL Averager = c*close + (1-c)*previous Ratio OCHL Averager", "code_length": 242, "processed_at": "1749801645.0666354"}
{"metadata": {"file_path": "动量反转指数策略Relative-Momentum-Index-Strategy.md", "name": "## 概述", "extension": ".md", "size_bytes": 7325, "modified_time": 1749801645.0786295, "description": "# 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 12, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "xMom = xPrice - xPrice[Length]  //计算Length周期内的价格变动\nxMU = 如果xMom >= 0:之前xMU减去xMU/Length加上xMom;否则:之前xMU \nxMD = 如果xMom <= 0:之前xMD减去xMD/Length加上xMom的绝对值;否则:0\nRM = xMU / xMD  \nRMI = 100 * (RM / (1 + RM))\n\n\nxMom = xPrice - xPrice[Length]  // Price change over Length periods\nxMU = If xMom >= 0: previous xMU minus xMU/Length plus xMom; else: previous xMU\nxMD = If xMom <= 0: previous xMD minus xMD/Length plus absolute value of xMom; else: 0 \nRM = xMU / xMD\nRMI = 100 * (RM / (1 + RM))", "code_length": 479, "processed_at": "1749801645.0786295"}
{"metadata": {"file_path": "动量张弛指标与123形态策略Momentum-Oscillator-123-Pattern-Strategy.md", "name": "## 概述", "extension": ".md", "size_bytes": 12146, "modified_time": 1749801645.0826275, "description": "# 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 10, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["MACD", "RSI", "MA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "DMI = RSI(DTime)\n\n其中:\nDTime = 14 / X日收盘价标准差的10日均值\n\n\nDMI = RSI(DTime)  \n\nWhere:  \nDTime = 14 / 10-day SMA of standard deviation of close over past 5 days", "code_length": 152, "processed_at": "1749801645.0826275"}
{"metadata": {"file_path": "动量绝对值指标策略Absolute-Momentum-Indicator-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 8211, "modified_time": 1749801645.0906234, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": false, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 56, "function_count": 0, "class_count": 0, "comment_ratio": 0.07017543859649122, "cyclomatic_complexity": 13}, "indicators": ["RSI", "MA"], "frequency": "日线", "strategy_patterns": [], "strategy_features": []}, "code": "AbsCMO =  abs(100 * (最新收盘价 - Length周期前的收盘价) / (Length周期内价格波动绝对值的简单移动平均 * Length))\n\n\n\nWhere Length represents the length of averaging period. The range of AbsCMO values is from 0 to 100. This indicator combines directionality and strength of momentum monumentality to clearly determine medium-term market trends and overbought/oversold areas.  \n\nWhen AbsCMO breaks through the specified upper rail (default 70), it indicates the market has entered overbought territory and goes short; when AbsCMO breaks through the specified lower rail (default 20), it indicates the market has entered oversold territory and goes long.\n\n## Advantage Analysis   \n\nCompared with other momentum indicators, the AbsCMO indicator has the following advantages:  \n\n1. It reflects the absolute momentum of price and judges medium-term trends more accurately;\n2. It identifies overbought/oversold conditions more clearly by incorporating directionality and strength;  \n3. Its range is limited between 0-100, making it more suitable for comparison across different products;  \n4. It is less sensitive to short-term volatility, reflecting medium-term trends;\n5. Customizable parameters make it highly adaptable.   \n\n## Risk Analysis   \n\nThe main risks of this strategy are:   \n\n1. As a medium-term indicator, it is less sensitive to short-term fluctuations;  \n2. The default parameters may not suit all products and need to be optimized;\n3. Long holding periods can lead to large drawdowns.  \n\nThese risks could be reduced by shortening holding periods, optimizing parameters, or incorporating other indicators.  \n\n## Optimization Directions  \n\nThis strategy can be optimized from the following aspects:  \n\n1. Optimize the parameters of AbsCMO to adapt to more products;  \n2. Incorporate other indicators to filter false signals;\n3. Set stop loss and take profit rules to control risks;\n4. Leverage technologies like deep learning to find better entry points.\n\n## Conclusion  \n\nIn summary, the Absolute Momentum Indicator Strategy is a useful medium-term trading strategy. It reflects the absolute momentum characteristics of price over the medium term and has strong predictive power of medium-term trends. However, this strategy is less sensitive to short-term fluctuations and carries certain risks. Further improvements like parameter optimization, indicator filters, stop loss mechanisms can make its live performance more steady and reliable.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1|9|Length|\n|v_input_2|70|TopBand|\n|v_input_3|20|LowBand|\n|v_input_4|false|Trade reverse|\n\n\n> Source (PineScript)", "code_length": 2627, "processed_at": "1749801645.0906234"}
{"metadata": {"file_path": "即时突破波动率EMA趋势策略Zero-Lag-Volatility-Breakout-EMA-Trend-Strategy.md", "name": "## 概述", "extension": ".md", "size_bytes": 7048, "modified_time": 1749801645.0986195, "description": "# 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 10, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "BOLL", "MA", "EMA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "hJumper = math.max(src,ta.ema(src,lx)) \n\nlJumper = math.min(src,ta.ema(src,lx))\n\ndif = (hJumper / lJumper) - 1\n\n\nhJumper = math.max(src,ta.ema(src,lx))\nlJumper = math.min(src,ta.ema(src,lx))  \ndif = (hJumper / lJumper) - 1", "code_length": 222, "processed_at": "1749801645.0986195"}
{"metadata": {"file_path": "原生多线程JavaScript与WASM性能比较.md", "name": "'+tid, info.ret, 'elapsed:', info.elapsed / 1e6, \"#ff0000\")", "extension": ".md", "size_bytes": 4462, "modified_time": 1749801645.0986195, "description": "", "symbol": "unknown", "author": "unknown", "strategy_type": "量化", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 45, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 1}, "indicators": ["MA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "int fib(int f) {\n  if (f < 2) return f;\n  return fib(f - 1) + fib(f - 2);\n}\n\n\npython -c \"print('data:hex,'+bytes.hex(open('program.wasm','rb').read()))\"\n\n\nlet tid = __Thread(function(x, y) {\n    return x + y\n}, 1, 2)\nLog(__threadJoin(tid))\n\n\nfunction main() {\n    let threads = [\n        \"https://www.baidu.com\",\n        \"https://www.163.com\"\n    ].map(function(url) {\n        return __Thread(function(url) {\n            Log(\"GET\", url)\n            return HttpQuery(url)\n        }, url)\n    })\n    threads.forEach(function(tid) {\n        Log(__threadJoin(tid))\n    })\n}\n\n\n__threadGetData(tid, key)\n__threadSetData(tid, key, value)\n\n\n__threadPostMessage(tid, msg) // 向指定线程发送消息, tid为0是向主线程即当前主函数发送, 在线程内部调用指向主线程回复消息, 该消息可以被EventLoop捕获\n__threadPeekMessage(tid, timeout) // 从指定线程接收消息, 如果不指定timeout(毫秒)就一直等待, tid为0指等待主线程的消息\n\n\n{\n    id: tid, // 线程id\n    elapsed: 1111, // 线程的运行时间(纳秒)\n    terminated: false, // 线程是否被强制结束 \n    ret: 123, // 线程函数的返回值\n}", "code_length": 942, "processed_at": "1749801645.0986195"}
{"metadata": {"file_path": "双EMA金叉死叉交易策略Dual-EMA-Crossover-Trading-Strategy.md", "name": "## 概述", "extension": ".md", "size_bytes": 9578, "modified_time": 1749801645.0986195, "description": "# 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": true, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "medium"}, "complexity_metrics": {"loc": 149, "function_count": 0, "class_count": 0, "comment_ratio": 0.06666666666666667, "cyclomatic_complexity": 23}, "indicators": ["MACD", "RSI", "BOLL", "MA", "EMA", "ATR"], "frequency": "日内", "strategy_patterns": ["trend_following", "mean_reversion", "ml_based"], "strategy_features": ["risk_management", "position_sizing", "multi_timeframe", "market_regime"]}, "code": "该策略首先设置快慢两个EMA均线,其中快EMA线周期为25,慢EMA线周期为75。然后计算两条EMA线的值。当快EMA线从下方向上突破慢EMA线时,产生longCondition条件为真;当快EMA从上方向下跌破慢EMA时,产生shortCondition条件为真。满足相应条件时,做多或做空。\n\n该策略利用了EMA均线的平滑特点,可以有效过滤市场Noise,同时又能快速捕捉趋势的变化。两条EMA均线间的金叉死叉交叉为一个较强的交易信号,可以有效控制交易风险。\n\n### 优势分析\n\n该策略有以下几点优势:\n\n1. 操作思路简单直观,容易理解实现。\n\n2. 利用EMA平滑市场波动,有效过滤False Signal。\n\n3. 金叉死叉是较强的交易信号,可以有效控制风险。\n\n4. 可灵活调整EMA周期,适用于不同市场环境。\n\n5. 容易与其他技术指标组合使用。\n\n6. 可通过优化EMA参数来获得更好的策略效果。\n\n### 风险分析 \n\n该策略也存在一些风险:\n\n1. 在震荡行情中,EMA交叉频繁,会产生大量无效交易信号。\n\n2. EMA具有滞后性,可能错过短线机会。\n\n3. 仅靠EMA交叉无法确定趋势转折点,存在一定盈利上限。\n\n4. 固定的EMA周期不能适应市场的变化。\n\n5. 需要较强的资金支持,否则衍生风险大。\n\n6. 需要严格的止损约束,否则单笔损失可能很大。\n\n### 优化方向\n\n该策略可以从以下几个方面进行优化:\n\n1. 优化EMA周期参数,适应不同市场情况。\n\n2. 增加其他指标过滤,如MACD、布林带等,提高信号质量。 \n\n3. 增加趋势判断指标,如ATR止损、ADX等,减少无效交易。\n\n4. 结合更多时间周期分析,判断趋势方向。\n\n5. 利用机器学习方法动态优化EMA周期。\n\n6. 优化仓位管理,以控制风险。\n\n7. 优化止损策略,降低单笔损失。\n\n### 总结\n\n本策略运用双EMA均线的金叉死叉交叉作为交易信号,形成一个较为经典的趋势跟随策略。该策略简单易行,容易与其他技术指标组合,适用于对趋势判断要求不高的投资者。但也存在一定的盈利上限和风险,需要进行适当优化以适应不同市场环境。总体来说,该策略提供了一个非常好的策略开发基础,可供投资者进行深入研究。\n\n||\n\n## Overview\n\nThis strategy uses the golden cross and death cross of dual EMA lines to determine entry and exit timing. Specifically, when the fast EMA line crosses above the slow EMA line from the bottom, a golden cross signal is generated for long entry. When the fast EMA line crosses below the slow EMA line from the top, a death cross signal is generated for short entry. This strategy is simple and easy to implement, and is a very common trading strategy.\n\n## Strategy Logic\n\nThe core code of this strategy is as follows:\n\n\n\n\nThis strategy first sets two EMA lines, with the fast EMA period as 25 and slow EMA period as 75. It then calculates the values of the two EMA lines. When the fast EMA crosses above the slow EMA, the longCondition becomes true. When the fast EMA crosses below the slow EMA, the shortCondition becomes true. Upon the corresponding conditions being true, it goes long or short.\n\nThis strategy utilizes the smoothing feature of EMA to filter market noise, while being able to quickly capture trend changes. The golden and death crosses between the two EMA lines form relatively strong trading signals, which can effectively control trading risk.\n\n## Advantage Analysis\n\nThe advantages of this strategy include:\n\n1. The logic is simple and intuitive, easy to understand and implement.\n\n2. EMA smoothes market fluctuation and filters false signals effectively. \n\n3. Golden cross and death cross are strong trading signals to control risk.\n\n4. Flexible EMA periods suit different market environments. \n\n5. Easy to combine with other technical indicators.\n\n6. EMA parameters can be optimized for better results.\n\n## Risk Analysis\n\nThe risks of this strategy include:\n\n1. Frequent ineffective signals in range-bound markets as EMA crosses frequently.\n\n2. Lagging of EMA may miss short-term opportunities. \n\n3. EMA crossover alone cannot identify trend reversal, limiting profit potential.\n\n4. Fixed EMA periods cannot adapt to market changes.\n\n5. Requires significant capital, otherwise magnifies risk.\n\n6. Needs strict stop loss, otherwise single loss can be huge.\n\n## Optimization Directions\n\nThe strategy can be optimized in the following aspects:\n\n1. Optimize EMA periods for different market conditions.\n\n2. Add other filters like MACD, Bollinger Bands to improve signal quality.\n\n3. Add trend judging indicators like ATR, ADX to reduce ineffective trades.\n\n4. Incorporate multi-timeframe analysis to determine trend direction. \n\n5. Use machine learning to dynamically optimize EMA periods.\n\n6. Optimize position sizing to control risk.\n\n7. Optimize stop loss strategies to limit single loss.\n\n## Summary \n\nThis strategy uses dual EMA golden cross and death cross as trading signals, forming a classical trend following strategy. It is simple and easy to implement, and can be combined with other indicators, suiting investors with relatively low requirements on trend judgment. But it also has profit limits and risks, requiring proper optimizations for different market environments. Overall, it provides an excellent basis for strategy development and in-depth research.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1|ema|matype|\n|v_input_2|false|hidema|\n|v_input_3_close|0|Source Type: close|high|low|open|hl2|hlc3|hlcc4|ohlc4|\n|v_input_4|true|Start Date|\n|v_input_5|true|Start Month|\n|v_input_6|2020|Start Year|\n|v_input_7|25|Fast|\n|v_input_8|75|Slow|\n|v_input_9|21|length|\n\n\n> Source (PineScript)", "code_length": 4432, "processed_at": "1749801645.0986195"}
{"metadata": {"file_path": "双HULL移动平均策略Double-HULL-Moving-Average-Strategy.md", "name": "# 策略原理：", "extension": ".md", "size_bytes": 7124, "modified_time": 1749801645.1026175, "description": "策略原理：", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 6, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "HmaL = wma(2*wma(close, round(PDL/2)) - wma(close, PDL), round(sqrt(PDL)))\nHmaS = wma(2*wma(close, round(PDS/2)) - wma(close, PDS), round(sqrt(PDS)))\n\n\nHmaL = wma(2 * wma(close, round(PDL/2)) - wma(close, PDL), round(sqrt(PDL)))\nHmaS = wma(2 * wma(close, round(PDS/2)) - wma(close, PDS), round(sqrt(PDS)))", "code_length": 305, "processed_at": "1749801645.1026175"}
{"metadata": {"file_path": "双动量指标突破策略Dual-Momentum-Breakout-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 9138, "modified_time": 1749801645.1066155, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": true, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "medium"}, "complexity_metrics": {"loc": 130, "function_count": 0, "class_count": 0, "comment_ratio": 0.07633587786259542, "cyclomatic_complexity": 24}, "indicators": ["RSI", "MA"], "frequency": "高频", "strategy_patterns": ["trend_following", "mean_reversion", "momentum"], "strategy_features": ["risk_management", "position_sizing", "market_regime"]}, "code": "mom0是基础动量指标,长度为i_len,数据源为i_src,是否计算百分比由i_percent决定。\n\nmom1是以mom0为数据源,长度为1的动量指标。\n\nmom2是以原始数据i_src为源,长度为1的动量指标。\n\n最终使用的动量指标momX默认为mom1,也可以选择mom2。\n\n当mom0和momX同时超过0轴时,做多;当mom0和momX同时低于0轴时,平仓。\n\n## 策略优势\n\n1. 使用双动量指标结合不同参数设置,可以提高交易信号的可靠性,双重确认降低了假信号。\n\n2. 只做多头entries,空头仅用于平仓,可以降低交易频率,减少交易成本。\n\n3. 动量指标参数可以调整,适应不同市场环境。\n\n4. 代码结构清晰,容易理解和修改。\n\n5. 加入了交易消息设置,可以结合自动交易系统使用。\n\n## 策略风险\n\n1. 双动量指标虽然可以减少假信号,但也可能错过较弱的趋势信号。\n\n2. 仅做多头交易,可能错过空头交易机会。 \n\n3. 动量指标参数设置不当可能导致过于频繁或过于迟缓的交易。\n\n4. 回测数据不充分可能导致参数过拟合。\n\n5. 双重确认虽降低假信号但无法完全避免,实盘交易时仍需关注突破有效性。\n\n## 策略优化方向\n\n1. 可以测试不同长度以及是否计算百分比的参数组合,找出最佳参数。\n\n2. 可以考虑在趋势确认后,加入空头交易信号,以捕捉更多交易机会。\n\n3. 可以测试不同的动量指标计算方式,如ROC,RSI等,寻找更好的效果。 \n\n4. 可以结合趋势过滤,避免在震荡行情中交易。\n\n5. 可以优化止损策略,在利润最大化的同时控制风险。\n\n## 总结\n\n本策略是一个典型的双动量指标突破策略。它使用双重确认降低假信号,只做多头进入以减少交易频率。该策略优点是简单明了,容易实现,在参数优化和风险控制时有很大的改进空间。整体来说,本策略作为动量突破策略的基础框架是可行的,但需要针对具体市场进行优化调整,才能在实盘中稳定盈利。\n||\n\n## Overview\n\nThis is a dual momentum breakout strategy. It uses two momentum indicators with different parameter settings and generates trading signals when both momentum indicators break through the zero line. The strategy only takes long entries and shorts are only used for exiting positions.\n\n## Strategy Logic\n\nThe code first sets strategy properties like order type, commission scheme etc. Then it calculates two momentum indicators:\n\n\n\n\nmom0 is the base momentum indicator with length i_len, data source i_src, whether to calculate percentage is decided by i_percent.\n\nmom1 is the momentum indicator with mom0 as data source and length 1.\n\nmom2 is the momentum indicator with original data i_src as source and length 1.\n\nThe final momentum indicator momX defaults to mom1, can also choose mom2.\n\nWhen mom0 and momX both breach above 0 line, go long. When mom0 and momX both breach below 0 line, close position.\n\n## Advantages of the Strategy\n\n1. Using dual momentum indicators with different settings improves signal reliability with double confirmation and fewer false signals.\n\n2. Only taking long entries and using shorts for exits lowers trade frequency and reduces transaction costs.\n\n3. Flexible momentum parameter adjustments suit different market environments. \n\n4. Clean code structure, easy to understand and modify.\n\n5. Trade messages enabled, integrates well with auto trading systems.\n\n## Risks of the Strategy\n\n1. Dual momentum may miss weaker trend signals while reducing false signals.\n\n2. Missing short trade opportunities with only long entries.\n\n3. Improper momentum parameter settings lead to over-trading or delayed signals.\n\n4. Insufficient backtest data causes parameter overfitting. \n\n5. Double confirmation reduces but does not eliminate false signals, need to watch for validity in live trading.\n\n## Optimization Directions\n\n1. Test combinations of length and percentage parameters to find optimum.\n\n2. Consider adding short trade signals after trend confirmation to capture more trades.\n\n3. Test different momentum calculations like ROC, RSI etc for better results.\n\n4. Add trend filtering to avoid whipsaw markets.\n\n5. Optimize stop loss for maximum profitability within risk limits.\n\n## Conclusion\n\nThis is a typical dual momentum breakout strategy. It uses double confirmation to reduce false signals and only long entries to lower trade frequency. The advantages are simplicity and ease of implementation, with much room for improvements in parameter optimization and risk control. Overall it serves as a reasonable momentum breakout framework but needs market-specific tuning and optimizations for profitable live trading.\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1|timestamp(2021-01-02T00:00:00)|Start Date|\n|v_input_2|timestamp(2021-12-31T00:00:00)|End Date|\n|v_input_3|12|Length|\n|v_input_4_close|0|Source: close|high|low|open|hl2|hlc3|hlcc4|ohlc4|\n|v_input_5|true|Percent?|\n|v_input_6|0|MOM Choice: MOM2|MOM1|\n|v_input_7|{{strategy.order.alert_message}}|Buy message|\n|v_input_8|{{strategy.order.alert_message}}|Sell message|\n\n\n> Source (PineScript)", "code_length": 3976, "processed_at": "1749801645.1066155"}
{"metadata": {"file_path": "双均线反转策略Dual-Moving-Average-Crossover-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 6738, "modified_time": 1749801645.1186094, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": true, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "medium"}, "complexity_metrics": {"loc": 152, "function_count": 0, "class_count": 0, "comment_ratio": 0.06535947712418301, "cyclomatic_complexity": 17}, "indicators": ["MACD", "RSI", "KDJ", "MA"], "frequency": "日内", "strategy_patterns": ["trend_following", "mean_reversion", "arbitrage"], "strategy_features": ["risk_management", "position_sizing", "market_regime"]}, "code": "然后根据金叉死叉判断入场出场:\n\n\n\n\n当短期均线上穿长期均线时做多:\n\n\n\n\n当短期均线下穿长期均线时平仓:\n\n\n\n\n该策略原理简单明了,利用双均线的金叉死叉进行判断,具有一定的趋势跟踪能力。\n\n## 优势分析\n\n- 策略原理简单易懂,新手也能轻松使用\n- 利用均线的金叉死叉判断趋势,有一定的趋势跟踪能力\n- 可自定义均线周期,优化策略参数\n- 可设置止损点,控制单笔损失\n\n## 风险分析\n\n- 双均线策略对市场震荡敏感,可能产生多次亏损交易\n- 均线具有滞后性,可能错过价格反转点\n- 靠近均线交叉点建立头寸容易被套牢\n- 需要优化均线周期参数,不同周期效果可能存在差异\n- 无法在趋势 violently 变化时快速止损\n\n## 优化方向\n\n该策略可以从以下几个方面进行优化:\n\n1. 优化均线周期参数,寻找最佳参数组合\n\n可以尝试不同的短期和长期均线周期,寻找最佳组合。例如 (5, 10)、(10, 20)、(20, 60)等参数对比测试。\n\n2. 增加过滤条件,避免虚假信号\n\n可以在均线交叉时增加交易量、价差等过滤条件,避免在震荡市场中产生过多交易。\n\n3. 增加止损策略\n\n设置止损点或使用均线作为止损线,可以控制单笔损失。\n\n4. 结合其他指标\n\n可以加入 MACD,KDJ 等辅助指标进行组合交易,提高策略效果。\n\n5. 优化入场点位\n\n在均线附近寻找更佳入场点,而不是紧贴均线建立头寸。例如在均线背离的点位入场。\n\n## 总结\n\n双均线策略概念简单,新手易于上手使用。但该策略对市场震荡敏感,存在一定亏损风险。我们可以通过优化参数、增加过滤条件、设置止损以及加入其他指标等方式来提高策略效果。在强劲趋势中,该策略可以获得不错的效果。但在市场震荡时期,建议谨慎使用或止损控制风险。\n\n[/trans]\n\n||\n\n\n## Overview\n\nThis strategy is designed based on the golden cross and death cross of dual moving averages. It goes long when the short period moving average crosses above the long period moving average, and closes position when the short period moving average crosses below the long period moving average. The strategy is simple and easy to understand, suitable for beginners to learn.\n\n## Strategy Logic\n\nThe strategy is mainly based on the sma(close, 14) and sma(close, 28) indicators. \n\nFirst define the short and long moving averages:\n\n\n\n\nThen determine entry and exit based on golden cross and death cross:\n\n\n\n\nGo long when the short MA crosses above the long MA:\n\n\n\n\nClose position when the short MA crosses below the long MA:\n\n\n\n\nThe logic is simple and clear, utilizing the crossovers of dual MAs to determine entries and exits. It has some trend following capacity.\n\n\n## Advantage Analysis \n\n- Simple logic, easy for beginners to use\n- Utilizes MA crossovers to determine trends\n- Customizable MA periods for parameter optimization\n- Allows stop loss to control single trade loss\n\n## Risk Analysis\n\n- Sensitive to market fluctuation, may generate multiple losing trades\n- Lagging nature of MAs, may miss price reversal points\n- Prone to being trapped near MA crossover points\n- Need to optimize MA periods, different periods may lead to different results\n- Unable to quickly cut loss when trend changes violently\n\n## Optimization Directions\n\nThe strategy can be optimized in the following aspects:\n\n1. Optimize MA periods to find the best combination\n\nTest different short and long MA periods, such as (5, 10), (10, 20), (20, 60) etc to find the optimal combination.\n\n2. Add filters to avoid false signals \n\nAdd filters like trading volume, price gap etc. near MA crossovers to avoid excessive trades in ranging markets.\n\n3. Incorporate stop loss \n\nSet stop loss price or use MA as stop loss line to control single trade loss.\n\n4. Combine with other indicators\n\nAdd auxiliary indicators like MACD, KDJ etc. to improve strategy performance. \n\n5. Optimize entry points\n\nFind better entry points near MAs instead of entering right at the crossover. For example, enter on MA divergence points.\n\n## Summary\n\nThe dual MA strategy is simple for beginners to use. But it is sensitive to market fluctuations and has risks of losses. We can improve it by optimizing parameters, adding filters, incorporating stop loss, combining other indicators etc. It can perform well in strong trends but should be used with caution or proper stop loss in ranging markets.  \n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1|0.6|minGainPercent|\n|v_input_2|true|avg_protection|\n|v_input_3|true|gain_protection|\n\n\n> Source (PineScript)", "code_length": 3530, "processed_at": "1749801645.1186094"}
{"metadata": {"file_path": "双均线趋势回调自适应ATR止盈止损量化交易策略-Dual-MA-Trend-Pullback-Trading-Strategy-with-Adaptive-ATR-Based-Risk-Management.md", "name": "# 策略概述", "extension": ".md", "size_bytes": 18937, "modified_time": 1749801645.1226075, "description": "策略概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 10, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 4}, "indicators": ["RSI", "MA", "EMA", "ATR"], "frequency": "周线", "strategy_patterns": [], "strategy_features": []}, "code": "adx = ta.adx(14)\nstrong_trend = adx > 25\nlong_entry = long_entry and strong_trend\nshort_entry = short_entry and strong_trend\n\n\nadx = ta.adx(14)\nstrong_trend = adx > 25\nlong_entry = long_entry and strong_trend\nshort_entry = short_entry and strong_trend", "code_length": 251, "processed_at": "1749801645.1226075"}
{"metadata": {"file_path": "双接头智能突破策略Double-Tops-Smart-Breakout-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 11452, "modified_time": 1749801645.1306036, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 16, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "当价格 > 移动均线时:\n        指标值 = (RSI值 - 35) / (85 - 35) \n    当价格 <= 移动均线时:\n        指标值 = (RSI值 - 20) / (70 - 20)\n\n    如果指标值 > 50, 做多\n    如果指标值 < 50, 做空\n    \n\n   When price > moving average:\n       Indicator value = (RSI value - 35) / (85 - 35)\n   When price <= moving average: \n       Indicator value = (RSI value - 20) / (70 - 20)\n\n   If indicator value > 50, go long\n   If indicator value < 50, go short", "code_length": 400, "processed_at": "1749801645.1306036"}
{"metadata": {"file_path": "双移动均线金叉死叉反转策略Dual-Moving-Average-Crossover-Reversal-Strategy.md", "name": "## 概述", "extension": ".md", "size_bytes": 9226, "modified_time": 1749801645.1346016, "description": "# 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 12, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 6}, "indicators": ["RSI", "MA", "OBV"], "frequency": "日线", "strategy_patterns": [], "strategy_features": []}, "code": "// 买入条件:9日线上穿14日线 且 当前价格高于50日线\nbuyCondition = ta.crossover(sma9, sma14) and close > sma50  \n\n// 卖出条件:9日线下穿14日线 且 当前价格低于50日线\nsellCondition = ta.crossunder(sma9, sma14) and close < sma50\n\n\n// Buy condition: 9-day line crosses above 14-day line and close price is above 50-day line \nbuyCondition = ta.crossover(sma9, sma14) and close > sma50 \n\n// Sell condition: 9-day line crosses below 14-day line and close price is below 50-day line\nsellCondition = ta.crossunder(sma9, sma14) and close < sma50", "code_length": 494, "processed_at": "1749801645.1346016"}
{"metadata": {"file_path": "双重优化组合反转EMA加权交易策略Comb-Reverse-EMA-Volume-Weighting-Optimization-Trading-Strategies.md", "name": "## 概述", "extension": ".md", "size_bytes": 8098, "modified_time": 1749801645.1425974, "description": "# 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": true, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 8, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA", "EMA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "xMAVolPrice = ema(volume * close, Length)\nxMAVol = ema(volume, Length)  \nnRes = xMAVolPrice / xMAVol\n\n\nxMAVolPrice = ema(volume * close, Length)\nxMAVol = ema(volume, Length)\nnRes = xMAVolPrice / xMAVol", "code_length": 201, "processed_at": "1749801645.1425974"}
{"metadata": {"file_path": "双重随机策略Dual-Stochastics-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 11168, "modified_time": 1749801645.1505935, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 10, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 12}, "indicators": ["MACD", "RSI", "MA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "longCondition = crossover(mtfK, 50) and k>50 and k>d and mtfK>mtfD\n\n\nshortCondition = crossunder(mtfD, 50) and k<50 and k<d and mtfK<mtfD\n\n\nlongCondition = crossover(mtfK, 50) and k>50 and k>d and mtfK>mtfD  \n\n\nshortCondition = crossunder(mtfD, 50) and k<50 and k<d and mtfK<mtfD", "code_length": 279, "processed_at": "1749801645.1505935"}
{"metadata": {"file_path": "发明者量化数据库实战.md", "name": "### 一、摘要", "extension": ".md", "size_bytes": 11393, "modified_time": 1749801645.1545916, "description": "## 一、摘要", "symbol": "unknown", "author": "unknown", "strategy_type": "量化", "backtest_config": {"timeframe": "15m\nbasePeriod: 15m\nexchanges: [{"}, "training_labels": {"has_risk_management": false, "has_position_sizing": true, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "medium"}, "complexity_metrics": {"loc": 149, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 4}, "indicators": ["MA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "function main() {\n    // 创建：如果“users”表不存在就创建一个，“id”是整数且自动增加，“name”是文本形式且不为空\n    Log(DBExec('CREATE TABLE IF NOT EXISTS \"users\" (id INTEGER PRIMARY KEY AUTOINCREMENT, name text not NULL);'));\n    \n    // 增加：\n    Log(DBExec(\"INSERT INTO users(name) values('张三')\"));\n    Log(DBExec(\"INSERT INTO users(name) values('李四')\"));\n    \n    // 删除：\n    Log(DBExec(\"DELETE FROM users WHERE id=1;\"));\n    \n    // 修改\n    Log(DBExec(\"UPDATE users SET name='王五' WHERE id=2\"));\n    \n    // 查询\n    Log(DBExec('select 2, ?, ?, ?, ?', 'ok', true,9.8,null));\n    Log(DBExec('select * from kvdb'));\n    Log(DBExec('select * from cfg'));\n    Log(DBExec('select * from log'));\n    Log(DBExec('select * from profit'));\n    Log(DBExec('select * from chart'));\n    Log(DBExec(\"selEct * from users\"));\n}\n\n\nfunction main() {\n    // 订阅合约\n    _C(exchange.SetContractType, 'swap');\n    \n    // 创建数据表\n    DBExec('CREATE TABLE IF NOT EXISTS \"tick\" (id INTEGER PRIMARY KEY AUTOINCREMENT,'.concat(\n        'High FLOAT not NULL,', \n        'Low FLOAT not NULL,', \n        'Sell FLOAT not NULL,', \n        'Buy FLOAT not NULL,', \n        'Last FLOAT not NULL,', \n        'Volume INTEGER not NULL,', \n        'Time INTEGER not NULL);'\n    ));\n    \n    // 获取10个tick数据\n    while (true) {\n        let tick = exchange.GetTicker();\n        // 在tick表中增加数据\n        DBExec(`INSERT INTO tick(High, Low, Sell, Buy, Last, Volume, Time) values(${tick.High}, ${tick.Low}, ${tick.Sell}, ${tick.Buy}, ${tick.Last}, ${tick.Volume}, ${tick.Time})`);\n        // 查询所有数据\n        let allDate = DBExec('select * from tick');\n        if (allDate.values.length > 10) {\n            break;\n        }\n        Sleep(1000);\n    }\n    \n    // 查询所有数据\n    Log(DBExec('select * from tick'));\n    \n    // 查询第一个数据\n    Log(DBExec('select * from tick limit 1'));\n    \n    // 查询前两个数据\n    Log(DBExec('select * from tick limit 0,2'));\n    \n    // 删除第一个数据\n    Log(DBExec('DELETE FROM tick WHERE id=1;'));\n    \n    // 修改第二个数据\n    Log(DBExec('UPDATE tick SET High=10000 WHERE id=2'));\n    \n    // 查询所有数据\n    let allDate = DBExec('select * from tick')\n    Log(allDate);\n}\n\n\n    // 创建状态栏\n    let table = {\n        type: 'table',\n        title: '币安Tick数据',\n        cols: allDate.columns,\n        rows: allDate.values\n    }\n    LogStatus('`' + JSON.stringify(table) + '`');\n\n\n/*backtest\nstart: 2020-07-19 00:00:00\nend: 2020-08-17 23:59:00\nperiod: 15m\nbasePeriod: 15m\nexchanges: [{\"eid\":\"Binance\",\"currency\":\"LTC_USDT\"}]\n*/\n\nfunction main() {\n    Log(DBExec('DROP TABLE tick;'));\n    // 订阅合约\n    _C(exchange.SetContractType, 'swap');\n\n    // 创建数据表\n    DBExec('CREATE TABLE IF NOT EXISTS \"tick\" (id INTEGER PRIMARY KEY AUTOINCREMENT,'.concat(\n        'High FLOAT not NULL,',\n        'Low FLOAT not NULL,',\n        'Sell FLOAT not NULL,',\n        'Buy FLOAT not NULL,',\n        'Last FLOAT not NULL,',\n        'Volume INTEGER not NULL,',\n        'Time INTEGER not NULL);'\n    ));\n\n    // 获取10个tick数据\n    while (true) {\n        let tick = exchange.GetTicker();\n        // 在tick表中增加数据\n        DBExec(`INSERT INTO tick(High, Low, Sell, Buy, Last, Volume, Time) values(${tick.High}, ${tick.Low}, ${tick.Sell}, ${tick.Buy}, ${tick.Last}, ${tick.Volume}, ${tick.Time})`);\n        // 查询所有数据\n        let allDate = DBExec('select * from tick');\n        if (allDate.values.length > 10) {\n            break;\n        }\n        Sleep(1000);\n    }\n\n    // 查询所有数据\n    Log(DBExec('select * from tick'));\n\n    // 查询第一个数据\n    Log(DBExec('select * from tick limit 1'));\n\n    // 查询前两个数据\n    Log(DBExec('select * from tick limit 0,2'));\n\n    // 删除第一个数据\n    Log(DBExec('DELETE FROM tick WHERE id=1;'));\n\n    // 修改第二个数据\n    Log(DBExec('UPDATE tick SET High=10000 WHERE id=2'));\n\n    // 查询所有数据\n    let allDate = DBExec('select * from tick')\n    Log(allDate);\n\n    // 创建状态栏\n    let table = {\n        type: 'table',\n        title: '币安Tick数据',\n        cols: allDate.columns,\n        rows: allDate.values\n    }\n    LogStatus('`' + JSON.stringify(table) + '`');\n}", "code_length": 3944, "processed_at": "1749801645.1545916"}
{"metadata": {"file_path": "叠加动量策略Momentum-Stacking-Strategy-of-Different-Timeframes.md", "name": "## 概述", "extension": ".md", "size_bytes": 7190, "modified_time": 1749801645.1545916, "description": "# 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 10, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "roc1 = (sma(roc(close,10),10)*1)  \nroc2 = (sma(roc(close,15),10)*2)\n...\nosc = roc1+roc2+roc3+roc4+...\n\n\nroc1 = (sma(roc(close,10),10)*1)\nroc2 = (sma(roc(close,15),10)*2)  \n...\nosc = roc1+roc2+roc3+roc4+...", "code_length": 205, "processed_at": "1749801645.1545916"}
{"metadata": {"file_path": "周线突破平均线交易策略Weekly-Breakthrough-Moving-Average-Trading-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 7889, "modified_time": 1749801645.1585896, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": true, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 14, "function_count": 0, "class_count": 0, "comment_ratio": 0.26666666666666666, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": ["position_sizing"]}, "code": "buy_condition= crossover(btc,ma)#周线收盘价上穿8周线,做多 \nsell_condition= crossunder(btc,ma)#周线收盘价下穿8周线,平仓\n\n\nloss_ratio=input(defval=1,title=\"LOSS RATIO\", group=\"STRATEGY\") \nreward_ratio=input(defval=3,title=\"REWARD RATIO\", group=\"STRATEGY\")\n\n\nbuy_condition = crossover(btc,ma) #weekly closing price breaks above 8-week line, go long\nsell_condition = crossunder(btc,ma) #weekly closing price breaks below 8-week line, close position\n\n\nloss_ratio=input(defval=1,title=\"LOSS RATIO\", group=\"STRATEGY\")\nreward_ratio=input(defval=3,title=\"REWARD RATIO\", group=\"STRATEGY\")", "code_length": 556, "processed_at": "1749801645.1585896"}
{"metadata": {"file_path": "哈森破坏转向策略Heikin-Ashi-Reverse-Strategy.md", "name": "## 概述", "extension": ".md", "size_bytes": 11135, "modified_time": 1749801645.1585896, "description": "# 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 68, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 4}, "indicators": ["RSI", "MA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "haClose = UseHAcandles ? security(heikinashi(syminfo.tickerid), timeframe.period, close) : close\n\nhaOpen = UseHAcandles ? security(heikinashi(syminfo.tickerid), timeframe.period, open) : open  \n\nhaHigh = UseHAcandles ? security(heikinashi(syminfo.tickerid), timeframe.period, high) : high\n\nhaLow = UseHAcandles ? security(heikinashi(syminfo.tickerid), timeframe.period, low) : low\n\n\nhaclose = (haOpen + haHigh + haLow + haClose) / 4  \n\nhaopen := na(haopen[1]) ? (haOpen + haClose) / 2 : (haopen[1] + haclose[1]) / 2\n\n\nhahigh = max(haHigh, max(haopen, haclose))  \n\nhalow = min(haLow, min(haopen, haclose))\n\n\nhacolor = haclose > haopen ? color.green : color.red\n\n\nturnGreen = haclose > haopen and haclose[1] <= haopen[1]  \n\nturnRed = haclose <= haopen and haclose[1] > haopen[1]\n\n\nstrategy.entry(\"long\", 1, when=turnGreen)  \n\nstrategy.entry(\"short\", 0, when=turnRed)\n\n\nstrategy.close(\"long\", when=turnRed)\n\n\nhaClose = UseHAcandles ? security(heikinashi(syminfo.tickerid), timeframe.period, close) : close\n\nhaOpen = UseHAcandles ? security(heikinashi(syminfo.tickerid), timeframe.period, open) : open  \n\nhaHigh = UseHAcandles ? security(heikinashi(syminfo.tickerid), timeframe.period, high) : high\n\nhaLow = UseHAcandles ? security(heikinashi(syminfo.tickerid), timeframe.period, low) : low\n\n\nhaclose = (haOpen + haHigh + haLow + haClose) / 4  \n\nhaopen := na(haopen[1]) ? (haOpen + haClose) / 2 : (haopen[1] + haclose[1]) / 2\n\n\nhahigh = max(haHigh, max(haopen, haclose))\n\nhalow = min(haLow, min(haopen, haclose))  \n\n\nhacolor = haclose > haopen ? color.green : color.red\n\n\nturnGreen = haclose > haopen and haclose[1] <= haopen[1]  \n\nturnRed = haclose <= haopen and haclose[1] > haopen[1] \n\n\nstrategy.entry(\"long\", 1, when=turnGreen)\n  \nstrategy.entry(\"short\", 0, when=turnRed) \n\n\nstrategy.close(\"long\", when=turnRed)", "code_length": 1811, "processed_at": "1749801645.1585896"}
{"metadata": {"file_path": "均线突破策略Moving-Average-Breakout-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 8640, "modified_time": 1749801645.1665854, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 14, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "BOLL", "MA", "EMA", "OBV"], "frequency": "高频", "strategy_patterns": ["trend_following"], "strategy_features": []}, "code": "快线由下向上突破慢线\n快线>慢线\n\n\n快线由上向下跌破慢线  \n快线<慢线\n\n\nFast MA crosses above slow MA\nFast MA > Slow MA\n\n\nFast MA crosses below slow MA\nFast MA < Slow MA", "code_length": 137, "processed_at": "1749801645.1665854"}
{"metadata": {"file_path": "均线黄金交叉策略EMA-Golden-Cross-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 7990, "modified_time": 1749801645.1705835, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": true, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "medium"}, "complexity_metrics": {"loc": 140, "function_count": 0, "class_count": 0, "comment_ratio": 0.09929078014184398, "cyclomatic_complexity": 16}, "indicators": ["MACD", "RSI", "KDJ", "MA", "EMA"], "frequency": "日内", "strategy_patterns": ["trend_following", "mean_reversion"], "strategy_features": ["risk_management", "position_sizing", "market_regime"]}, "code": "该阈值表示两均线间距占均线平均值的百分比。当threshold大于0.15%时为做多信号,小于-0.006时为平仓信号。\n\n综上,该策略的交易信号总结为:\n\n- 做多信号:ema1上穿ema2,且threshold >= 0.15%\n- 平仓信号:ema1下穿ema2,且threshold <= -0.006%\n\n## 优势分析\n\n该策略具有以下优势:\n\n1. 使用EMA均线能平滑价格数据,有利于产生交易信号。\n\n2. 双EMA设定不同参数,可以在响应速度和稳定性上达到平衡。\n\n3. 增加threshold阈值可以过滤假突破,避免无谓交易。\n\n4. 策略思路简单清晰,容易理解实现,适合量化交易初学者。\n\n5. 可灵活调整EMA参数和threshold阈值,优化策略效果。\n\n## 风险分析\n\n该策略也存在一些风险:\n\n1. EMA均线滞后于价格,可能错过短线操作机会。\n\n2. 存在被套牢的风险,如果趋势反转可能造成较大损失。\n\n3. threshold阈值设定不当可能过滤掉有效信号或者发出错误信号。\n\n4. EMA参数不合适,短期和长期EMA无明显特征差异,产生假信号。\n\n5. 大盘波动可能导致止损而被突破,应设置合理的止损。\n\n## 优化方向\n\n该策略可以从以下几个方面进行优化:\n\n1. 优化EMA参数,测试不同周期参数对策略效果的影响。\n\n2. 优化threshold阈值,平衡过滤假信号和保留有效信号。\n\n3. 增加其他技术指标判断,如MACD,KDJ等,综合判定交易信号。 \n\n4. 加入止损机制,可以是移动止损或者挂单止损,控制单笔损失。\n\n5. 可以考虑加入分批建仓的方法,降低单一入场的风险。\n\n6. 测试不同持仓时间,寻找更合适的持仓周期。\n\n## 总结\n\n均线黄金交叉策略整体思路清晰易懂,利用EMA均线的特点进行交易信号判定。该策略存在一定的优势,同时也要注意一些潜在风险。通过参数优化、止损设置、信号过滤等方法可以获得更好的策略效果。该策略适合作为量化交易的入门策略来学习和实践。\n\n|| \n\n## Overview\n\nThe EMA golden cross strategy is a common quantitative trading strategy. It uses two exponential moving averages (EMAs) with different parameters. When the shorter period EMA crosses above the longer period EMA, it goes long. When the shorter period EMA crosses below the longer period EMA, it closes the position. This strategy utilizes the faster reaction of short period EMA and the trend following ability of long period EMA to generate trading signals.\n\n## Strategy Logic\n\nThe strategy first defines two EMAs, ema1 with length 10 and ema2 with length 21. Then it calculates the values of the two EMAs. When ema1 crosses above ema2, it signals an upward breakthrough, which is a long signal. When ema1 crosses below ema2, it signals a breakdown through the EMAs, which is a close position signal.\n\nTo filter false breakouts, the code also defines a threshold value, calculated as:\n\n\n\n\nThis threshold represents the percentage of EMA distance versus the EMA average. When threshold is above 0.15%, it is a long signal. When threshold is below -0.006%, it is a close position signal. \n\nIn summary, the trading signals of this strategy are:\n\n- Long signal: ema1 crosses above ema2, and threshold >= 0.15%  \n- Close position signal: ema1 crosses below ema2, and threshold <= -0.006%\n\n## Advantage Analysis\n\nThe advantages of this strategy include:\n\n1. Using EMAs can smooth the price data and help generate trading signals.\n\n2. The dual EMA setup balances responsiveness and stability. \n\n3. The threshold filters false breakouts and avoids unnecessary trades.\n\n4. The strategy logic is simple and clear, suitable for beginners.\n\n5. The EMA parameters and threshold can be optimized.\n\n## Risk Analysis\n\nThe risks of this strategy include:\n\n1. EMAs lag prices and may miss short-term opportunities. \n\n2. Risk of being trapped when trend reverses, potentially leading to large losses.\n\n3. Improper threshold may filter valid signals or generate false signals. \n\n4. If EMA parameters are unsuitable, the two EMAs may not show significant differences, generating false signals.\n\n5. Stop loss should be set reasonably to avoid being broken by large market swings.\n\n## Optimization Directions\n\nThe strategy can be optimized in the following aspects:\n\n1. Optimize EMA parameters and test different periods.\n\n2. Optimize the threshold value to balance false signals and valid signals.\n\n3. Add other technical indicators like MACD, KDJ to confirm signals.\n\n4. Add stop loss mechanisms like trailing stop or OCO orders to limit losses.\n\n5. Consider partial position entries to lower risk. \n\n6. Test different holding periods to find optimal duration.\n\n## Conclusion\n\nThe EMA golden cross strategy has clear and simple logic, utilizing the characteristics of EMAs to generate trading signals. The strategy has certain advantages but potential risks exist. The strategy can be improved by optimizing parameters, setting stop loss, filtering signals etc. It is suitable as a beginner's quantitative trading strategy.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1|10|EMA #1 length|\n|v_input_2_close|0|EMA Source #1: close|high|low|open|hl2|hlc3|hlcc4|ohlc4|\n|v_input_3|21|EMA #2 length|\n|v_input_4_close|0|EMA Source #2: close|high|low|open|hl2|hlc3|hlcc4|ohlc4|\n\n\n> Source (PineScript)", "code_length": 4198, "processed_at": "1749801645.1705835"}
{"metadata": {"file_path": "埃勒斯随机周期量化交易策略Ehlers-Stochastic-Cyber-Cycle-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 8830, "modified_time": 1749801645.1705835, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 16, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "BOLL", "MA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "smooth = (src + 2 * src[1] + 2 * src[2] + src[3]) / 6\n\n\ncycle := (1 - .5 * alpha) * (1 - .5 * alpha) * \n           (smooth - 2 * smooth[1] + smooth[2]) + \n           2 * (1 - alpha) * cycle[1] - \n           (1 - alpha) * (1 - alpha) * cycle[2]\n\n\nsmooth = (src + 2 * src[1] + 2 * src[2] + src[3]) / 6\n\n\ncycle := (1 - .5 * alpha) * (1 - .5 * alpha) *  \n           (smooth - 2 * smooth[1] + smooth[2]) +  \n           2 * (1 - alpha) * cycle[1] -  \n           (1 - alpha) * (1 - alpha) * cycle[2]", "code_length": 492, "processed_at": "1749801645.1705835"}
{"metadata": {"file_path": "埃尔斯即时趋势线策略Ehlers-Instantaneous-Trendline-Strategy.md", "name": "## 概述", "extension": ".md", "size_bytes": 10549, "modified_time": 1749801645.1705835, "description": "# 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": true, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 81, "function_count": 0, "class_count": 0, "comment_ratio": 0.04878048780487805, "cyclomatic_complexity": 11}, "indicators": ["RSI", "MA", "EMA"], "frequency": "周线", "strategy_patterns": [], "strategy_features": []}, "code": "it := (a-((a*a)/4.0))*src+0.5*a*a*src[1]-(a-0.75*a*a)*src[2]+2*(1-a )*it[1]-(1-a )*(1-a )*it[2]\n\n\nlag = 2.0 * it - nz(it[2])\n\n\nit := (a-((a*a)/4.0))*src+0.5*a*a*src[1]-(a-0.75*a*a)*src[2]+2*(1-a )*it[1]-(1-a )*(1-a )*it[2]\n\n\n\nThe lag line lags IT line by one bar. When price crosses above lag line, it signals an upside breakout, go long. When price crosses below lag line, it signals a downside breakout, go short.  \n\nIn addition, the strategy sets stop loss orders to control risks.\n\n### Advantage Analysis \n\nThe advantages of this strategy include:\n\n1. IT line effectively filters noise and improves signal quality  \n2. The 2nd order filter provides more tuning flexibility and robustness \n3. Lag line avoids unnecessary whipsaws within trends\n4. Incorporated stop loss controls risks at predefined levels  \n5. Clean code structure, easy to understand and modify\n\n### Risk Analysis\n\nThere are also some risks with this strategy:  \n\n1. Improper parameter tuning of IT/lag line may generate false signals\n2. Bad stop loss configuration could result in premature stop out or oversized loss\n3. High trading frequency leads to accumulated commission fees \n4. Long holding times increases loss magnification risk\n\nThese risks can be alleviated by:\n\n1. Applying machine learning for parameter optimization\n2. Setting adaptive stop loss levels \n3. Reducing position sizes to lower trade frequencies\n4. Incorporating holding period stop losses\n\n### Optimization Directions\n\nThis strategy can be further optimized in the following aspects:\n\n1. Test impacts of different filter parameters to find optimum  \n2. Try combining other indicators to filter signals\n3. Improve entry logic to size up during trend acceleration stages\n4. Set up adaptive stop loss based on market volatility\n5. Conduct time series analysis on trading sessions and frequencies \n\n### Conclusion\n\nOverall, the Ehlers Instantaneous Trendline strategy utilizes technical indicators to identify real-time trends in stocks/futures and open positions when trends reverse. It has the advantages of effective noise filtering, high parameter tuneability, clear signal generation logic, and incorporated risk control. With further optimization on parameter selection, signal filtering, position sizing and stop loss tuning, this strategy can achieve even better performance. The clear code structure also makes it easy to understand and modify. In summary, this is an efficient trend following system worth testing and improving.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1_hl2|0|Source: hl2|high|low|open|close|hlc3|hlcc4|ohlc4|\n|v_input_2|0.07|Alpha|\n|v_input_3|false|Fill Trend Region|\n|v_input_4|0.35|rngFrac|\n|v_input_5|0.015|revPct|\n|v_input_6|0|Stop type: stop-order|market-order|None|\n|v_input_7|0.5|Spread|\n|v_input_8|false|Custom Backtesting Dates|\n|v_input_9|2018|Backtest Start Year|\n|v_input_10|9|Backtest Start Month|\n|v_input_11|true|Backtest Start Day|\n|v_input_12|false|Backtest Start Hour|\n|v_input_13|2018|Backtest Stop Year|\n|v_input_14|12|Backtest Stop Month|\n|v_input_15|14|Backtest Stop Day|\n|v_input_16|14|Backtest Stop Hour|\n\n\n> Source (PineScript)", "code_length": 3177, "processed_at": "1749801645.1705835"}
{"metadata": {"file_path": "基于ATR和标准差通道的趋势跟踪交易策略ATR-Trend-Following-Strategy-Based-on-Standard-Deviation-Channel.md", "name": "## 概述", "extension": ".md", "size_bytes": 8654, "modified_time": 1749801645.1745815, "description": "# 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": true, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 68, "function_count": 0, "class_count": 0, "comment_ratio": 0.057971014492753624, "cyclomatic_complexity": 17}, "indicators": ["RSI", "MA", "ATR", "OBV"], "frequency": "高频", "strategy_patterns": [], "strategy_features": ["risk_management"]}, "code": "ATR线 = 前一日ATR线 ± nLoss(nLoss = nATRMultip * ATR值)\n\n若收盘价 > ATR线,ATR线上调至收盘价 - nLoss \n若收盘价 < ATR线,ATR线下调至收盘价 + nLoss\n\n\n中线 = ATR止损线\n上轨 = 中线 + n倍标准差\n下轨 = 中线 - n倍标准差  \n\n\nATR Line = Prior ATR Line ± nLoss (nLoss = nATRMultip * ATR value)  \n\nIf close > ATR Line, adjust ATR Line up to close - nLoss\nIf close < ATR Line, adjust ATR Line down to close + nLoss\n\n\n\nGo long when price breaks middle line upwards. Go short when price breaks middle line downwards.\n\n\n### Advantages  \n\nThe biggest advantage of this strategy is that it uses ATR indicator to set stop loss dynamically based on market volatility, enabling trend following stop loss and effective risk control.\n\nAdditionally, using standard deviation channel for entry signals avoids frequently opening positions due to small price fluctuations. \n\n### Risks and Solutions  \n\nThe main risk is that if stop loss distance is too big it cannot control risk effectively, but if it is too small it can be easily stopped out by market noise. To address this risk, ATR period and multiplier can be optimized to find the best parameter combination.  \n\nAnother risk is inappropriate standard deviation channel parameters leading to overly high/low entry frequency. Parameters can be optimized to find the optimum.\n\n### Enhancement Opportunities\n\nThe strategy can be enhanced from the following aspects:  \n\n1. Optimize ATR period and multiplier to achieve better stop loss effect.  \n\n2. Optimize standard deviation channel parameters for better entry signals.   \n\n3. Add other indicators for filtering, e.g. moving average, candlestick patterns etc., to assist judging trend direction and improve profitability. \n\n4. Optimize entry and exit logic, e.g. open positions only after confirming candlestick pattern when price reaches channel bands.\n\n### Summary   \n\nThe strategy achieves trend following stop loss based on ATR indicator and uses standard deviation channel for entry signals. Its advantages lie in good risk control capability for trend trading. Risks and enhancements are also clearly analyzed. The strategy is worth further testing and optimization and has practical trading value.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1|11|nATRPeriod|\n|v_input_2|0.5|nATRMultip|\n|v_input_3|8|From Month|\n|v_input_4|18|From Day|\n|v_input_5|2013|From Year|\n|v_input_6|true|To Month|\n|v_input_7|true|To Day|\n|v_input_8|2020|To Year|\n\n\n> Source (PineScript)", "code_length": 2442, "processed_at": "1749801645.1745815"}
{"metadata": {"file_path": "基于ATR和追踪止损的超级趋势策略SuperTrend-Strategy-with-Trailing-Stop-Loss.md", "name": "# 概述", "extension": ".md", "size_bytes": 25910, "modified_time": 1749801645.1785796, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 56, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 10}, "indicators": ["RSI", "MA", "ATR"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "atr = multplierFactor * atr(barsBack)\n\nlongStop = hl2 - atr \nshortStop = hl2 + atr\n\n\ndirection = 1\ndirection := nz(direction[1], direction) \ndirection := direction == -1 and close > shortStopPrev ? 1 : direction == 1 and close < longStopPrev ? -1 : direction\n\n\nif (direction == 1)\n    valueToPlot := longStop\n    colorToPlot := color.green \nelse\n    valueToPlot := shortStop\n    colorToPlot := color.red\n\n\nstrategyPercentege = (close - updatedEntryPrice) / updatedEntryPrice * 100.00\nrideUpStopLoss = hasOpenTrade() and strategyPercentege > 1\n\nif (rideUpStopLoss) \n    stopLossPercent := stopLossPercent + strategyPercentege - 1.0\n    newStopLossPrice = updatedEntryPrice + (updatedEntryPrice * stopLossPercent) / 100\n    stopLossPrice := max(stopLossPrice, newStopLossPrice)\n    updatedEntryPrice := stopLossPrice\n\n\natr = multplierFactor * atr(barsBack)\n\nlongStop = hl2 - atr  \nshortStop = hl2 + atr\n\n\ndirection = 1 \ndirection := nz(direction[1], direction)\ndirection := direction == -1 and close > shortStopPrev ? 1 : direction == 1 and close < longStopPrev ? -1 : direction \n\n\nif (direction == 1)\n    valueToPlot := longStop\n    colorToPlot := color.green\nelse  \n    valueToPlot := shortStop \n    colorToPlot := color.red  \n\n\nstrategyPercentege = (close - updatedEntryPrice) / updatedEntryPrice * 100.00\nrideUpStopLoss = hasOpenTrade() and strategyPercentege > 1 \n\nif (rideUpStopLoss)\n    stopLossPercent := stopLossPercent + strategyPercentege - 1.0\n    newStopLossPrice = updatedEntryPrice + (updatedEntryPrice * stopLossPercent) / 100\n    stopLossPrice := max(stopLossPrice, newStopLossPrice)\n    updatedEntryPrice := stopLossPrice", "code_length": 1637, "processed_at": "1749801645.1785796"}
{"metadata": {"file_path": "基于Doji星形态的止损止盈策略Stop-Loss-and-Take-Profit-Strategy-Based-on-Doji-Pattern.md", "name": "# 概述", "extension": ".md", "size_bytes": 8633, "modified_time": 1749801645.1825776, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "量化", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 32, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 6}, "indicators": ["RSI", "MA", "EMA", "ATR"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "body=close-open  \nrange=high-low\nabody=abs(body)\nratio=abody/range\ndata=(abs(open - close) <= (high - low) * Doji)\n\n\nlongDist= longcandle[1] and range[1]>range? high: max(high,high[1]) \nshortDist= longcandle[1] and range[1]>range? low: min(low,low[1])\n\n\nstrategy.exit(\"exit buy\",\"buy stop\",loss=SL, profit=TP, when=Use_SL_TP) \n\n\nstrategy.close(\"buy stop\",when=not Use_SL_TP and close<dojilow)\n\n\nbody=close-open \nrange=high-low\nabody=abs(body)\nratio=abody/range  \ndata=(abs(open - close) <= (high - low) * Doji)\n\n\nlongDist= longcandle[1] and range[1]>range? high: max(high,high[1])\nshortDist= longcandle[1] and range[1]>range? low: min(low,low[1]) \n\n\nstrategy.exit(\"exit buy\",\"buy stop\",loss=SL, profit=TP, when=Use_SL_TP)\n\n\nstrategy.close(\"buy stop\",when=not Use_SL_TP and close<dojilow)", "code_length": 787, "processed_at": "1749801645.1825776"}
{"metadata": {"file_path": "基于Ehlers-MESA自适应移动平均线的交易策略Ehlers-MESA-Adaptive-Moving-Average-Trading-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 9394, "modified_time": 1749801645.1865754, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": false, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "medium"}, "complexity_metrics": {"loc": 152, "function_count": 0, "class_count": 0, "comment_ratio": 0.06535947712418301, "cyclomatic_complexity": 17}, "indicators": ["MACD", "RSI", "MA", "EMA"], "frequency": "高频", "strategy_patterns": ["trend_following", "momentum"], "strategy_features": ["risk_management", "market_regime"]}, "code": "其中fl是快限制,sl是慢限制,dphase是相位差。alpha根据相位差动态调整,实现自适应平滑参数。\n\nFAMA线计算公式如下:\n\n\n\n\nFAMA线是MAMA线的低通滤波平滑线。\n\n策略通过比较MAMA线和FAMA线的大小关系,判断目前是处于上升趋势还是下降趋势,以此产生交易信号。\n\n## 策略优势分析\n\n该策略有以下几点优势:\n\n1. 使用自适应移动平均线,参数会根据市场变化自动调整,无需人为设置固定参数。\n\n2. 增加低通滤波器FAMA线,可以过滤假突破。\n\n3. 采用双移动平均线设计,可以跟踪市场中长线趋势。\n\n4. 策略逻辑简单清晰,容易理解和修改。\n\n5. 可视化指标直观,可以清楚看到交易信号。\n\n\n## 风险分析\n\n该策略也存在一些风险:\n\n1. 双线交叉策略容易产生多次交易信号,建议适当控制间距和回撤。\n\n2. MAMA和FAMA线计算复杂,参数设置不当可能导致曲线畸变。\n\n3. 自适应参数可能导致过度优化,需要联合其他技术指标验证。 \n\n4. 双线交叉存在时间滞后,可能错过趋势转换点。\n\n5. 需关注假突破导致的止损风险。\n\n## 策略优化方向\n\n该策略可以从以下几个方向进行优化:\n\n1. 优化参数设置,找到最佳的快限制、慢限制参数组合。\n\n2. 增加止损策略,严格控制单笔止损。\n\n3. 结合其他指标过滤信号,例如MACD、RSI等,避免假突破。\n\n4. 增加趋势判断指标,避免逆势交易。\n\n5. 优化入场节奏,调整双线交叉的间距要求,减少过于频繁交易。\n\n6. 优化止盈策略,根据趋势强度采取不同的止盈方式。\n\n7. 测试不同品种参数设置差异,寻找最佳参数组合。\n\n\n## 总结\n\n本策略 overall 是一种典型的趋势跟踪策略,利用 Ehlers MESA 自适应移动平均线构建了一个可视化指标,并以双线交叉方式产生交易信号。策略具有参数自适应、滤波假突破、可视化等优势,也存在时间滞后、多次交易等风险。未来可从参数优化、止损策略、信号过滤等方面进行改进,使策略更稳健可靠。\n\n||\n\n\n## Overview\n\nThis strategy is based on the Ehlers MESA Adaptive Moving Average and designed a trend trading strategy that tracks crossovers between two moving averages. It goes long when the fast line crosses above the slow line, and goes short when the fast line crosses below the slow line. This is a typical dual moving average crossover strategy.\n\n## Strategy Logic\n\nThe core of this strategy is to compute two adaptive moving averages: the MAMA line and the FAMA line. The MAMA line is calculated as:\n\n\n\n\nWhere fl is the fast limit, sl is the slow limit, and dphase is the phase difference. Alpha adaptively adjusts based on the phase difference to achieve adaptive smoothing.\n\nThe FAMA line is calculated as:\n\n\n\n\nThe FAMA line is a low pass filtered smoothing of the MAMA line. \n\nThe strategy compares the magnitude relationship between the MAMA and FAMA lines to determine if the market is currently in an uptrend or a downtrend, and generates trading signals based on this.\n\n## Advantage Analysis \n\nThe strategy has the following advantages:\n\n1. Uses adaptive moving averages where the parameters automatically adjust based on market changes, without needing fixed manually set parameters.\n\n2. The low pass filter FAMA line can filter out false breakouts. \n\n3. Using a dual moving average design can track medium to long term trends.\n\n4. Simple and clear strategy logic that is easy to understand and modify.\n\n5. Visual indicators that clearly show trading signals.\n\n## Risk Analysis\n\nThe strategy also has some risks:\n\n1. Dual line crossover strategies can generate excessive trading signals, proper drawdown and interval controls are recommended.\n\n2. Complex MAMA and FAMA calculations, improper parameter settings may cause curve distortions.\n\n3. Adaptive parameters may lead to overfitting, verification with other technical indicators is needed.\n\n4. Dual line crossovers have time lags, may miss trend turning points.\n\n5. Need to watch out for stop loss risks from false breakouts.\n\n## Optimization Directions\n\nThe strategy can be optimized in the following areas:\n\n1. Optimize parameter settings to find the best fast limit and slow limit combinations.\n\n2. Add stop loss strategies to strictly control per trade stop loss. \n\n3. Add other indicators to filter signals, such as MACD, RSI etc to avoid false breakouts.\n\n4. Add trend judging indicators to avoid counter trend trades.\n\n5. Optimize entry pace by adjusting crossover requirements to reduce overly frequent trading.\n\n6. Optimize profit taking strategies according to trend strength.\n\n7. Test parameter differences between various products to find optimal parameter combinations.\n\n## Summary\n\nOverall this is a typical trend following strategy, using the Ehlers MESA adaptive moving averages to construct a visualized indicator and generate trading signals through dual line crossovers. The strategy has advantages like adaptive parameters, filtering of false breakouts and visualization, but also risks like time lags and excessive trading. Future improvements can be made through parameter optimization, stop loss strategies, signal filtering etc to make the strategy more robust.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1_close|0|Source: close|high|low|open|hl2|hlc3|hlcc4|ohlc4|\n|v_input_2|0.4|Fast Limit|\n|v_input_3|0.04|Slow Limit|\n\n\n> Source (PineScript)", "code_length": 4251, "processed_at": "1749801645.1865754"}
{"metadata": {"file_path": "基于MACD和RSI的趋势追踪反转策略MACD-and-RSI-Based-Trend-Following-Reversal-Strategy.md", "name": "## 概述", "extension": ".md", "size_bytes": 6835, "modified_time": 1749801645.1945715, "description": "# 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 34, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 8}, "indicators": ["MACD", "RSI", "MA", "EMA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "fastMA = ema(close, fast)  \n    slowMA = ema(close, slow)\n    macd = fastMA - slowMA\n    signal = sma(macd, 9)\n    ema = ema(close, input(200))\n    \n\n    delta = macd - signal \n    buy_entry= close>ema and delta > 0\n    \n\n    sell_entry = close<ema and delta<0 \n    \n\n    if (rsi > 70 or rsi < 30)\n        reversal := true\n    \n\n    fastMA = ema(close, fast)\n    slowMA = ema(close, slow) \n    macd = fastMA - slowMA\n    signal = sma(macd, 9)\n    ema = ema(close, input(200))\n    \n\n    delta = macd - signal\n    buy_entry= close>ema and delta > 0 \n    \n\n    sell_entry = close<ema and delta<0\n    \n\n    if (rsi > 70 or rsi < 30)\n        reversal := true", "code_length": 653, "processed_at": "1749801645.1945715"}
{"metadata": {"file_path": "基于QQE和MA的趋势跟踪策略Trend-Following-Strategy-Based-on-QQE-and-MA.md", "name": "## 概述", "extension": ".md", "size_bytes": 32975, "modified_time": 1749801645.1985695, "description": "# 概述", "symbol": "unknown", "author": "JustUncleL", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": true, "has_market_analysis": true, "is_multiasset": true, "complexity_level": "medium"}, "complexity_metrics": {"loc": 169, "function_count": 0, "class_count": 0, "comment_ratio": 0.023529411764705882, "cyclomatic_complexity": 32}, "indicators": ["RSI", "MA", "EMA", "ATR"], "frequency": "日内", "strategy_patterns": [], "strategy_features": ["position_sizing"]}, "code": "Wilders_Period = RSILen * 2 - 1  \n\nRsi = rsi(close,RSILen)  \nRSIndex = ema(Rsi, SF)  \nAtrRsi = abs(RSIndex - RSIndex[1])  \nMaAtrRsi = ema(AtrRsi, Wilders_Period)\nDeltaFastAtrRsi = ema(MaAtrRsi,Wilders_Period) * QQEfactor\n\nnewshortband = RSIndex + DeltaFastAtrRsi \nnewlongband = RSIndex - DeltaFastAtrRsi\n\n\nQQEzlong = RSIndex >= 50 ? QQEzlong + 1 : 0\nQQEzshort = RSIndex < 50 ? QQEzshort + 1 : 0  \n\n\nQQExlong = FastAtrRsiTL < RSIndex ? QQExlong + 1 : 0\nQQExshort = FastAtrRsiTL > RSIndex ? QQExshort + 1 : 0\n\n\nthreshhold = 10 \nQQEclong = RSIndex > (50 + threshhold) ? QQEclong + 1 : 0\nQQEcshort = RSIndex < (50 - threshhold) ? QQEcshort + 1 : 0\n\n\n// 过滤条件  \nQQEflong = close > ma_medium 和  \n            ma_medium > ma_slow 和  \n            ma_fast > ma_medium\n             \nQQEfshort = close < ma_medium 和  \n            ma_medium < ma_slow 和 \n            ma_fast < ma_medium  \n\n\n开仓信号 = XC 或 XQ 或 XZ\n平仓信号 = XQ 或 XZ\n\n\nWilders_Period = RSILen * 2 - 1   \n\nRsi = rsi(close,RSILen)\nRSIndex = ema(Rsi, SF)   \nAtrRsi = abs(RSIndex - RSIndex[1])\nMaAtrRsi = ema(AtrRsi, Wilders_Period)  \nDeltaFastAtrRsi = ema(MaAtrRsi,Wilders_Period) * QQEfactor  \n\nnewshortband = RSIndex + DeltaFastAtrRsi\nnewlongband = RSIndex - DeltaFastAtrRsi  \n\n\nQQEzlong = RSIndex >= 50 ? QQEzlong + 1 : 0  \nQQEzshort = RSIndex < 50 ? QQEzshort + 1 : 0   \n\n\n\n3. Smooth RSI exiting threshold channel (XC), like a confirmed swing signal   \n\n\n\n\nOne or multiple of the above three crosses can be selected to identify entry and exit signals.\n\nThe buy and sell signals can choose to add an additional filter by moving averages:  \n\n\n\n\nThis helps avoid false signals in sideways markets.\n\nThe strategy is suitable for automated trading by using different QQE crosses for entries and exits:  \n\n\n\n\n\n### Advantages\n\nThe advantages of this strategy include:\n\n1. Using the QQE indicator to determine trend and cross signals. QQE itself has the characteristic of smoothing and noise reduction, which can decrease false signals.  \n\n2. Adding filter by moving averages can further avoid false signals in sideways markets and improve signal quality.\n\n3. Choosing different QQE crosses for entry and exit enables automated trading.  \n\n4. The smooth RSI signal has lagging effect, so the buy/sell signals will not repaint.  \n\n5. The parameters can be optimized on different timeframes to find the best combination.\n\n\n### Risks   \n\nThere are also some risks of this strategy:\n\n1. Wrong signals may occur during trend reversal. Stop loss should be set to control risks.\n\n2. Inappropriate parameter settings can affect strategy performance. Multiple tests and optimizations are needed to find the best parameters.  \n\n3. Different symbols and timeframes need separate test and parameter tuning.  \n\n4. Mechanical trading has risks of drawdown and consecutive losses. Position sizing and risk management are necessary.\n\nThe corresponding solutions are:\n\n1. Set stop loss to exit positions when loss reaches a certain amount.  \n\n2. Test different parameter combinations thoroughly to find the optimal parameters.\n\n3. Adjust parameters according to symbol and timeframe characteristics.  \n\n4. Use proper capital management, scale-in positions, and control per trade position size.\n\n\n### Optimization Directions   \n\nThere are several directions that this strategy can be optimized:\n\n1. Optimize QQE parameters including RSI length, RSI smoothing length, fast ATR length etc, to find the optimal parameter combination.  \n\n2. Optimize moving average parameters, adjust period, type etc to match best with QQE indicator.\n\n3. Test different QQE crosses for entry and exit to find the most stable combination.  \n\n4. Fine tune parameters according to different symbols and timeframes. Use shorter periods for lower timeframes and intraday trading.\n\n5. Add stop loss mechanism to stop out when loss reaches certain percentage.  \n\n6. Appropriately reduce position sizing and test different position management methods.  \n\n### Conclusion  \n\nThis strategy integrates using the QQE indicator for judging trend and crosses, and the moving average for filter, to generate trading signals. During live trading it can be optimized by adjusting parameters to improve signal quality, and by strict money management to control risks. The strategy suits automated trading with signal-to-signal mode, and can also aid discretionary trading. Further optimizations on logics and parameters can make it adaptable to more market conditions.  \n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1|4|Relative TimeFrame Multiplier for Second MA Ribbon (0=none, max=100)|\n|v_input_2|true|Show Moving Average Lines|\n|v_input_3|0|Fast MA Type: : EMA|SMA|WMA|VWMA|SMMA|DEMA|TEMA|HullMA|ZEMA|TMA|SSMA|\n|v_input_4|16|Fast - Length|\n|v_input_5|0|Medium MA Type: : EMA|SMA|WMA|VWMA|SMMA|DEMA|TEMA|HullMA|ZEMA|TMA|SSMA|\n|v_input_6|21|Medium - Length|\n|v_input_7|0|Slow MA Type: : EMA|SMA|WMA|VWMA|SMMA|DEMA|TEMA|HullMA|ZEMA|TMA|SSMA|\n|v_input_8|26|Slow Length|\n|v_input_9|14|RSI Length|\n|v_input_10|8|RSI Smoothing Factor|\n|v_input_11|5|Fast QQE Factor|\n|v_input_12|10|RSI Threshhold|\n|v_input_13|true|Show QQE Signal crosses|\n|v_input_14|false|Show QQE Zero crosses|\n|v_input_15|true|Show QQE Thresh Hold Channel Exits|\n|v_input_16|0|Select which QQE signal to Buy/Sell: XC|XQ|XZ|\n|v_input_17|0|Select which QQE signal to Close Order: XQ|XC|XZ|\n|v_input_18|true|Filter XQ Buy/Sell Orders by Threshold|\n|v_input_19|false|Use Moving Average Filter|\n|v_input_20|true|Use Trend Directional Filter|\n|v_input_21|false|Only Alert First Buy/Sell in a new Trend|\n|v_input_22_close|0|Source: close|high|low|open|hl2|hlc3|hlcc4|ohlc4|\n|v_input_23|2018|Backtest Start Year|\n|v_input_24|6|Backtest Start Month|\n|v_input_25|12|Backtest Start Day|\n\n\n> Source (PineScript)", "code_length": 5793, "processed_at": "1749801645.1985695"}
{"metadata": {"file_path": "基于RSI指标的量化交易策略Quantitative-Trading-Strategy-Based-on-RSI-Indicator.md", "name": "# 策略概述", "extension": ".md", "size_bytes": 9666, "modified_time": 1749801645.2065656, "description": "策略概述", "symbol": "unknown", "author": "unknown", "strategy_type": "量化", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": false, "has_market_analysis": true, "is_multiasset": true, "complexity_level": "medium"}, "complexity_metrics": {"loc": 156, "function_count": 0, "class_count": 0, "comment_ratio": 0.06369426751592357, "cyclomatic_complexity": 26}, "indicators": ["MACD", "RSI", "MA", "EMA"], "frequency": "高频", "strategy_patterns": ["trend_following", "ml_based"], "strategy_features": ["risk_management"]}, "code": "如果(过去6个月RSI指数最大值>90% 且 当前RSI<65%)\n   则卖出\n\n\n\n以上卖出和买入规则来自熟知量化策略的PlanB的文章。该策略致力于复制其研究结果,使更多交易者能够验证这一交易策略的效果。\n\n## 策略优势\n\n这一交易策略具有以下几点优势:\n\n1. 使用相对简单的RSI指标作为唯一技术指标,降低了策略复杂度。\n\n2. 买入和卖出规则清晰,容易理解,方便实盘验证。 \n\n3. 买入和卖出信号的判断全面考虑市场涨跌信息。卖出信号判断结合长期指标高点和短期调整; 买入信号判断结合了长期指标低点和短期反弹。\n\n4. 策略参考了知名量化大牛PlanB的研究成果,可作为他文章结论的独立验证。\n\n5. 作为初学者策略,相对简单易操作的规则,利于量化交易技能的培养。\n\n## 策略风险\n\n这一交易策略也存在一些主要风险:  \n\n1. 作为基于单一技术指标RSI的策略,无法应对更复杂的市场情况。RSI指标本身也会产生误导性信号。  \n\n2. 固定的买入卖出参数设置可能错过部分交易机会,或者形成交易信号偏迟。需要优化参数以适应不同市场周期。\n\n3. 策略过于简单追随PlanB文章结论,没有考虑独立的模型优化,可能导致实盘交易效果不佳。\n\n4. 买入卖出规则相对粗放,没有结合止损和止盈确保收益、控制风险。这在实盘中容易形成较大亏损。\n\n对策略进行以下几点优化可以降低风险,提高实盘表现:\n1. 增加副指标判断,避免RSI指标误导;  \n2. 优化参数设置适应不同周期特征;\n3. 增加止损止盈机制,有效控制风险;\n4. 结合独立数据训练出策略参数,确保参数稳健性。\n\n## 策略优化方向  \n\n为提高策略实盘表现,可从以下几个维度进行优化:  \n\n1. **增加副指标判断**:仅依赖RSI指标容易产生误导信号。可以引入诸如KD、MACD等副指标进行综合判断,提高信号准确性。 \n\n2. **动态参数优化**:当前买入卖出参数设置为固定数值,这难以适应市场的长短期变化。引入动态参数优化模块,实时调整参数,能显著提高策略表现。\n\n3. **止损/止盈机制**:策略当前没有止损止盈设置。添加trailing stop等止损机制,以及移动止盈点,可以有效控制单笔损失和锁定盈利。\n\n4. **独立参数训练**:直接使用PlanB文章的参数,没有经过独立验证。应用机器学习等方法,基于历史数据训练出最优参数组合。\n\n5. **复制组合优化**:将多个类似简单策略组合,可以提高整体稳定性和收益,降低单一策略风险。\n\n\n## 总结  \n\n本策略“PlanB RSI跟踪策略”遵循PlanB的经典文章设计思路,使用RSI指标构建了较为简单的量化交易策略。策略优势在于规则清晰、易于实现,适合量化入门学习。但策略也存在依赖单一指标、参数不够优化等问题。未来可从增加副指标、动态参数优化、止损/止盈设置、独立参数训练等方面进行策略增强,大幅提高实盘表现。\n\n||\n## Strategy Overview\n\nThe strategy is named \"PlanB RSI Tracking Strategy\". It utilizes the Relative Strength Index (RSI) as the primary technical indicator to set up buy and sell signals for automated trading.  \n\n## Strategy Logic\n\nThe strategy is mainly based on the following principles:\n\n1. If the highest RSI index in the past 6 months exceeds 90% and then drops below 65%, a sell signal is generated.  \n\n2. If the lowest RSI index in the past 6 months falls below 50% and then bounces more than 2% from the lowest point, a buy signal is generated.\n\n\nSpecifically, the sell logic is:\n\n\n\n\nThe buy logic is: \n\n\n\n\nThe above sell and buy rules come from the article by PlanB, a well-known quant strategist. The strategy aims to replicate his research results for more traders to validate the effectiveness of this trading strategy.\n\n\n## Advantages of the Strategy\n\nThis trading strategy has the following main advantages:\n\n1. Using RSI as the only technical indicator reduces complexity.\n\n2. Clear buy and sell rules that are easy to understand for live trading verification.\n   \n3. Buy and sell signals incorporate both long-term peak/bottom and short-term bounce/breakdown market information.\n\n4. The strategy references research from renowned quant PlanB, allowing independent verification of his conclusions.  \n\n5. As a beginner strategy with relatively simple rules, it helps nurture quant trading skills.\n\n\n## Risks of the Strategy \n\nThere are also some key risks for this trading strategy:\n\n1. Relying solely on RSI, it cannot handle more complex market regimes. RSI itself also gives false signals.\n\n2. Fixed parameter settings may miss trades or give delayed signals. Optimization is needed for adapting across market cycles.\n   \n3. Following PlanB blindly without independent optimization risks poor live performance. \n\n4. Raw buy/sell rules without stop loss or take profit may lead to large losses in live trading.\n\n\nBelow optimizations could help reduce risks and improve live performance:\n\n1. Add secondary indicators to avoid RSI false signals.  \n\n2. Optimize parameters for different cycle characteristics. \n\n3. Add stop loss / take profit mechanisms for risk control.\n\n4. Train strategy parameters independently to ensure robustness.\n\n\n## Directions for Strategy Optimization\n\nTo enhance live performance, optimizations can be made in the following dimensions:\n\n1. **Add secondary indicators**: Relying solely on RSI risks false signals. Incorporate indicators like KD, MACD for composite judgment and improve accuracy.\n   \n2. **Dynamic parameter optimization**: Current parameter values are fixed, failing to adapt across market cycles. Introduce dynamic optimization modules to adjust parameters in real-time for significantly improved performance.\n\n3. **Stop loss/take profit**: Currently lacking risk management features. Adding trailing stop loss, moving take profit points can effectively control single trade loss and lock in gains.\n\n4. **Independent parameter training**: Directly using PlanB article parameters without verification. Apply machine learning to find optimal parameter combinations based on historical data. \n\n5. **Portfolio optimization**: Combining multiple simple strategies improves overall stability and risk-adjusted returns.\n\n## Conclusion   \n\nThe \"PlanB RSI Tracking Strategy\" follows the design philosophy in PlanB's classic article, constructing a simple quant trading strategy based on RSI. The advantages lie in its clarity and ease of implementation, making it suitable for quant starter education. However, sole reliance on a single indicator and lack of optimization remain as issues. Future enhancements can be made via adding secondary indicators, dynamic parameter optimization, stop loss/take profit, independent parameter training to significantly improve live performance.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1|90|selllevel|\n|v_input_2|65|drop|\n|v_input_3|50|buylevel|\n\n\n> Source (PineScript)", "code_length": 5241, "processed_at": "1749801645.2065656"}
{"metadata": {"file_path": "基于Stochastic指标的弹性止损短期交易策略Short-term-Trading-Strategy-Based-on-Stochastic-Indicator-with-Elastic-Stop-Loss.md", "name": "# 概述", "extension": ".md", "size_bytes": 10371, "modified_time": 1749801645.2105634, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "unknown", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": true, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "medium"}, "complexity_metrics": {"loc": 132, "function_count": 0, "class_count": 0, "comment_ratio": 0.09022556390977443, "cyclomatic_complexity": 20}, "indicators": ["RSI", "MA"], "frequency": "高频", "strategy_patterns": ["trend_following", "mean_reversion"], "strategy_features": ["risk_management", "position_sizing"]}, "code": "### 止损原理 \n\n本策略使用弹性止损的方法,根据前期的枢轴点设置止损价位,代码如下:\n\n\n\n\n枢轴点代表了重要的支撑阻力,如果价格突破枢轴点,则退出仓位,使止损价位“弹性”跟随枢轴点变化。\n\n此外,止损价位也会考虑当前期间内最低价和最高价,进一步优化止损位置,如下代码所示:\n\n\n\n\n### 策略优势\n\n1. 使用Stochastic指标判断市场超买超卖状态,避免追高杀跌;\n\n2. 应用弹性止损原理,可以根据市场变化优化止损位置;\n\n3. 结合枢轴点突破实现止损,使止损更有效;\n\n4. 考虑当期最高最低价进行止损优化,使止损更精准。\n\n## 风险及解决方法\n\n1. Stochastic指标发出假信号的风险\n\n    - 解决方法:结合其他指标进行确认,避免错信\n\n2. 止损被突破造成损失扩大的风险\n\n    - 解决方法:适当缩小止损距离,或使用 Chandelier Exit 等止损方式\n\n3. 交易频繁造成交易费用增加的风险\n\n    - 解决方法:适当放宽入场条件,减少交易次数\n\n## 优化思路\n\n1. 优化止损策略,如使用 Chandelier Exit、移动止损、振荡止损等方式\n\n2. 优化入场条件,结合其他指标避免 Stochastic 指标的假信号\n\n3. 优化止盈方式,如使用移动止盈、振荡止盈等,实现更高的盈利率\n\n4. 添加位置管理,如固定每单数量、固定投资比例等,控制单笔风险\n\n5. 优化参数设定,如 K、D 期数、平滑周期等,针对不同市场调整参数\n\n## 总结\n\n本策略通过 Stochastic 指标判断超买超卖状态入场,并使用弹性止损方式进行风险管理。策略具有避免追高杀跌、止损有效等优势,但也存在一定的假信号风险。未来可通过优化入场条件、止损策略、止盈方式、风险管理等方面进一步完善该策略。\n\n||\n\n\n## Overview\n\nThis strategy uses the Stochastic oscillator indicator to determine overbought and oversold market conditions for short-term trading. It goes long when there is a golden cross on the Stochastic indicator, and goes short on a death cross, with elastic stop loss based on previous pivot points to secure profits while controlling risks.\n\n## Strategy Logic\n\n### Entry Logic\n\nThe Stochastic oscillator indicator consists of the %K line and %D line. When the %K line crosses above the %D line, a golden cross buy signal is generated. When the %K line crosses below the %D line, a death cross sell signal is triggered. This strategy simply follows the crossovers on the Stochastic indicator to determine entries.\n\nSpecifically, when there is a golden cross on the Stochastic indicator, if the %K value is less than 80 (not overbought), a long position will be taken. On a Stochastic death cross, if the %K value is greater than 20 (not oversold), a short position will be initiated.\n\n\n\n\nPivots represent important support and resistance levels. If price breaks through the pivot level, the position will be closed and the stop loss price will \"elasticly\" follow the changing pivot points.\n\nIn addition, the stop price also considers the highest and lowest prices of the current period for further optimization:\n\n\n\n\n### Advantages\n\n1. Using Stochastic to avoid chasing tops and bottoms;\n\n2. Elastic stop loss follows market changes and optimizes stop price; \n\n3. Stop loss based on pivot point breakout is more effective;\n\n4. Stop price optimization using current highest and lowest prices makes stop more precise.\n\n## Risks and Solutions\n\n1. Risk of false signals from Stochastic\n\n    - Solution: Confirm signals with other indicators to avoid false signals\n\n2. Risk of stop loss being hit and loss increased\n\n    - Solution: Reduce stop distance, or use methods like Chandelier Exit\n\n3. Risk of high trading frequency and commissions\n\n    - Solution: Loosen entry rules to reduce number of trades\n\n## Optimization Directions \n\n1. Optimize stop loss, using methods like Chandelier Exit, trailing stop, oscillating stop loss etc\n\n2. Optimize entry rules with other indicators to avoid Stochastic false signals\n\n3. Optimize profit taking, using trailing profit target, oscillating profit target etc to increase profitability\n\n4. Add position sizing, like fixed quantity per trade, fixed risk percentage etc to control per trade risk\n\n5. Optimize parameters like K, D periods, smoothing etc based on different markets\n\n## Summary\n\nThis strategy enters based on Stochastic overbought/oversold and manages risk with elastic stop loss. It has the advantage of avoiding chasing momentum, effective stops, but also has some false signal risks. Future improvements can be made on entries, stops, exits, risk management etc.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1|400|TakeProfitLevel|\n|v_input_2|10|Entry distance for stop orders|\n\n\n> Source (PineScript)", "code_length": 3783, "processed_at": "1749801645.2105634"}
{"metadata": {"file_path": "基于Voss滤波器和趋势指标的量化交易策略Quantitative-Trading-Strategy-Based-on-Voss-Filter-and-Trend-Indicator.md", "name": "# 概述", "extension": ".md", "size_bytes": 11310, "modified_time": 1749801645.2145615, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": true, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "medium"}, "complexity_metrics": {"loc": 154, "function_count": 0, "class_count": 0, "comment_ratio": 0.0967741935483871, "cyclomatic_complexity": 19}, "indicators": ["RSI", "MA"], "frequency": "高频", "strategy_patterns": ["trend_following", "mean_reversion"], "strategy_features": ["risk_management", "market_regime"]}, "code": "其中,_x1为价格的一阶差分;_x2为平滑因子;_s1、_s2、_s3为滤波参数;_f1为周期参数;_filt为滤波结果;_voss为最终输出。\n\n该滤波器可看作是一种平滑滤波,它强调当前和过去几个周期的信息,从而提前发出买入/卖出信号。由于内在的组 delays,它就像“看进了未来”一样,可在其他指标之前发出预测性信号。\n\n### 瞬时趋势线指标\n\n瞬时趋势线指标由以下公式计算:\n\n\n\n\n该指标实时绘制一条与价格最符合的趋势线,可准确判断趋势方向和强弱。\n\n### 策略逻辑\n\n当Voss由负转正,并上穿滤波结果时产生买入信号。\n\n当Voss由正转负,并下穿滤波结果时产生卖出信号。 \n\n同时,只有当瞬时趋势线指标确认趋势方向时,才会发出交易信号。这能过滤掉Voss滤波器在趋势市场中可能发出的错误信号。\n\n## 策略优势\n\n- Voss滤波器可提前发出预测性信号,捕捉周期性反转点\n- 瞬时趋势线指标可准确判断趋势方向,避免因滤波器提前发出的错误信号\n- 可配置参数进行优化,适用于不同周期和市场环境\n- 可添加止损策略控制风险\n\n## 策略风险及解决方法\n\n- 该策略依赖滤波器提前发出信号,可能跳过部分趋势行情 \n- 在强势趋势下,可能产生反作用交易信号,带来损失\n\n可通过以下方法降低风险:\n\n- 优化周期参数,匹配不同品种周期性\n- 调整带宽参数,降低滤波强度,减少误导信号\n- 增加趋势过滤,避免强势趋势下的错误信号\n- 设置止损策略,控制单笔损失\n\n## 策略优化方向\n\n该策略可从以下方面进行优化:\n\n- 尝试不同的价格源,如收盘价、均线等,获得更好的输入\n- 调整滤波器周期参数,匹配具体品种的周期性\n- 优化趋势指标参数,获取更准确的趋势判断 \n- 尝试不同的趋势指标,寻找更合适的组合\n- 添加止损、 trailing stop 策略,更好控制风险\n- 进行参数优化,寻找最佳参数组合\n\n## 总结\n\n该策略综合Voss滤波器和趋势指标,可有效识别市场的周期性反转点。通过优化参数,控制风险,该策略可实现稳定的量化交易系统。它可广泛应用于具有明显周期性的品种,在回测中已展现出良好的交易效果。总体而言,该策略具有独特的预测能力,且可通过多方面优化,具有广阔的应用前景。\n\n||\n\n## Overview\n\nThis strategy combines the Voss Predictive Filter and Ehlers Instantaneous Trendline indicator to identify cyclical turning points in the market for quantitative trading. The Voss filter provides early buy/sell signals, while the trendline indicator determines the overall trend direction to avoid misleads from the Voss filter in trending markets. This strategy works well on instruments like Bitcoin that exhibit cyclical patterns, as evidenced by good backtest results.\n\n## Strategy Logic\n\n### Voss Predictive Filter \n\nThe Voss filter comes from John F. Ehlers' article \"A Peek Into The Future\". Its calculation is as follows:\n\n\n\n\nWhere _x1 is the 1st order price difference; _x2 is a smoothing factor; _s1, _s2, _s3 are filter parameters; _f1 is the cycle parameter; _filt is the filter output; _voss is the final output.\n\nThe filter can be seen as a smoothed filter that emphasizes current and past cycle information to generate early signals. Due to inherent group delays, it \"looks into the future\" to produce predictive signals ahead of other indicators.\n\n### Instantaneous Trendline Indicator\n\nThe trendline indicator is calculated as:\n\n\n\n\nIt plots a trendline in real-time that closely fits the price action, accurately determining trend direction and strength.\n\n### Strategy Logic\n\nA buy signal is generated when the Voss crosses up through the filter result. \n\nA sell signal is generated when the Voss crosses down through the filter result.\n\nTrading signals are only accepted if confirmed by the trendline indicator. This avoids wrong signals from the Voss filter in trending markets.\n\n## Advantages\n\n- Voss filter provides early predictive signals to catch cyclical turns  \n- Trendline indicator accurately determines trend direction, avoiding wrong signals\n- Parameters can be optimized for different cycles and market environments\n- Stops can be added to control risk\n\n## Risks and Mitigation\n\n- Strategy relies on early signals, potentially missing some trends\n- Counter-trend signals may occur in strong trends, causing losses\n\nRisks can be reduced by:\n\n- Optimizing period parameter for instrument cycles\n- Reducing filter bandwidth to decrease false signals \n- Adding trend filters to avoid signals against strong trends  \n- Using stops to control loss per trade\n\n## Enhancement Opportunities\n\nThe strategy can be improved by:\n\n- Trying different price sources like close, moving averages etc. \n- Adjusting filter period for specific instrument cycles\n- Optimizing trend indicator parameters for better trend detection\n- Trying different trend indicators for better combinations\n- Adding stops, trailing stops for better risk control\n- Parameter optimization for best parameter sets\n\n## Conclusion\n\nThis strategy combines the Voss filter and trend indicator to effectively identify cyclical turns in the market. With optimized parameters and risk controls, it can produce a robust quantitative trading system. It is widely applicable to instruments exhibiting cyclical patterns, as evidenced by good backtest results. Overall, the strategy has unique predictive capabilities, and broad potential for enhancement through multi-dimensional optimization.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1_close|0|source: close|high|low|open|hl2|hlc3|hlcc4|ohlc4|\n|v_input_2|20|period|\n|v_input_3|4|predict|\n|v_input_4|0.25|bandwidth|\n|v_input_5_hl2|0|Source IT: hl2|high|low|open|close|hlc3|hlcc4|ohlc4|\n|v_input_6|0.07|Alpha|\n|v_input_7|false|Fill Trend Region|\n|v_input_8|false|Enable barcolors|\n|v_input_9|false|Hide Ribbon|\n|v_input_10|true|Custom Backtesting Dates|\n|v_input_11|2019|Backtest Start Year|\n|v_input_12|true|Backtest Start Month|\n|v_input_13|true|Backtest Start Day|\n|v_input_14|false|Backtest Start Hour|\n|v_input_15|2020|Backtest Stop Year|\n|v_input_16|2|Backtest Stop Month|\n|v_input_17|29|Backtest Stop Day|\n|v_input_18|false|Backtest Stop Hour|\n\n\n> Source (PineScript)", "code_length": 4919, "processed_at": "1749801645.2145615"}
{"metadata": {"file_path": "基于V型反转指标SMA策略V-Reversal-SMA-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 8991, "modified_time": 1749801645.2145615, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 12, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA", "EMA", "ATR"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "VMP = SUM(ABS(HIGH - LOW[1]),14)\nVMM = SUM(ABS(LOW - HIGH[1]),14)  \nSTR = SUM(ATR(1),14)\nVI+ = VMP/STR  \nVI- = VMM/STR\n\n\nVMP = SUM(ABS(HIGH - LOW[1]),14)  \nVMM = SUM(ABS(LOW - HIGH[1]),14)\nSTR = SUM(ATR(1),14)\nVI+ = VMP/STR\nVI- = VMM/STR", "code_length": 237, "processed_at": "1749801645.2145615"}
{"metadata": {"file_path": "基于价格波动率的双均线突破策略Price-Volatility-Breakout-Strategy-Based-on-Double-Moving-Averages.md", "name": "# 概述", "extension": ".md", "size_bytes": 6070, "modified_time": 1749801645.2225575, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 4, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA", "EMA"], "strategy_patterns": [], "strategy_features": []}, "code": "i=(src/nz(src[1], src))*100\n\n\ni=(src/nz(src[1], src))*100", "code_length": 57, "processed_at": "1749801645.2225575"}
{"metadata": {"file_path": "基于价格量变动的趋势策略Modified-Price-Volume-Trend-Strategy-Based-on-Price-Volume-Changes.md", "name": "# 概述", "extension": ".md", "size_bytes": 7498, "modified_time": 1749801645.2225575, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": true, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 12, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "BOLL", "MA", "EMA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "rV = 交易量 / 50000\nxCumPVT = 昨日xCumPVT + (rV * (最新收盘价 - 昨日收盘价) / 昨日收盘价)\n\n\nnRes = Level + Scale * xCumPVT\n\n\nrV = Volume / 50000\nxCumPVT = Yesterday's xCumPVT + (rV * (Latest Close Price - Yesterday's Close Price) / Yesterday's Close Price) \n\n\nnRes = Level + Scale * xCumPVT", "code_length": 270, "processed_at": "1749801645.2225575"}
{"metadata": {"file_path": "基于动量爆发跟踪策略The-Momentum-Burst-Tracking-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 10362, "modified_time": 1749801645.2305536, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 4, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA", "ATR"], "frequency": "日线", "strategy_patterns": [], "strategy_features": []}, "code": "trailPrice = close * (100 - trailPercent) / 100\n\n\ntrailPrice = close * (100 - trailPercent) / 100", "code_length": 97, "processed_at": "1749801645.2305536"}
{"metadata": {"file_path": "基于双EMA价格摆动策略The-Dual-EMA-Price-Swing-Strategy.md", "name": "## 概述", "extension": ".md", "size_bytes": 8940, "modified_time": 1749801645.2345517, "description": "# 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 18, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["MACD", "RSI", "KDJ", "BOLL", "MA", "EMA"], "frequency": "周线", "strategy_patterns": [], "strategy_features": []}, "code": "APO = EMA(短期) - EMA(长期)\n\n\nxShortEMA = ema(收盘价, LengthShortEMA) \n\nxLongEMA = ema(收盘价, LengthLongEMA)\n\nxAPO = xShortEMA - xLongEMA\n\n\nAPO = EMA(short period) − EMA(long period)\n\n\nxShortEMA = ema(close price, LengthShortEMA)  \n\nxLongEMA = ema(close price, LengthLongEMA)\n\nxAPO = xShortEMA − xLongEMA", "code_length": 295, "processed_at": "1749801645.2345517"}
{"metadata": {"file_path": "基于反转RSI的错过信号追踪交易策略RSI-Signal-Tracking-Reversal-Trading-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 9632, "modified_time": 1749801645.2385495, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "unknown", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": true, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "medium"}, "complexity_metrics": {"loc": 140, "function_count": 0, "class_count": 0, "comment_ratio": 0.09219858156028368, "cyclomatic_complexity": 11}, "indicators": ["RSI", "MA", "EMA"], "frequency": "日内", "strategy_patterns": ["trend_following", "mean_reversion"], "strategy_features": ["risk_management", "position_sizing"]}, "code": "若前一根K线RSI指标处于超买状态,当前K线RSI指标退出超买状态,产生追踪做多信号`up1`;若前一根K线RSI指标处于超卖状态,当前K线RSI指标退出超卖状态,产生追踪做空信号`dn1`。\n\n\n\n\n### 退出判定\n\n当持仓方向与K线实体方向一致时,并且实体突破其10周期平均值的一半时,产生退出信号。\n\n\n\n\n## 策略优势\n\n1. 追踪RSI指标错过的反转信号,避免需要及时捕捉超买超卖点的困难。\n\n2. 利用RSI指标的反转属性,捕捉反转机会。\n\n3. 结合K线实体方向和大小进行退出判断,避免反弹后继续追踪。\n\n## 风险及解决方法\n\n1. RSI指标发出假信号的风险\n\n   - 解决方法:结合其他指标进行确认,避免错信。\n\n2. 追踪信号时,价格可能已经发生一定回调,亏损风险大\n\n   - 解决方法:降低入场仓位,或优化入场时机。\n\n3. 部分反弹无法获利就发出退出信号的风险\n\n   - 解决方法:优化退出判定逻辑,提高持仓获利机会。\n\n## 优化思路\n\n1. 优化参数设定,如超买超卖线、回看周期等,针对不同市场调整。\n\n2. 调整仓位管理方式,如追踪信号时降低仓位。\n\n3. 优化入场时机,在追踪信号基础上,添加其他条件限制。\n\n4. 优化退出方式,提高获利概率,如引入移动止盈等方式。\n\n5. 优化止损方式,降低亏损风险,如引入移动止损、扇形止损等。\n\n## 总结\n\n本策略基于RSI指标的超买超卖信号实现追踪反转交易。策略具有追踪反转信号的优势,但也存在一定的假信号风险和亏损风险。通过持续优化,可以进一步提高策略的稳定性和收益率。\n\n||\n\n\n## Overview\n\nThis strategy implements reversal trading by tracking missed overbought and oversold signals from the RSI indicator. Buy signals are generated when RSI drops from overbought levels, and sell signals when RSI bounces from oversold levels, aiming to capture reversal opportunities.\n\n## Strategy Logic \n\n### Signal Identification\n\nRSI indicator identifies overbought/oversold levels. Overbought when RSI crosses above the overbought threshold, oversold when crossing below the oversold threshold.\n\n\n\n\nIf RSI was overbought last bar and exits overbought this bar, a buy signal `up1` is triggered. If RSI was oversold last bar and exits oversold this bar, a sell signal `dn1` is generated.\n\n\n\n\n### Exit Logic\n\nIf the bar direction aligns with position direction, and bar body exceeds half of its 10-period average, an exit signal is triggered.\n\n\n\n\n## Advantages\n\n1. Track missed RSI reversal signals, avoiding the need to timely catch overbought/oversold points.\n\n2. Leverage RSI's reversal property to capture turning points.\n\n3. Incorporate bar direction and size into exit logic to avoid further tracking after pullbacks.\n\n## Risks and Solutions\n\n1. Risk of false signals from RSI\n\n   - Solution: Confirm signals with other indicators to avoid false signals\n\n2. Prices may already have pulled back significantly when tracking signal, increasing loss risk\n\n   - Solution: Reduce position size on entry, or optimize entry timing\n\n3. Risk of premature exits before full profitable reversal\n\n   - Solution: Improve exit logic to increase chance of capturing profits\n\n## Enhancement Opportunities\n\n1. Optimize parameters like overbought/oversold levels, lookback period etc based on different markets\n\n2. Adjust position sizing, like lowering size when tracking signals\n\n3. Improve entry timing, adding filters beyond tracking signals \n\n4. Enhance exits to increase profitability, like trailing profit stops\n\n5. Optimize stops to reduce losses, like trailing stops or cone stops\n   \n## Summary\n\nThis strategy implements reversal trading by tracking RSI overbought/oversold signals. It has the advantage of catching reversal signals but also has risks of false signals and losses. Further optimizations can improve the strategy's stability and profitability.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1|true|Long|\n|v_input_2|true|Short|\n|v_input_3|false|Use Martingale|\n|v_input_4|100|Capital, %|\n|v_input_5|14|RSI Period|\n|v_input_6|25|RSI limit|\n|v_input_7|false|Show Arrows|\n|v_input_8|1900|From Year|\n|v_input_9|2100|To Year|\n|v_input_10|true|From Month|\n|v_input_11|12|To Month|\n|v_input_12|true|From day|\n|v_input_13|31|To day|\n\n\n> Source (PineScript)", "code_length": 3399, "processed_at": "1749801645.2385495"}
{"metadata": {"file_path": "基于威廉VIX指标和DEMA指标的跨时间段交易策略Volatility-and-Trend-Tracking-Strategy-Across-Timeframes-Based-on-Williams-VIX-and-DEMA.md", "name": "# 概述", "extension": ".md", "size_bytes": 11123, "modified_time": 1749801645.2545416, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 4, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "BOLL", "MA", "EMA", "OBV"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "WVF = ((Highest(close, n) - Low) / (Highest(close, n))) * 100\n\n\nWVF = ((Highest(close, n) - Low) / (Highest(close, n))) * 100", "code_length": 125, "processed_at": "1749801645.2545416"}
{"metadata": {"file_path": "基于导数的交易策略Derivative-Based-Trading-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 10274, "modified_time": 1749801645.2545416, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 10, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "hullma = wma(2*wma(src,sm/2)-wma(src,sm),round(sqrt(sm)))\n\n\nspeed = (hullma-hullma[len])/len\n\n\nhullma = wma(2*wma(src,sm/2)-wma(src,sm),round(sqrt(sm))) \n\n\nspeed = (hullma-hullma[len])/len", "code_length": 188, "processed_at": "1749801645.2545416"}
{"metadata": {"file_path": "基于布林带震荡器的趋势追踪策略Trend-Following-Strategy-Based-on-Bollinger-Band-Oscillator.md", "name": "# 概述", "extension": ".md", "size_bytes": 6844, "modified_time": 1749801645.2585397, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 4, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "BOLL", "MA", "EMA", "ATR"], "frequency": "日线", "strategy_patterns": [], "strategy_features": []}, "code": "BBO = (收盘价 - N日移动平均价) / (2 * N日标准差) * 100\n\n\nBBO = (Close - N-day Moving Average) / (2 * N-day Standard Deviation) * 100", "code_length": 119, "processed_at": "1749801645.2585397"}
{"metadata": {"file_path": "基于指数移动平均和成交量加权的多因子量化策略Quantitative-Strategy-Based-on-Exponential-Moving-Average-and-Volume-Weighting.md", "name": "# 概述", "extension": ".md", "size_bytes": 10926, "modified_time": 1749801645.2665355, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": true, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 20, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 4}, "indicators": ["RSI", "MA", "EMA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "xMAVolPrice = ema(volume * close, length) \nxMAVol = ema(volume, length)\nnRes = xMAVolPrice / xMAVol\n\n\nif (nRes < close[1]) \n    做多\nif (nRes > close[1])\n    做空\n\n\nxMAVolPrice = ema(volume * close, length)\nxMAVol = ema(volume, length) \nnRes = xMAVolPrice / xMAVol\n\n\nif (nRes < close[1])  \n    long\nif (nRes > close[1]) \n    short", "code_length": 326, "processed_at": "1749801645.2665355"}
{"metadata": {"file_path": "基于改进型MACD指标的短线交易策略Reverse-Momentum-Trading-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 7545, "modified_time": 1749801645.2665355, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 10, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["MACD", "RSI", "MA", "EMA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "fastMA = ema(close, 32) \nslowMA = ema(close, 5)\nxmacd = fastMA - slowMA\nxMA_MACD = ema(xmacd, 5)\n\n\nfastMA = ema(close, 32)\nslowMA = ema(close, 5) \nxmacd = fastMA - slowMA\nxMA_MACD = ema(xmacd, 5)", "code_length": 195, "processed_at": "1749801645.2665355"}
{"metadata": {"file_path": "基于极值法的统计波动率回测策略Statistical-Volatility-Backtest-Strategy-Based-on-Extreme-Value-Method.md", "name": "## 概述", "extension": ".md", "size_bytes": 7320, "modified_time": 1749801645.2705336, "description": "# 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "unknown", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 14, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA"], "frequency": "周线", "strategy_patterns": [], "strategy_features": []}, "code": "SqrTime = sqrt(253 / Length)  \n   Vol = ((0.6 * log(xMaxC / xMinC) * SqrTime) + (0.6 * log(xMaxH / xMinL) * SqrTime)) * 0.5\n   \n\n   pos = iff(nRes > TopBand, 1, \n             iff(nRes < LowBand, -1, nz(pos[1], 0)))\n   \n\n   SqrTime = sqrt(253 / Length)\n   Vol = ((0.6 * log(xMaxC / xMinC) * SqrTime) + (0.6 * log(xMaxH / xMinL) * SqrTime)) * 0.5\n   \n\n   pos = iff(nRes > TopBand, 1,  \n             iff(nRes < LowBand, -1, nz(pos[1], 0)))", "code_length": 436, "processed_at": "1749801645.2705336"}
{"metadata": {"file_path": "基于波动趋势追踪策略Volatility-Trend-Tracking-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 10588, "modified_time": 1749801645.2745316, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": false, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 81, "function_count": 0, "class_count": 0, "comment_ratio": 0.04878048780487805, "cyclomatic_complexity": 17}, "indicators": ["MACD", "RSI", "MA", "EMA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "esa = ema(hlc3, 10) \nd = ema(abs(hlc3 - esa), 10)\nci = (hlc3 - esa) / (0.015 * d)\nwt = ema(ci, 21)\n\n\nrsiup = rma(max(change(close), 0), 14) \nrsidown = rma(-min(change(close), 0), 14) \nrsi = rsidown == 0 ? 100 : rsiup == 0 ? 0 : 100 - (100 / (1 + rsiup / rsidown))\n\n\nesa = ema(hlc3, 10)\nd = ema(abs(hlc3 - esa), 10) \nci = (hlc3 - esa) / (0.015 * d)\nwt = ema(ci, 21)\n\n\nIts standard value is 0-100. Above 70 is overbought and below 30 is oversold.\n\nCombined with these two indicators, when RSI is below 25 and WaveTrend is below -60, it is oversold to go long. When RSI is above 75 and WaveTrend is above 60, it is overbought to go short.\n\n## Advantage Analysis\nThe advantages of this strategy include:\n\n1. WaveTrend indicator can accurately and reliably determine the price trend direction.\n2. RSI filters can avoid unnecessary trades and improve win rate.\n3. Trend tracking method can maximize profits from catching price trends.  \n4. The strategy idea is simple and clear, parameters are flexible to adjust for different products and markets.\n5. Easy to implement and test in live trading, good for further optimization.\n\n## Risk Analysis\nThere are also some risks:  \n\n1. Both WaveTrend and RSI have some lag, may miss price reversal points. \n2. False signals may still occur in sideways markets despite filters.\n3. Lack of effective stop loss method to control single loss.\n4. Reasonable parameter tuning needs to match characteristics and trading frequency.\n\nSolutions:\n1. Add indicators for combinational optimizations to improve signal accuracy.\n2. Add stop loss strategies to control single loss. \n3. Find optimal parameter combinations to adapt the strategy.\n\n## Optimization Directions\nThe strategy can be optimized in the following directions:\n\n1. Change or add judgment indicators to improve signal accuracy, e.g. MACD, KD etc.\n\n2. Optimize parameter settings to adapt different products, e.g. adjust smooth periods. \n\n3. Add tracking stop loss strategies to control single loss, e.g. percentage stop loss, trailing stop loss etc.\n\n4. Consider different pyramiding strategies, e.g. Martingale instead of fixed quantity.\n\n5. Optimize adaptive range parameters to improve judgment accuracy.  \n\n## Conclusion  \nThe overall idea of the strategy is clear, using volatility indicators to determine price trends and filter noise effectively. There is room for optimization in multiple aspects to make the strategy more robust. Through parameter tuning, it can be adapted to different products and is worth further live testing.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1|true|Long|\n|v_input_2|true|Short|\n|v_input_3|false|Use Martingale|\n|v_input_4|100|Capital, %|\n|v_input_5|true|Show Arrows|\n|v_input_6|2018|From Year|\n|v_input_7|2100|To Year|\n|v_input_8|true|From Month|\n|v_input_9|12|To Month|\n|v_input_10|true|From day|\n|v_input_11|31|To day|\n\n\n> Source (PineScript)", "code_length": 2924, "processed_at": "1749801645.2745316"}
{"metadata": {"file_path": "基于海龟交易员策略的突破反转模型Breakout-Reversal-Model-Based-on-Turtle-Trading-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 21349, "modified_time": 1749801645.2745316, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": true, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "medium"}, "complexity_metrics": {"loc": 126, "function_count": 0, "class_count": 0, "comment_ratio": 0.07874015748031496, "cyclomatic_complexity": 30}, "indicators": ["RSI", "MA", "EMA", "ATR"], "frequency": "高频", "strategy_patterns": ["trend_following", "market_making"], "strategy_features": ["risk_management", "position_sizing", "market_regime"]}, "code": "unit = (percentage_to_risk/100)*account/atr*syminfo.pointvalue\n\n\n\n有两个系统一起工作:\n突破是一个新的高点或新低点。 如果这是一个新的高点,我们打开多头头寸,反之,如果这是一个新的低点,我们进入空头头寸。\n\n我们添加一个额外的规则:\n该额外规则允许交易员参与主要趋势,如果跳过了系统1信号。 如果跳过了系统1的信号,而下一根K线也是一个新的20日突破,则S1不会发出信号。 我们必须等待S2信号或等待不产生新的突破的K线来重新激活S1。\n\n## 优势分析\n\n海龟策略允许我们在价格走势对我们有利时向头寸添加额外的单位。 我将策略配置为允许在同一方向添加多达5个订单。 因此,如果价格从买入变化,我们会添加单位。 \n\n我们将首订单(多头或空头)设置为最大订单。 后续的金字塔订单将比首个订单的单位数更少。 \n\n我们为首个订单设置了10%的最大止损,这意味着您不会损失超过首个订单价值的10%。 然而,由于止损会增加/减少0.5 \\* ATR(20),您的金字塔订单可能会损失更多,此时不会保证损失不超过10%。 风险仍然得到很好的管理,因为这些订单的价值低于首个订单的价值。 \n\n## 风险分析\n\n该策略最大的风险在于持仓过大。由于委托下单采用市价单,如果同时下达多笔巨额市价单,会对报价有很大的冲击,造成大额的滑点。这会造成极大的资金损失。\n\n另一个风险就是不适当的资金管理配置。如止损配置错误或者比例过大,都会导致巨额亏损。这需要根据自己的风险偏好谨慎配置。\n\n## 优化方向\n\n该策略可以在以下几个方面进行优化:\n\n1. 可以测试不同参数对收益率和夏普比率的影响,如ATR周期,止损的ATR倍数等。找到最优参数组合。\n\n2. 可以测试不同的进场和出场规则。如用K线形态作为额外的过滤条件。\n\n3. 可以尝试其他类型的止损方式,如移动止损,动态止损。这可能可以减少止损被击穿的概率。\n\n4. 可以测试不同数量的金字塔订单。订单越多,杠杆和风险越大。找到最佳平衡点。\n\n5. 可以尝试在特定的时间段内(如美国非农就业数据发布前)停止交易,以规避重大事件的冲击。\n\n## 总结\n该策略整体来说,风险收益平衡良好,适合中长线趋势交易。它具有交易系统化,风险可控等优势。通过优化,可以进一步提高策略的稳定性和收益率。\n\n||\n\n## Overview\n\nThis strategy is based on the famous \"Turtle Trading Strategy\", which has been validated over the years. It sends long and short signals with pyramid orders of up to 5, meaning that the strategy can trigger up to 5 orders in the same direction. With good risk and money management.  \n\nIt should be noted that the strategy combines 2 systems working together (S1 and S2).\n\n## Strategy Logic  \n\nPosition sizing is very important for turtle traders to properly manage risk. This position sizing strategy adapts to market volatility and account (gains and losses). It is based on ATR (Average True Range), which can also be called \"N\". Its default length is 20.\n\nThe number of units to buy is:\n\n\n\n\nDepending on your risk appetite, you can increase the percentage of your account, but turtle traders default to 1%. If you trade contracts, units must be rounded down by default.  \n\nThere is also an additional rule to reduce risk if the value of the account falls below initial capital: in this case and only in this case, in the unit formula must be replaced by:  \n\n\n\n\n2 systems work together:  \nA breakout is a new high or new low. If it is a new high, we open a long position and vice versa if it is a new low we enter a short position.  \n\nWe add an additional rule:  \nThis additional rule allows the trader to be in major trends if the system 1 signal has been skipped. If a signal for system 1 has been skipped, and the next candle is also a new 20-day breakout, S1 does not give a signal. We have to wait for the S2 signal or wait for a candle that does not make a new breakout to reactivate S1.  \n\n## Advantage Analysis   \n\nThe Turtle Strategy allows us to add extra units to the position if the price moves in our favor. I have configured the strategy to allow up to 5 orders to be added in the same direction. So if the price varies from, we add units with the position size formula.  \n\nWe have set a maximum SL of 10% for the first order, meaning you won't lose more than 10% of the value of your first order. However, it is possible to lose more on your pyramid orders, as the SL is increased/decreased by 0.5*ATR(20), which does not secure a loss of more than 10% on your pyramid orders.  \n\n## Risk Analysis  \n\nThe biggest risk of this strategy is oversized positions. Since market orders are used for order placement, placing multiple huge market orders at the same time will have a huge impact on the quote, causing large slippage. This will lead to huge capital losses.  \n\nAnother risk is improper capital management configuration. For example, incorrect stop loss configuration or oversized proportions can lead to huge losses. This needs to be configured with caution according to one's own risk appetite.\n\n## Optimization\n\nThe strategy can be optimized in the following aspects:  \n\n1. Test the impact of different parameters such as ATR period, ATR multiplier for stop loss, etc. on return and sharpe ratio. Find the optimal parameter combination.\n\n2. Test different entry and exit rules. For example, use candlestick patterns as additional filters.  \n\n3. Try other types of stop losses, such as moving stop loss, dynamic stop loss. This may reduce the probability of stop loss being hit.  \n\n4. Test different number of pyramid orders. The more orders, the greater the leverage and risk. Find the best balance point.\n\n5. Try to stop trading during specific time periods (such as before the release of US Non-Farm Payrolls data) to avoid the impact of major events.  \n\n## Summary  \n\nOverall, this strategy strikes a good balance between risk and reward, suitable for medium and long term trend trading. It has the advantages of trading systematization, controllable risks. The strategy can be further improved by optimization to increase stability and return.  \n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_float_1|true|(?Turtle Parameters)Risk % of capital|\n|v_input_int_1|20|ATR period|\n|v_input_float_2|1.5|Stop ATR|\n|v_input_float_3|0.5|Pyramid Profit|\n|v_input_int_2|20|S1 Long|\n|v_input_int_3|55|S2 Long|\n|v_input_int_4|10|S1 Long Exit|\n|v_input_int_5|20|S2 Long Exit|\n|v_input_int_6|15|S1 Short|\n|v_input_int_7|55|S2 Short|\n|v_input_int_8|7|S1 Short Exit|\n|v_input_int_9|20|S2 Short Exit|\n|v_input_1|timestamp(1 Jan 2020 00:00:00)|(?Backtesting Period)Start Date|\n|v_input_2|timestamp(1 July 2034 00:00:00)|End Date|\n\n\n> Source (PineScript)", "code_length": 5412, "processed_at": "1749801645.2745316"}
{"metadata": {"file_path": "基于相对强弱指数RSI与止损的多头量化交易策略RSI-based-Long-Strategy-with-Trailing-Stop-for-Quantitative-Trading.md", "name": "# 概述", "extension": ".md", "size_bytes": 9161, "modified_time": 1749801645.2745316, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 6, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA", "ATR"], "frequency": "日线", "strategy_patterns": [], "strategy_features": []}, "code": "RS = N天内上涨幅度的平均值 / N天内下跌幅度的平均值\nRSI = 100 - 100 / (1 + RS)\n\n\nRS = Average gain over N days / Average loss over N days\nRSI = 100 - 100 / (1 + RS)", "code_length": 143, "processed_at": "1749801645.2745316"}
{"metadata": {"file_path": "基于线性回归拦截点的量化策略Quant-Strategy-Based-on-Linear-Regression-Intercept.md", "name": "# 概述", "extension": ".md", "size_bytes": 7768, "modified_time": 1749801645.2825277, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 12, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "xX = Length *(Length - 1)* 0.5  \nxDivisor = xX *xX - Length* Length *(Length - 1) *(2 * Length - 1) / 6\nxXY = Σ(i *收盘价[i]),i从0到Length-1  \nxSlope = (Length *xXY - xX* Σ(收盘价, Length))/ xDivisor\nxLRI = (Σ(收盘价, Length) - xSlope * xX) / Length\n\n\nxX = Length *(Length - 1)* 0.5\nxDivisor = xX *xX - Length* Length *(Length - 1) *(2 * Length - 1) / 6  \nxXY = Σ(i *Closing Price[i]), i from 0 to Length-1\nxSlope = (Length *xXY - xX* Σ(Closing Price, Length))/ xDivisor \nxLRI = (Σ(Closing Price, Length) - xSlope * xX) / Length", "code_length": 517, "processed_at": "1749801645.2825277"}
{"metadata": {"file_path": "基于超级趋势和CCI指标的多时间框架交易策略Best-Supertrend-CCI-Multi-Timeframe-Trading-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 10514, "modified_time": 1749801645.2865255, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {"timeframe": "input(28, "}, "training_labels": {"has_risk_management": true, "has_position_sizing": false, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "medium"}, "complexity_metrics": {"loc": 130, "function_count": 0, "class_count": 0, "comment_ratio": 0.12213740458015267, "cyclomatic_complexity": 24}, "indicators": ["MACD", "RSI", "KDJ", "MA", "ATR", "CCI"], "frequency": "日内", "strategy_patterns": ["ml_based"], "strategy_features": []}, "code": "cci_period = input(28, \"CCI Period\")  \ncci = cci(source, cci_period)\nML = input(0, \"CCI Mid Line pivot\")\n\n\nTrendUp := cci[1] > ML ? max(Up,TrendUp[1]) : Up \nTrendDown := cci[1]< ML ? min(Dn,TrendDown[1]) : Dn\n\n\nUp=hl2-(Factor*atr(Pd)) \nDn=hl2+(Factor*atr(Pd))\n\n\nTrend := cci > ML ? 1: cci < ML ? -1: nz(Trend[1],1)\n\n\nisLong  = st_trend == 1\nisShort = st_trend == -1\n\n\ncci_period = input(28, \"CCI Period\")\ncci = cci(source, cci_period)  \nML = input(0, \"CCI Mid Line pivot\")\n\n\n\nThis code checks if cci crosses above/below the 0 line to update Supertrend's upper/lower band.\n\n### Supertrend for Medium-to-long Term Trend  \n\nThe Supertrend indicator combines ATR with price to determine mid-to-long term trends. An upward penetration of the upper band signals an uptrend while a downward one signals downtrend.\n\nSupertrend is calculated as:  \n\n\n\n\nWhere Factor and Pd are adjustable parameters.\n\nThe Trend variable determines current Supertrend direction:\n\n\n\n\n### Integrate CCI and Supertrend\n\nBy integrating CCI and Supertrend, this strategy realizes multi timeframe trend judgment. CCI captures short-term swings while Supertrend focuses on bigger moves. \n\nWhen directions agree, more reliable trading signals are generated.\n\n\n\n\nEntries when short and medium-term align, exits when directions disagree.\n\n\n## Advantages\n\n### Multi Timeframe Judgment  \n\nIntegrates short-term and mid-term indicators for more reliable signals.\n\n\n### Customizable Parameters\n\nSupertrend's Factor and CCI Period can be adjusted for market conditions.   \n\n\n### Simple and Clear  \n\nSimple logic and easy to understand, great for beginners.\n\n \n### Wide Applicability\n\nApplicable to stocks, forex, crypto by parameter tuning.\n\n\n## Risks and Solutions\n\n### Price Whipsaw\n\nMany false signals may occur when prices fluctuate violently. Increase Supertrend's Factor to lower frequency.\n\n\n### Lagging Strong Moves  \n\nSupertrend has some lagging. Combine momentum indicators to track accelerating trends. \n\n\n### No Stop Loss\n\nAdd stop loss based on ATR for risk control.\n\n\n## Optimization Directions   \n\n### Market Correlation\n\nAdjust parameters for different markets.\n\n### Momentum Combination  \n\nCombine with MACD, KDJ etc. to catch strong momentum moves.\n\n### Machine Learning  \n\nUtilize AI and ensemble methods to optimize parameters and rules.\n\n\n## Conclusion  \n\nThis strategy successfully combines Supertrend and CCI for multi timeframe trend tracking. Simple logic, good reward potential and customizability. Can further improve via parameter tuning, stop loss, and machine learning to become a solid trading system.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1_close|0|source: close|high|low|open|hl2|hlc3|hlcc4|ohlc4|\n|v_input_2|28|CCI Period|\n|v_input_3|false|CCI Mid Line pivot|\n|v_input_4|3|[ST] Factor|\n|v_input_5|3|[ST] PD|\n\n\n> Source (PineScript)", "code_length": 2876, "processed_at": "1749801645.2865255"}
{"metadata": {"file_path": "基于超级趋势策略SuperTrend-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 14413, "modified_time": 1749801645.2865255, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 24, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 6}, "indicators": ["MACD", "RSI", "MA", "EMA", "ATR"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "atr2 = sma(tr, Periods) \n    \n\n    up = close - (Multiplier * atr)\n    dn = close + (Multiplier * atr)\n    \n\n    trend := trend == -1 and close > dn ? 1 : trend == 1 and close < up ? -1 : trend \n    \n\n    sellSignal = trend == -1 and trend[1] == 1\n    \n\n    atr2 = sma(tr, Periods)\n    \n\n    up = close - (Multiplier * atr) \n    dn = close + (Multiplier * atr)\n    \n\n    trend := trend == -1 and close > dn ? 1 : trend == 1 and close < up ? -1 : trend\n    \n\n    sellSignal = trend == -1 and trend[1] == 1", "code_length": 504, "processed_at": "1749801645.2865255"}
{"metadata": {"file_path": "基于趋势的止损追利策略Trend-Following-Strategy-with-Stop-Loss-and-Take-Profit.md", "name": "# 概述", "extension": ".md", "size_bytes": 7619, "modified_time": 1749801645.2865255, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": true, "has_market_analysis": true, "is_multiasset": true, "complexity_level": "low"}, "complexity_metrics": {"loc": 69, "function_count": 0, "class_count": 0, "comment_ratio": 0.05714285714285714, "cyclomatic_complexity": 12}, "indicators": ["RSI", "MA", "EMA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "isUptrend = close > close[1] \n\nisDowntrend = close < close[1]\n\n\nbuyCondition = getPrevDayClose() > getPrevDayOpen() and getPrevDayOpen() > getPrevDayClose()[1] and isUptrend\n\n\nstopLoss = getPrevDayClose() - 1.382 * (getPrevDayClose() - getPrevDayOpen()) \n\n\ntakeProfit = getPrevDayClose() + 2 * (getPrevDayClose() - stopLoss)\n\n\nisUptrend = close > close[1]\nisDowntrend = close < close[1] \n\n\nbuyCondition = getPrevDayClose() > getPrevDayOpen() and getPrevDayOpen() > getPrevDayClose()[1] and isUptrend\n\n\nstopLoss = getPrevDayClose() - 1.382 * (getPrevDayClose() - getPrevDayOpen())\n\n\n\nThis realizes the stop loss and profit taking strategy.\n\n## Advantage Analysis\n\nThe advantages of this strategy include:\n\n1. Trading along trends avoids risks of counter-trend shorting  \n2. Entry signal combines bullish candle and gap up to avoid premature long entry\n3. Stop loss positioning is reasonable to control single loss\n4. Take profit range is large with high profit potential\n\n## Risk Analysis\n\nThere are also some risks:  \n\n1. Unable to determine trend reversal points, may miss turning opportunities\n2. Stop loss is too close with higher probability of being trapped\n3. No consideration of cost control, profit may decrease at high trading frequency\n\nTo control these risks, some optimizations can be considered:\n\n1. Set trailers near stop loss to trail the stop loss\n2. Add cost control module to limit order frequency \n3. Add judgment of SUPPORT/RESISTANCE\n\n## Optimization Directions\n\nThe strategy can also be optimized in the following ways:\n\n1. Determine trend based on more factors like MA direction, volume change etc. \n2. Optimize entry signals with more candlestick patterns\n3. Dynamically trail stop loss and take profit according to price fluctuation\n4. Add quantitative module to control position sizing  \n5. Combinations of multiple timeframes to filter based on higher level trends\n\n## Summary  \n\nOverall this is quite a practical strategy, highlighting trading along trends while controlling risks. It can serve as a basic intraday trading strategy and can be modularly optimized for different markets and products to create diversified trading portfolios. In actual usage, controlling costs and avoiding traps remain critical, so maintaining proper mentality is key.\n\n[/trans]\n\n\n\n> Source (PineScript)", "code_length": 2313, "processed_at": "1749801645.2865255"}
{"metadata": {"file_path": "基于轨迹平均振幅的多时igkeit交易策略Gyroscopic-Bands-Strategy-Based-on-Multi-Time-Frame-and-Average-Amplitude.md", "name": "# 概述", "extension": ".md", "size_bytes": 7533, "modified_time": 1749801645.2905235, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 18, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 2}, "indicators": ["RSI", "MA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "pos:=if pos<close \n     nz(pos[1])+grav+traj  \nelse \n     nz(pos[1])-(grav)+traj\n\n\nbbl=pos-sma(avgdist,varb) \nbbh=pos+sma(avgdist,varb)\n\n\npos:=if pos<close  \n     nz(pos[1])+grav+traj\nelse\n     nz(pos[1])-(grav)+traj \n\n\nbbl=pos-sma(avgdist,varb)\nbbh=pos+sma(avgdist,varb)", "code_length": 271, "processed_at": "1749801645.2905235"}
{"metadata": {"file_path": "基于高斯误差函数的量化交易策略An-Analysis-of-Quantitative-Trading-Strategy-Based-on-Gaussian-Error-Function.md", "name": "# 概述", "extension": ".md", "size_bytes": 9641, "modified_time": 1749801645.2945216, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": true, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 63, "function_count": 0, "class_count": 0, "comment_ratio": 0.0625, "cyclomatic_complexity": 17}, "indicators": ["RSI", "MA"], "frequency": "高频", "strategy_patterns": ["ml_based"], "strategy_features": []}, "code": "fPSignal(ser, int) => \n    nStDev = stdev(ser, int)\n    nSma = sma(ser, int)\n    fErf(nStDev > 0 ? nSma/nStDev/sqrt(2) : 1.0)\n\n\nstrategy.entry(\"long\", strategy.long, 1, when = nPSignal < 0 and ndPSignal > 0)  \n\nstrategy.close(\"long\", when = nPSignal > 0 and ndPSignal < 0)\n\n\nfPSignal(ser, int) =>\n    nStDev = stdev(ser, int) \n    nSma = sma(ser, int)\n    fErf(nStDev > 0 ? nSma/nStDev/sqrt(2) : 1.0)\n\n\n\nIt goes long when P-Signal is less than 0 and change to positive. It closes position when P-Signal is greater than 0 and change to negative.\n\n## Advantages\n\nThe advantages of this strategy include:\n\n1. Using Gaussian error function to fit price distribution. Gaussian error function can fit normal distribution very well, which is in line with most financial time series distributions.\n2. Automatically adjusting parameters by standard deviation of price. This makes the strategy more robust across different market conditions.  \n3. P-Signal combines the advantages of trend following and mean reversion. It considers both price fluctuation trend and reversal points, which helps capturing opportunities in both trend trading and reversal trading.\n\n## Risks\n\nThere are also some risks with this strategy:  \n\n1. High frequency trading risk. As a typical high frequency trading strategy, it may generate more trades, thus bearing higher transaction costs and slippage risks.\n2. Underperformance in ranging markets. P-Signal may produce many false signals when price has no clear trend or pattern. \n3. Difficult parameter optimization. Complex relationship between multiple parameters makes parameter optimization challenging.\n\nTo reduce those risks, some measures can be taken into consideration: adding filters to reduce trade frequency; optimizing parameter combination and transaction costs setting; live testing and choosing suitable products.  \n\n## Enhancement\n\nThere is room for further enhancement:\n\n1. Adding filters to avoid false signals, eg. AND/OR with other indicators to filter out some noise.  \n2. Optimizing parameter combination. Adjusting the size of nPoints across different products and timeframes to improve stability.\n3. Considering dynamic parameters. Adaptively adjusting nPoints according to market volatility may improve robustness.  \n4. Incorporating machine learning methods. Using AI algorithms on parameters, filters and cross-product timing optimization.\n\n## Conclusion\n\nIn conclusion, the core idea of this strategy is innovative, fitting price distribution with Gaussian function and automatically adjusting parameters. But as a high frequency trading strategy, it requires further testing and optimization on risk control and parameter tuning before stable profitability in live trading, especially as a high frequency trading strategy.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1|9|(?Parameters of observation.)Number of Bars|\n\n\n> Source (PineScript)", "code_length": 2937, "processed_at": "1749801645.2945216"}
{"metadata": {"file_path": "多个百分比止盈exit策略Multiple-Percentage-Profit-Exits-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 10540, "modified_time": 1749801645.2985196, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": true, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 28, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA", "ATR"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "percentAsPoints(pcnt) => \n    strategy.position_size != 0 ? round(pcnt / 100 * strategy.position_avg_price / syminfo.mintick) : float(na)\n\n\nlossPnt = percentAsPoints(2)\n\nstrategy.exit(\"x1\", qty_percent = 25, profit = percentAsPoints(1), loss = lossPnt)  \n\nstrategy.exit(\"x2\", qty_percent = 25, profit = percentAsPoints(2), loss = lossPnt)\n\nstrategy.exit(\"x3\", qty_percent = 25, profit = percentAsPoints(3), loss = lossPnt)\n\nstrategy.exit(\"x4\", profit = percentAsPoints(4), loss = lossPnt)  \n\n\npercentAsPoints(pcnt) =>\n    strategy.position_size != 0 ? round(pcnt / 100 * strategy.position_avg_price / syminfo.mintick) : float(na) \n\n\nlossPnt = percentAsPoints(2)\n\nstrategy.exit(\"x1\", qty_percent = 25, profit = percentAsPoints(1), loss = lossPnt)   \n\nstrategy.exit(\"x2\", qty_percent = 25, profit = percentAsPoints(2), loss = lossPnt)\n\nstrategy.exit(\"x3\", qty_percent = 25, profit = percentAsPoints(3), loss = lossPnt)  \n\nstrategy.exit(\"x4\", profit = percentAsPoints(4), loss = lossPnt)", "code_length": 984, "processed_at": "1749801645.2985196"}
{"metadata": {"file_path": "多因子动量反转组合策略Multi-factor-Momentum-Reversal-Combo-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 11856, "modified_time": 1749801645.3105137, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": true, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 73, "function_count": 0, "class_count": 0, "comment_ratio": 0.05405405405405406, "cyclomatic_complexity": 15}, "indicators": ["RSI", "MA", "EMA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "xPrice1 = close - close[1]  \n    xPrice2 = abs(close - close[1])\n    xSMA_R = EMA(EMA(EMA(xPrice1,r), s), u) \n    xSMA_aR = EMA(EMA(EMA(xPrice2, r), s), u)\n    xTSI = xSMA_R / xSMA_aR * 100\n    xEMA_TSI = EMA(xTSI, N)\n    \n\n\n    Where xSMA_R is the EMA smoothed value of price momentum, xSMA_aR is the EMA smoothed value of price volatility, xTSI is the momentum indicator constructed from the ratio of the two, and xEMA_TSI is the secondary EMA smoothing of xTSI. The indicator determines the trading signal direction based on the relationship between xTSI and xEMA_TSI.\n\nFinally, the strategy ANDs the signals from the two parts, and only issues actual trading orders when the signals from both factors agree.\n\n## Advantages of the Strategy\n\nThe biggest advantage of this strategy lies in its multi-factor design, which can filter out false signals and discover high-quality trading opportunities. Specifically, there are three main points:\n\n1. The 123 reversal factor can identify short-term rebound points after range-bound declines. \n\n2. The Ehlers momentum indicator can effectively determine the direction of the major trend to avoid reversal signals occurring under a major trend, thereby filtering out false signals.\n\n3. The AND operation on the two signal parts can improve signal quality and enhance strategy stability.\n\n## Risks of the Strategy  \n\nAlthough the strategy adopts a multi-factor design to control risks, there are still the following main risks:\n\n1. Reversal signals may occur in oscillating trends and fail to profit.\n\n2. There is subjectivity in the parameter settings between the two factors, which may overfit specific products.  \n\n3. The risk of increased losses after the price reversal reverses again.\n\nThese risks can be mitigated by optimizing parameters to adapt to more varieties, controlling post-reversal positions, real-time monitoring of changes in indicator relationships, and other means.\n\n## Optimization Directions\n\nThe main aspects for optimizing this strategy include:\n\n1. Adjusting the parameters of the two factors to find data samples that match better.\n\n2. Increasing stop loss strategies to control single loss.\n\n3. Using different parameter combinations for trending and oscillating varieties.\n\n4. Increasing the factor weighting mechanism to give better performing factors greater weight.\n\n5. Increasing machine learning algorithms to achieve automatic optimization and updating of parameters.\n\n## Conclusion  \n\nThe strategy successfully combines reversal factors and momentum indicators to achieve multi-factor optimized design. It can effectively identify short-term reversal opportunities and use momentum indicators to conduct secondary verification of the signals, thereby improving the win rate of the strategy. Although there is still room for improvement in the strategy, its core idea provides a good reference for the design of quantitative strategies.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1|14|Length|\n|v_input_2|true|KSmoothing|\n|v_input_3|3|DLength|\n|v_input_4|50|Level|\n|v_input_5|4|r|\n|v_input_6|8|s|\n|v_input_7|6|u|\n|v_input_8|3|SmthLen|\n|v_input_9|false|Trade reverse|\n\n\n> Source (PineScript)", "code_length": 3217, "processed_at": "1749801645.3105137"}
{"metadata": {"file_path": "多时间周期标准偏差K线交叉策略Multi-Timeframe-Stochastic-Crossover-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 11469, "modified_time": 1749801645.3384995, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": false, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "medium"}, "complexity_metrics": {"loc": 180, "function_count": 0, "class_count": 0, "comment_ratio": 0.055248618784530384, "cyclomatic_complexity": 24}, "indicators": ["MACD", "RSI", "KDJ", "BOLL", "MA"], "frequency": "日内", "strategy_patterns": ["trend_following"], "strategy_features": ["risk_management", "position_sizing", "multi_timeframe", "market_regime"]}, "code": "然后分别用不同的参数计算D线:\n\n\n\n\n随后,计算各组K线和D线的平均值,构建快线Kavg和慢线Davg:\n\n\n\n\n最后,当快线上穿慢线时做多,下穿时做空:\n\n\n\n\n通过组合多个时间周期的标准偏差均线,可以滤去较大时间周期下的市场noise,锁定主要趋势方向。\n\n## 策略优势\n\n- 利用多时间周期标准偏差的预测能力,可以有效过滤噪声,锁定趋势\n- 通过调整周期参数,可以自由调整策略的持仓时间\n- 标准偏差本身具有较强的趋势跟踪能力\n- 采用均线交叉形式,可以避免被单一fake breakout误导\n- 可方便优化快线慢线的均线周期,提高稳定性\n\n## 策略风险及解决方案\n\n- 多时间周期均线交叉容易产生较多假信号,可适当调整均线周期进行优化\n- 标准偏差容易被剧烈行情影响,产生错误信号,可考虑添加过滤条件\n- 固定周期参数无法适应市场变化,可采用自适应周期设置\n- 长期持仓容易追高杀低,可设置移动止损来锁定利润\n- 仅考虑KDJ指标容易受限,可引入其它指标进行组合优化 \n\n解决方案:\n\n1. 增加过滤条件,避免被短期假突破误导\n\n2. 使用自适应周期设置,根据市场波动程度调整周期参数\n\n3. 设置移动止损来及时止损,避免追高杀低\n\n4. 优化均线周期参数,找到最佳平衡点\n\n5. 组合更多指标信号,提高策略稳定性\n\n## 策略优化方向 \n\n该策略可以从以下几个方面进行进一步优化:\n\n1. 引入其它指标信号进行组合,如引入MACD、Bollinger Bands等,可以提高信号质量\n\n2. 添加趋势过滤,如引入SMA均线方向、ADX等指标判断趋势,避免逆势交易\n\n3. 使用自适应周期设置,根据市场波动程度动态调整周期参数\n\n4. 增加移动止损策略,根据策略参数设置止损点,及时止损\n\n5. 优化快线和慢线的均线周期参数,找到最佳参数组合\n\n6. 添加开仓过滤条件,避免被短期噪声误导信号\n\n7. 尝试Breakout入场策略,在突破均线后开仓\n\n8. 测试不同的退出策略,如Chandelier Exit,优化止盈止损\n\n## 总结\n\n多时间周期标准偏差K线交叉策略整合了标准偏差指标的趋势跟踪能力和均线策略的稳定性。通过计算多周期标准偏差的K线和D线均值,构建交易信号,可以有效利用不同时间尺度下标准偏差指标的预测力,过滤市场噪音,捕捉主要趋势方向。该策略具有 parameter tuning 的空间,可以通过调整周期参数以及进一步引入过滤条件、止损策略等进行优化,以获得更好的策略效果。总体来说,该策略融合了多种技术分析工具的优势,是一个值得探索和优化的高效趋势跟踪策略。\n\n|| \n\n## Overview\n\nThe Multi Timeframe Stochastic Crossover Strategy is a typical trend following strategy. It calculates the standard deviation values across different timeframes (e.g. daily, weekly, monthly etc.), constructs multiple K and D lines, takes the average of these lines to build moving averages, and goes long when the fast line crosses above the slow line and goes short when the fast line crosses below the slow line. By combining standard deviation lines across multiple timeframes, this strategy can effectively filter out market noise and capture the predominant trend.\n\n## Strategy Logic\n\nThe core logic of this strategy is to compute the standard deviation across multiple timeframes and then take the average to generate trading signals.\n\nFirstly, the strategy calculates K values of standard deviation under different parameters across 5 groups, corresponding to daily, weekly and monthly timeframes:\n\n\n\n\nThen it computes D lines with different parameters respectively:\n\n\n\n\nNext, it calculates the average of K and D lines to get the fast line Kavg and slow line Davg:\n\n\n\n\nFinally, it goes long when Kavg crosses above Davg, and goes short when Kavg crosses below Davg:\n\n\n\n\nBy combining standard deviation lines across multiple timeframes, this strategy can filter out market noise in larger timeframes and capture the predominant trend direction.\n\n## Advantages\n\n- Utilizes predictive power of standard deviation across multiple timeframes to filter out noise and capture trends\n- Flexibility to adjust holding period by tuning timeframe parameters  \n- Standard deviation itself has strong trend following characteristics\n- Moving average crossover avoids being misled by single fake breakouts\n- Easy to optimize moving average periods for more stability\n\n## Risks and Solutions\n\n- Multiple timeframe moving average crossovers can generate many false signals, optimize moving average periods\n- Standard deviation prone to errors from volatile moves, consider adding filters \n- Fixed periods cannot adapt to market changes, adopt adaptive periods\n- Long holding periods risk chasing tops and bottoms, use trailing stops to lock in profits\n- Reliance on just KDJ indicator is limiting, combine with other indicators\n\nSolutions:\n\n1. Add filters to avoid false breakout signals\n\n2. Use adaptive periods based on market volatility\n\n3. Employ trailing stops to exit trades timely\n\n4. Optimize moving average periods for best balance\n\n5. Incorporate more indicators to improve robustness\n\n## Enhancement Opportunities\n\nThis strategy can be further improved in the following areas:\n\n1. Incorporate other indicator signals like MACD, Bollinger Bands to improve signal quality\n\n2. Add trend filters like SMA direction, ADX to avoid counter-trend trades  \n\n3. Utilize adaptive periods based on market volatility\n\n4. Implement trailing stops based on strategy parameters to exit trades\n\n5. Optimize fast and slow moving average periods for best parameters\n\n6. Add entry filters to avoid false signals from short-term noise\n\n7. Test breakout entry after crossover of moving averages\n\n8. Evaluate different exit strategies like Chandelier Exit to optimize exits\n\n## Conclusion\n\nThe Multi Timeframe Stochastic Crossover Strategy combines the trend following capability of stochastic indicator and stability of moving average strategies. By taking average of multi-period standard deviation K and D lines to generate signals, it effectively utilizes predictive power of standard deviation across different timeframes, filters out market noise, and captures the predominant trend. This strategy has room for parameter tuning and further enhancements like filters, stops, etc. Overall, it integrates the strengths of multiple technical analysis tools and is an efficient trend following strategy worth exploring and optimizing.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1_close|0|price: close|high|low|open|hl2|hlc3|hlcc4|ohlc4|\n|v_input_2|55|smoothK|\n|v_input_3|13|SMAsmoothK|\n|v_input_4|34|smoothD|\n|v_input_5|89|smoothK1|\n|v_input_6|8|SMAsmoothK1|\n|v_input_7|55|smoothD1|\n|v_input_8|144|smoothK2|\n|v_input_9|5|SMAsmoothK2|\n|v_input_10|89|smoothD2|\n|v_input_11|233|smoothK3|\n|v_input_12|3|SMAsmoothK3|\n|v_input_13|144|smoothD3|\n|v_input_14|377|smoothK4|\n|v_input_15|2|SMAsmoothK4|\n|v_input_16|233|smoothD4|\n\n\n> Source (PineScript)", "code_length": 5489, "processed_at": "1749801645.3384995"}
{"metadata": {"file_path": "数字货币期货多品种ATR策略教学.md", "name": "FF0000\")", "extension": ".md", "size_bytes": 10112, "modified_time": 1749801645.4104638, "description": "", "symbol": "unknown", "author": "unknown", "strategy_type": "量化", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 37, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["MA", "EMA", "ATR"], "frequency": "高频", "strategy_patterns": [], "strategy_features": ["risk_management"]}, "code": "TR:=MAX(MAX((H-L),ABS(REF(C,1)-H)),ABS(REF(C,1)-L));\nATR:=EMA(TR,LENGTH2);\n\nMIDLINE^^EMA((H + L + C)/3,LENGTH1);\nUPBAND^^MIDLINE + N*ATR;\nDOWNBAND^^MIDLINE - N*ATR;\n\n\nBKVOL=0 AND C>=UPBAND AND REF(C,1)<REF(UPBAND,1),BPK;\nSKVOL=0 AND C<=DOWNBAND AND REF(C,1)>REF(DOWNBAND,1),SPK;\n\nBKVOL>0 AND C<=MIDLINE,SP(BKVOL);\nSKVOL>0 AND C>=MIDLINE,BP(SKVOL);\n// 止损\n// stop loss\nC>=SKPRICE*(1+SLOSS*0.01),BP;\nC<=BKPRICE*(1-SLOSS*0.01),SP;\nAUTOFILTER;\n\n\nvar params = '[{\n        \"symbol\" : \"swap\",\n        \"period\" : 86400,\n        \"stopLoss\" : 0.07,\n        \"atrPeriod\" : 10,\n        \"emaPeriod\" : 10,\n        \"trackRatio\" : 1,\n        \"openRatio\" : 0.1\n    }, {\n        \"symbol\" : \"swap\",\n        \"period\" : 86400,\n        \"stopLoss\" : 0.07,\n        \"atrPeriod\" : 10,\n        \"emaPeriod\" : 10,\n        \"trackRatio\" : 1,\n        \"openRatio\" : 0.1\n    }]'", "code_length": 842, "processed_at": "1749801645.4104638"}
{"metadata": {"file_path": "多线程批量任务.md", "name": "多线程批量任务", "extension": ".md", "size_bytes": 2619, "modified_time": 1749801645.3504937, "description": "", "symbol": "unknown", "author": "unknown", "strategy_type": "unknown", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 13, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["MA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "var tasks = $.go([\n        [exchange, 'GetDepth'],\n        [exchange, 'GetTicker'],\n    ])\n    var retList = $.wait(tasks)\n    Log(retList[0])\n    Log(retList[1])\n\n\n   [\n        [exchange, 'GetDepth'],\n        [exchange, 'GetTicker'],\n    ]", "code_length": 240, "processed_at": "1749801645.3504937"}
{"metadata": {"file_path": "多重摆动指标交易系统基于TSL自动化多方向仓位管理策略-Multi-Directional-Oscillator-Trading-System-TSL-Based-Automated-Position-Management-Strategy.md", "name": "### 概述", "extension": ".md", "size_bytes": 17388, "modified_time": 1749801645.3664856, "description": "## 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": true, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 16, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 4}, "indicators": ["MACD", "RSI", "MA", "ATR"], "frequency": "高频", "strategy_patterns": ["mean_reversion"], "strategy_features": ["risk_management", "position_sizing"]}, "code": "volatility = ta.atr(14) / close * 100  // 计算波动率百分比\n   position_size = strategy.equity * 0.01 / volatility  // 根据波动率调整仓位\n   \n\n   rsi = ta.rsi(close, 14)\n   valid_buy = Buy and rsi < 70  // 避免在超买区域买入\n   valid_sell = Sell and rsi > 30  // 避免在超卖区域卖出\n   \n\n   volatility = ta.atr(14) / close * 100  // Calculate volatility percentage\n   position_size = strategy.equity * 0.01 / volatility  // Adjust position based on volatility\n   \n\n   rsi = ta.rsi(close, 14)\n   valid_buy = Buy and rsi < 70  // Avoid buying in overbought areas\n   valid_sell = Sell and rsi > 30  // Avoid selling in oversold areas", "code_length": 593, "processed_at": "1749801645.3664856"}
{"metadata": {"file_path": "多重趋势交叉策略Multi-Trend-Crossover-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 20249, "modified_time": 1749801645.3744817, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": true, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "medium"}, "complexity_metrics": {"loc": 134, "function_count": 0, "class_count": 0, "comment_ratio": 0.07407407407407407, "cyclomatic_complexity": 14}, "indicators": ["MACD", "RSI", "KDJ", "MA", "EMA", "ATR", "OBV"], "frequency": "日内", "strategy_patterns": ["trend_following", "mean_reversion"], "strategy_features": ["risk_management", "market_regime"]}, "code": "快速趋势指标包括SMA、EMA、KAMA等20多种趋势算法,慢速指标同样可自由选择。\n\n交易信号的产生判断快慢趋势的关系:\n\n\n\n\n做多信号是快速趋势上穿慢速趋势时产生,做空信号是快速趋势下穿慢速趋势时产生。\n\n## 优势分析\n\n- 内置20多种指标可自由组合,灵活性强\n- 可识别不同时间段的趋势态势\n- 可通过参数优化找到最佳指标组合\n- 可同时做多做空,捕捉双向趋势\n- 可设置止损策略控制风险\n\n## 风险分析\n\n- 快慢趋势指标选择不当可能失效\n- 趋势指标存在滞后,可能错过最佳入场点\n- 震荡行情中容易产生错误信号\n- 需要优化参数找到最佳组合指标\n- 无法快速止损,存在亏损扩大风险\n\n## 优化方向 \n\n该策略可以从以下几个方面进行优化:\n\n1. 调整快速和慢速趋势的指标和参数,寻找最佳组合。\n\n2. 增加过滤条件,避免在震荡行情中产生错误信号。例如增加交易量过滤。\n\n3. 增加止损策略,如跟踪止损,移动止损等方式。控制单笔亏损。\n\n4. 结合其他指标,如MACD、KDJ等,提高策略稳定性。\n\n5. 优化入场时机,不要只依赖趋势指标交叉入场。\n\n## 总结\n\n多重趋势交叉策略通过组合快慢趋势指标,能够识别不同时间周期的趋势变化。但该策略对市场震荡敏感,只适合趋势明显的市场环境。我们需要通过参数优化、风控等手段,提高策略的稳定性和盈利能力。\n\n[/trans]\n\n||\n\n\n## Overview\n\nThis strategy generates trading signals by selecting fast and slow trend indicators and going long when the fast trend crosses over the slow trend, and going short when the fast trend crosses below the slow trend. The strategy incorporates over 20 different trend calculations to choose from.\n\n## Strategy Logic\n\nThe core of the strategy is the selection and combination of fast and slow trend indicators:\n\n\n\n\nFast trend includes SMA, EMA, KAMA and 20+ trend algorithms. Slow trend can also be freely selected.\n\nTrading signals are generated by judging the relationship between fast and slow trends:\n\n\n\n\nLong signal is triggered when fast trend crosses over slow trend. Short signal is triggered when fast trend crosses below slow trend.\n\n## Advantage Analysis\n\n- Incorporates 20+ indicators for flexible combinations\n- Can identify trends over different timeframes  \n- Parameters can be optimized to find best combination\n- Can go both long and short to capture trends in both directions\n- Stop loss can be used to control risk\n\n## Risk Analysis\n\n- Wrong fast/slow trend selection may cause strategy failure\n- Trend indicators have lags, may miss best entry points \n- Prone to generating false signals in ranging markets\n- Need parameter optimization to find best indicator combinations\n- Unable to quickly cut losses, risks of letting losses run\n\n## Optimization Directions\n\nThe strategy can be improved in the following aspects:\n\n1. Adjust fast/slow trends and parameters to find optimal combinations.\n\n2. Add filters like volume to avoid false signals during market choppiness.\n\n3. Incorporate stop loss strategies like trailing stop loss to control single trade loss.\n\n4. Combine with other indicators like MACD, KDJ to improve stability. \n\n5. Optimize entry timing, don't just rely on trend crossover.\n\n## Summary \n\nThe multi trend crossover strategy identifies trend changes across timeframes by combining fast and slow trends. But it is sensitive to market fluctuations and only works well in obvious trending markets. We need methods like parameter optimization and risk management to improve strategy stability and profitability.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1|timestamp(01 Jan 2000 05:00 +0000)|(?Date Range)Start Time|\n|v_input_2|timestamp(01 Jan 2099 00:00 +0000)|End Time|\n|v_input_string_1|0|(?Core Settings)Fast Trend Selector: EMA|DEMA|DSMA|ALMA|HMA|JMA|KAMA|Linear Regression (LSMA)|RMA|SMA|SMMA|Price Source|TEMA|TMA|VAMA|VIDYA|VMA|VWMA|WMA|WWMA|ZLEMA|\n|v_input_string_2|0|Slow Trend Selector: EMA|DEMA|DSMA|ALMA|HMA|JMA|KAMA|Linear Regression (LSMA)|RMA|SMA|SMMA|Price Source|TEMA|TMA|VAMA|VIDYA|VMA|VWMA|WMA|WWMA|ZLEMA|\n|v_input_source_1_close|0|Price Source: close|high|low|open|hl2|hlc3|hlcc4|ohlc4|\n|v_input_int_1|10|Fast Trend Length|\n|v_input_int_2|200|Slow Trend Length|\n|v_input_int_3|true|Line Width|\n|v_input_bool_1|true|Model Long Trades|\n|v_input_bool_2|false|Model Short Trades|\n|v_input_float_1|0.85|(?Individual Trend Settings)ALMA Offset|\n|v_input_float_2|6|ALMA Sigma|\n|v_input_float_3|3|ATR Multiplier For SuperTrend|\n|v_input_int_4|12|ATR Length For SuperTrend|\n|v_input_int_5|20|DSMA Super Smoother Filter Length|\n|v_input_int_6|0|DSMA Super Smoother Filter Poles: 2|3|\n|v_input_int_7|2|JMA Power Parameter|\n|v_input_int_8|-45|JMA Phase Parameter|\n|v_input_float_4|3|KAMA's Alpha|\n|v_input_int_9|false|Linear Regression Offset|\n|v_input_int_10|12|VAMA Volatility lookback|\n\n\n> Source (PineScript)", "code_length": 4112, "processed_at": "1749801645.3744817"}
{"metadata": {"file_path": "威廉姆累积-分配指标Williams-AD策略Williams-Accumulation-Distribution-Williams-AD-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 9852, "modified_time": 1749801645.3744817, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 14, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA", "EMA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "If Close > Previous Close\n   Williams AD = Previous Williams AD + (Close - Low)\nIf Close < Previous Close\n   Williams AD = Previous Williams AD + (Close - High)  \nIf Close == Previous Close\n   Williams AD = Previous Williams AD\n\n\nIf Close > Previous Close\n   Williams AD = Previous Williams AD + (Close - Low)  \nIf Close < Previous Close\n   Williams AD = Previous Williams AD + (Close - High)\nIf Close == Previous Close\n   Williams AD = Previous Williams AD", "code_length": 457, "processed_at": "1749801645.3744817"}
{"metadata": {"file_path": "季度EMA动态回撤交易系统-Quarterly-EMA-Pullback-Trading-System.md", "name": "### 概述", "extension": ".md", "size_bytes": 18522, "modified_time": 1749801645.3784797, "description": "## 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": true, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "medium"}, "complexity_metrics": {"loc": 147, "function_count": 0, "class_count": 0, "comment_ratio": 0.0472972972972973, "cyclomatic_complexity": 54}, "indicators": ["RSI", "MA", "EMA", "ATR"], "frequency": "高频", "strategy_patterns": ["trend_following", "mean_reversion", "market_making"], "strategy_features": ["risk_management", "market_regime"]}, "code": "可改进为允许用户调整的参数：\n   \n\n   这样做可以让策略适应不同市场环境和个人交易风格。\n\n2. 动态止损机制：\n   \n\n   可优化为基于ATR的动态止损：\n   \n\n   这种方法能更好地适应市场波动性，提供更精确的风险控制。\n\n3. 市场环境过滤：\n   添加市场状态判断代码：\n   \n\n   这一改进可以减少在弱势或横盘市场中的错误信号。\n\n4. 动态获利目标：\n   \n\n   这样可以根据市场波动性自动调整获利目标，在低波动环境中设置较小目标，高波动环境中设置更大目标。\n\n5. 交易量过滤器：\n   \n\n   通过交易量确认，可以避免在低流动性环境中入场，提高信号质量。\n\n这些优化方向旨在提高策略的适应性、风险控制能力和信号质量，从而在不同市场环境中保持稳定表现。\n\n#### 总结\n季度EMA动态回撤交易系统是一个结构清晰、逻辑严谨的中期交易策略，通过EMA和RSI指标的组合使用，在技术分析框架下捕捉市场回调做多机会。该策略的核心优势在于对入场、出场和风险控制形成了完整体系，特别适合那些追求稳定季度回报且不希望频繁交易的投资者。\n\n策略的主要特点是聚焦于强势资产的技术回调，通过EMA提供的动态支撑位和RSI超卖信号筛选入场时机，同时设置多层次的退出机制和明确的止损策略，平衡了收益与风险。尽管存在均线滞后性和参数固定等局限性，但通过本文提出的优化方向，如动态参数调整、基于ATR的风险管理和市场环境过滤等改进，策略的稳健性和适应性可以得到进一步提升。\n\n从编程实现角度看，该策略代码结构清晰，使用TradingView Pine Script语言的内置函数提高了运算效率，并通过全局变量管理交易状态，体现了良好的编程实践。总体而言，这是一个平衡了技术分析理论与实用性的交易系统，通过合理优化后可以成为专业交易者的有力工具。\n|| \n\n#### Overview\nThe Quarterly EMA Pullback Trading System is a trading strategy based on price retracements to exponential moving average (EMA) support levels, specifically designed for quarterly swing trading. This strategy primarily focuses on price pullbacks to key EMA support levels (10 and 21-day) with RSI confirmation to capture high-probability long opportunities. The core logic lies in utilizing short-term and medium-term EMAs as dynamic support levels, entering positions when prices retrace to these levels with RSI below 40, and implementing flexible stop-loss and profit strategies to manage risk and achieve consistent quarterly returns.\n\n#### Strategy Principle\nThe core principle of this strategy is to leverage the dynamic support characteristics of EMAs and RSI oversold signals to build a trading system. Analyzing the code, the strategy includes the following key components:\n\n1. Trend Confirmation System: Uses 10-day and 21-day EMAs to establish trend direction, effectively filtering short-term market noise while reflecting medium-term trend status.\n\n2. Entry Condition Logic:\n   - Price crosses above the 10-day EMA or 21-day EMA from below (crossAboveEMA10 or crossAboveEMA21)\n   - RSI indicator is below 40 (rsi < 40), indicating the price is in a relatively oversold region\n\n3. Multi-level Exit Mechanism:\n   - Quick Profit Exit: When price rapidly rises above 8% of the 10-day EMA (close > ema10 * 1.08)\n   - Trend Breakdown Exit: When price falls back below the 10-day EMA (crossBelowEMA10)\n\n4. Dynamic Stop-Loss Setting:\n   - 15% stop-loss based on entry price (entryPrice * 0.85)\n   - Stop-loss range adjusts dynamically with changes in entry price\n\nThe code uses a global variable (var float entryPrice) to store the entry price, ensuring correct calculation of the stop-loss price, and uses the strategy.exit function to execute stop-loss operations, reflecting the strategy's emphasis on risk management.\n\n#### Strategy Advantages\nThrough detailed analysis of the strategy's code implementation, the following significant advantages can be summarized:\n\n1. Trend and Retracement Combination: The strategy doesn't simply chase price rises but waits for pullback opportunities in strong trends, improving the value of entry points and reducing the risk of chasing high prices.\n\n2. Multiple Confirmation Mechanism: Entry requires both price crossing EMA and RSI below 40, reducing false signals.\n\n3. Flexible Exit Strategy: Designed with two exit conditions for different market situations, allowing for profit-locking during rapid price increases and quick exits when trends weaken.\n\n4. Comprehensive Risk Control System: Clear stop-loss percentage (15%) ensures limited losses per trade, with stop-loss positions dynamically adapted based on entry prices.\n\n5. Low-Frequency Trading Characteristics: Quarterly operation frequency reduces trading costs and psychological pressure, suitable for non-full-time traders.\n\n6. Concise and Efficient Code Implementation: Clear strategy logic, optimized code structure, utilizing TradingView's built-in functions like ta.ema and ta.crossover for improved computational efficiency.\n\n7. Integrated Alert System: Uses alertcondition function to set buy and sell signal reminders that can integrate with communication tools like Telegram, improving trade execution efficiency.\n\n#### Strategy Risks\nDespite numerous advantages, the code analysis also reveals the following potential risks and limitations:\n\n1. EMA Lag Risk: EMAs are inherently lagging indicators, potentially causing delayed entry signals in volatile markets, missing optimal entry points, or resulting in lagged stop-losses.\n\n2. Fixed RSI Threshold Issue: The strategy uses a fixed RSI threshold (40) without considering the relative performance differences of RSI in different market environments; in strong markets, RSI may remain high for extended periods.\n\n3. Large Stop-Loss Percentage: A 15% stop-loss percentage may be suitable for high-volatility assets but could be excessive for low-volatility assets, leading to losses beyond reasonable ranges.\n\n4. Lack of Market Environment Filtering: The strategy lacks a market environment judgment mechanism, potentially generating excessive false signals in bear markets or sideways markets.\n\n5. Simplified Exit Mechanism: Relying solely on price position relative to EMA for exit decisions without considering risk-reward ratios or time factors may result in lost potential profits.\n\n6. Backtest Overfitting Risk: No measures against overfitting are seen in the code; the strategy may excessively adapt to historical data, with live performance potentially not matching backtest results.\n\nTo address these risks, the following solutions are recommended:\n- Incorporate additional market environment filters, such as volatility indicators or market structure analysis\n- Adopt dynamic RSI thresholds that adjust based on market conditions\n- Optimize stop-loss percentages, considering ATR-based dynamic stop-losses\n- Add time filters to avoid trading in inefficient market environments\n\n#### Strategy Optimization Directions\nBased on code analysis, the strategy has several potential optimization directions:\n\n1. Dynamic Parameter Optimization:\n   \n\n   Can be improved to allow user-adjustable parameters:\n   \n\n   This allows the strategy to adapt to different market environments and personal trading styles.\n\n2. Dynamic Stop-Loss Mechanism:\n   \n\n   Can be optimized to ATR-based dynamic stop-loss:\n   \n\n   This method better adapts to market volatility, providing more precise risk control.\n\n3. Market Environment Filtering:\n   Add market state assessment code:\n   \n\n   This improvement can reduce error signals in weak or sideways markets.\n\n4. Dynamic Profit Targets:\n   \n\n   This automatically adjusts profit targets based on market volatility, setting smaller targets in low-volatility environments and larger targets in high-volatility environments.\n\n5. Volume Filter:\n   \n\n   Volume confirmation helps avoid entry in low-liquidity environments, improving signal quality.\n\nThese optimization directions aim to enhance the strategy's adaptability, risk control capability, and signal quality, maintaining stable performance across different market environments.\n\n#### Summary\nThe Quarterly EMA Pullback Trading System is a structurally clear and logically rigorous medium-term trading strategy that captures market retracement opportunities for long positions through the combined use of EMA and RSI indicators within a technical analysis framework. The strategy's core advantage lies in its complete system for entry, exit, and risk control, particularly suitable for investors seeking stable quarterly returns without frequent trading.\n\nThe strategy's main feature is its focus on technical retracements in strong assets, screening entry opportunities through dynamic support levels provided by EMAs and RSI oversold signals, while setting multi-level exit mechanisms and clear stop-loss strategies to balance returns and risks. Despite limitations such as EMA lag and fixed parameters, the strategy's robustness and adaptability can be further enhanced through the optimization directions proposed in this article, including dynamic parameter adjustment, ATR-based risk management, and market environment filtering.\n\nFrom a programming implementation perspective, the strategy features clear code structure, improved computational efficiency through TradingView Pine Script language's built-in functions, and good programming practices through global variable management of trading states. Overall, this is a trading system that balances technical analysis theory with practicality and, with reasonable optimization, can become a powerful tool for professional traders.\n[/trans]\n\n\n\n> Source (PineScript)", "code_length": 8580, "processed_at": "1749801645.3784797"}
{"metadata": {"file_path": "定制化回测启动时间策略Customizable-Backtest-Start-Time-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 8935, "modified_time": 1749801645.3784797, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "unknown", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": false, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "medium"}, "complexity_metrics": {"loc": 155, "function_count": 0, "class_count": 0, "comment_ratio": 0.0641025641025641, "cyclomatic_complexity": 24}, "indicators": ["RSI", "MA"], "frequency": "高频", "strategy_patterns": ["trend_following"], "strategy_features": ["risk_management"]}, "code": "这样就可以实现定制化的回测启动时间。用户可以根据需要灵活配置回测的开始时间,而不仅仅局限于硬编码的时间。\n\n## 优势分析\n\n这种定制化回测启动时间的策略有以下优势:\n\n1. 更加灵活:用户可以完全自定义回测的启动时间,不再限制在某个固定的时间点。\n\n2. 更加真实:可以将回测的启动时间设置为策略实际运行的时间,从而使回测更加贴近真实市场情况。\n\n3. 方便事件驱动回测:可以根据某个事件的发生时间来设置启动时间,以针对特定事件进行回测。\n\n4. 便于条件调整:可以非常方便地调整回测的启动条件,从而针对不同阶段进行有针对性的回测。\n\n5. 可重复可靠:使回测的启动时间参数化,可以重复运行获得可靠的回测结果。\n\n## 风险分析\n\n使用定制化回测启动时间也存在一些风险:\n\n1. 回测结果依赖启动时间:不同的启动时间可能会导致回测结果出现很大差异。\n\n2. 需要谨慎选择启动时间:不合理的启动时间可能会造成回测失真,无法反映真实情况。\n\n3. 增加曲线拟合风险:容易通过调整启动时间来拟合历史数据,从而产生过拟合风险。\n\n4. 降低回测结果可比性:该策略的回测结果与固定启动时间的回测结果不太具备可比性。\n\n对应解决方法:\n\n1. 多次回测,评估启动时间变化对结果的影响。\n\n2. 选择重大事件发生时间作为启动时间,缩小回测失真。\n\n3. 谨慎调整启动时间,避免过度拟合历史数据。 \n\n4. 保存固定启动时间的回测作为基准,与定制回测进行对比。\n\n## 优化方向\n\n该定制化回测启动时间策略还可以从以下方面进行优化:\n\n1. 支持启动和结束时间定制化,实现完整的回测时间窗口灵活配置。\n\n2. 支持多种时间模式:具体日期,相对日期,事件驱动等,使回测时间配置更智能方便。\n\n3. 支持图形化配置界面,使时间参数设置更加直观。\n\n4. 支持不同时间粒度配置:年、月、日、时、分、秒等。\n\n5. 记录回测时间配置,使得回测结果可复现、可追踪和可比。\n\n6. 增加时间配置不当的校验,避免不合理的时间配置影响回测质量。\n\n7. 提供启动时间绑定功能,一键同步复制启动时间到多个策略中。\n\n## 总结\n\n本策略实现了自定义和灵活的回测启动时间配置,可以减少回测的限制,使之更贴近实盘情况。但也需要警惕回测结果对启动时间的依赖性,采取多次回测、事件驱动等措施减少回测失真。本策略还有很多优化的方向,将来可望实现更智能和便捷的回测时间配置。\n\n||\n\n## Overview\n\nThe purpose of this strategy is to allow users to customize the start time of backtesting for more flexible and customizable backtesting.\n\n## Strategy Logic\n\nThis strategy uses Pine Script's time and timestamp functions to implement a customizable backtest start time. \n\nIt first allows users to input a customized backtest start year, month, date, hour, and minute in the settings. It then uses these inputs to generate a timestamp and stores it in the startTime variable.\n\nIn the strategy's condition check, it adds a new startTime condition. The strategy will only start when the current time is greater than or equal to startTime.\n\nFor example:\n\n\n\n\nThis allows implementing a customizable backtest start time. Users can flexibly configure the start time of backtesting instead of being limited to hardcoded times.\n\n## Advantage Analysis\n\nThis customizable backtest start time strategy has the following advantages:\n\n1. More Flexible: Users can fully customize the backtest start time instead of being limited to a fixed point in time.\n\n2. More Realistic: The start time can be set to the actual runtime of the strategy, making the backtest more realistic.\n\n3. Convenient for Event-driven Backtesting: The start time can be set based on the occurrence time of an event for backtesting specific events.\n\n4. Easy Condition Adjustment: The backtest start conditions can be easily adjusted for targeted backtesting of different stages.\n\n5. Repeatable and Reliable: Parameterizing the backtest start time allows repeatable and reliable backtest results.\n\n## Risk Analysis\n\nUsing a customizable backtest start time also has some risks:\n\n1. Results Depend on Start Time: Different start times may lead to very different backtest results.\n\n2. Start Time Needs Careful Selection: Unreasonable start times may cause distortion in backtest results.\n\n3. Increased Curve Fitting Risk: Easily overfit by adjusting the start time to historical data.\n\n4. Reduced Comparability: The results of this strategy are less comparable to fixed start time backtests.\n\nSolutions:\n\n1. Backtest multiple times to evaluate the impact of start time changes on results.\n\n2. Choose significant event times as start times to minimize distortion.\n\n3. Carefully adjust start times to avoid overfitting historical data.\n\n4. Keep fixed start time backtests as benchmark for comparison with customized backtests.\n\n## Optimization Directions\n\nThis customizable backtest start time strategy can also be improved in the following aspects:\n\n1. Support customization of both start and end times for full flexible configuration of the backtest time window.\n\n2. Support multiple time modes: specific dates, relative dates, event-driven, etc. for smarter and more convenient time configuration.\n\n3. Support graphical configuration interface for more intuitive time parameter setting. \n\n4. Support configuration of different time granularities: year, month, day, hour, minute, second, etc.\n\n5. Record backtest time configuration for reproducible, traceable, and comparable results.\n\n6. Add validation of improper time configurations to avoid low-quality backtests due to unreasonable time settings.\n\n7. Provide start time binding to easily synchronize start times across multiple strategies.\n\n## Summary\n\nThis strategy enables customizable and flexible configuration of backtest start times to reduce limitations and make backtests more realistic. But the dependency of results on start times needs to be watched out for using multiple backtests, event-driven models, etc. to reduce distortion. This strategy also has many directions for improvement to achieve smarter and more convenient backtest time configuration in the future.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1|2018|Start Year|\n|v_input_2|true|Start Month|\n|v_input_3|true|Start Day|\n|v_input_4|false|Start Hour|\n|v_input_5|false|Start Minute|\n\n\n> Source (PineScript)", "code_length": 4972, "processed_at": "1749801645.3784797"}
{"metadata": {"file_path": "封装Bithumb的ordersDetail接口.md", "name": "注意 ，有些交易所不提供该数据，不提供的设置为 0 。", "extension": ".md", "size_bytes": 4733, "modified_time": 1749801645.3784797, "description": "", "symbol": "unknown", "author": "unknown", "strategy_type": "量化", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 15, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["MA"], "strategy_patterns": [], "strategy_features": []}, "code": "/*\n        https://api.bithumb.com/info/order_detail\n        order_id   ：\n        type       ： bid : Buy ask : sell\n        currency   ： Currency code ，Default : BTC\n    */\n\n\nfunction main() {\n    var id = exchange.Sell(-1, 0.01)        // 下市价单 成交，因为 $.GetOrder 只能查询 完全成交的订单。\n                                            // 下限价单不成交的话，去查询这个ID ，会报错 Futures_OP 4: status: 5600, message: 거래 체결내역이 존재하지 않습니다. （在交易中不存在）， ，意思是查询不到这个订单\n    Sleep(5000)\n    var order = $.GetOrder(exchange, id)    // 传入交易所 Bithumb 的交易所对象， 传入ID ，查询不到 返回 null \n    Log(order)\n}", "code_length": 548, "processed_at": "1749801645.3784797"}
{"metadata": {"file_path": "币安永续多币种对冲策略原版做多超跌做空超涨4月13日最新止损模块.md", "name": "# **重要内容！！**", "extension": ".md", "size_bytes": 21867, "modified_time": 1749801645.3824778, "description": "**重要内容！！**", "symbol": "unknown", "author": "unknown", "strategy_type": "对冲", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 7, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["MA", "EMA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "var Alpha = 0.001 //指数移动平均的Alpha参数，设置的越大，基准价格跟踪越敏感，最终持仓也会越低，降低了杠杆，但会降低收益，具体需要根据回测结果自己权衡\nvar Update_base_price_time_interval = 60 //多久更新一次基准价格, 单位秒，和Alpha参数相关,Alpha 设置的越小，这个间隔也可以设置的更小\n\n\nvar Stop_loss = 0.8 \nvar Max_diff = 0.4 //当偏差diff大于0.4时，不继续加空仓, 自行设置\nvar Min_diff = -0.3 //当diff小于-0.3时，不继续加多仓, 自行设置", "code_length": 301, "processed_at": "1749801645.3824778"}
{"metadata": {"file_path": "布林带动态突破加速度量化交易策略Bollinger-Bands-Dynamic-Breakout-Momentum-Trading-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 17285, "modified_time": 1749801645.3864758, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": true, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 56, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 16}, "indicators": ["RSI", "BOLL", "MA", "EMA", "ATR", "OBV"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "adxLength = input.int(14, \"ADX Length\")\n   adxThreshold = input.int(25, \"ADX Threshold\")\n   dI = ta.dmi(adxLength, adxLength)\n   adx = ta.adx(adxLength)\n   trendFilter = adx > adxThreshold and dI+\"DI\" > dI+\"DI-\"\n   longCondition := longCondition and trendFilter\n   \n\n   atrPeriod = input.int(14, \"ATR Period\")\n   atrMultiplier = input.float(3.0, \"ATR Multiplier\")\n   atr = ta.atr(atrPeriod)\n   stopLossPrice = strategy.position_avg_price - (atrMultiplier * atr)\n   \n\n   timeFilter = (hour >= 9 and hour < 16) or (hour >= 18 and hour < 22)\n   longCondition := longCondition and timeFilter\n   \n\n   volatilityRatio = ta.atr(14) / ta.atr(56)\n   dynamicMult = volatilityRatio < 0.8 ? mult * 0.8 : mult * 1.2\n   \n\n   var float trailingStop = na\n   if strategy.position_size > 0\n       trailingStop := math.max(trailingStop, close - atrMultiplier * atr)\n       if close < trailingStop\n           strategy.close(\"Long\")\n   \n\n   adxLength = input.int(14, \"ADX Length\")\n   adxThreshold = input.int(25, \"ADX Threshold\")\n   dI = ta.dmi(adxLength, adxLength)\n   adx = ta.adx(adxLength)\n   trendFilter = adx > adxThreshold and dI+\"DI\" > dI+\"DI-\"\n   longCondition := longCondition and trendFilter\n   \n\n   atrPeriod = input.int(14, \"ATR Period\")\n   atrMultiplier = input.float(3.0, \"ATR Multiplier\")\n   atr = ta.atr(atrPeriod)\n   stopLossPrice = strategy.position_avg_price - (atrMultiplier * atr)\n   \n\n   timeFilter = (hour >= 9 and hour < 16) or (hour >= 18 and hour < 22)\n   longCondition := longCondition and timeFilter\n   \n\n   volatilityRatio = ta.atr(14) / ta.atr(56)\n   dynamicMult = volatilityRatio < 0.8 ? mult * 0.8 : mult * 1.2\n   \n\n   var float trailingStop = na\n   if strategy.position_size > 0\n       trailingStop := math.max(trailingStop, close - atrMultiplier * atr)\n       if close < trailingStop\n           strategy.close(\"Long\")", "code_length": 1831, "processed_at": "1749801645.3864758"}
{"metadata": {"file_path": "弹性加权移动平均交叉策略Elastic-Volume-Weighted-Moving-Average-Cross-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 7969, "modified_time": 1749801645.3944716, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": true, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 4, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "data = (nz(data[1]) * (nb_floating_shares - volume)/nb_floating_shares) + (volume_price/nb_floating_shares)\n\n\ndata = (nz(data[1]) * (nb_floating_shares - volume)/nb_floating_shares) + (volume_price/nb_floating_shares)", "code_length": 217, "processed_at": "1749801645.3944716"}
{"metadata": {"file_path": "彩虹震荡器回测策略Rainbow-Oscillator-Backtesting-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 9726, "modified_time": 1749801645.3984697, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 10, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA", "EMA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "RO = 100 * ((收盘价 - 10日移动平均线) / (最高价的最高值 - 最低价的最低值))\n\n\nRB = 100 * ((均线的最高值 - 均线的最低值) / (最高价的最高值 - 最低价的最低值)) \n\n\nRO = 100 * ((Close - 10-day Moving Average) / (HHV(High, N) - LLV(Low, N))) \n\n\nRB = 100 * ((Highest value of moving averages - Lowest value of moving averages) / (HHV(High, N) - LLV(Low, N)))", "code_length": 301, "processed_at": "1749801645.3984697"}
{"metadata": {"file_path": "指数平滑随机指标异动策略Exponential-Smoothed-Stochastic-Oscillator-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 7589, "modified_time": 1749801645.4024677, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 20, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["MACD", "RSI", "MA"], "frequency": "周线", "strategy_patterns": [], "strategy_features": []}, "code": "s=100 * (close - 最低价) / (最高价 - 最低价) \n\n\nexp= ex<10? (ex)/(10-ex) : 99  \n\ns=100 * (close - 最低价) / (最高价 - 最低价)\n\nks=s>50? math.pow(math.abs(s-50),exp)/math.pow(50,exp-1)+50  \n     :-math.pow(math.abs(s-50),exp)/math.pow(50,exp-1)+50\n\n\ns = 100 * (close - lowest low) / (highest high - lowest low)\n\n\nexp = ex<10? (ex)/(10-ex) : 99   \n\ns = 100 * (close - lowest low) / (highest high - lowest low)  \n\nks = s>50? math.pow(math.abs(s-50),exp)/math.pow(50,exp-1)+50   \n       :-math.pow(math.abs(s-50),exp)/math.pow(50,exp-1)+50", "code_length": 517, "processed_at": "1749801645.4024677"}
{"metadata": {"file_path": "日内交易关键点策略Intraday-Pivot-Points-Trading-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 8833, "modified_time": 1749801645.4104638, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "unknown", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 8, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "PP = (最高价+最低价+收盘价)/3\nR1 = 2*PP - 最低价  \nS1 = 2*PP - 最高价\n\n\nPP = (High + Low + Close) /3\nR1 = 2*PP - Low\nS1 = 2*PP - High", "code_length": 118, "processed_at": "1749801645.4104638"}
{"metadata": {"file_path": "本地存储.md", "name": "什么东西", "extension": ".md", "size_bytes": 2622, "modified_time": 1749801645.4184597, "description": "# 导入模板", "symbol": "unknown", "author": "unknown", "strategy_type": "unknown", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 1, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI"], "strategy_patterns": [], "strategy_features": []}, "code": "PS = ext.PersistentStorage()", "code_length": 28, "processed_at": "1749801645.4184597"}
{"metadata": {"file_path": "极化分形效率PFE交易策略Polarized-Fractal-Efficiency-PFE-Trading-Strategy.md", "name": "## 概述", "extension": ".md", "size_bytes": 8581, "modified_time": 1749801645.4184597, "description": "# 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "量化", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": true, "has_market_analysis": true, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 80, "function_count": 0, "class_count": 0, "comment_ratio": 0.04938271604938271, "cyclomatic_complexity": 8}, "indicators": ["RSI", "MA", "EMA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "PFE = sqrt(pow(close - close[Length], 2) + 100)\n\n\nC2C = sum(sqrt(pow((close - close[1]), 2) + 1), Length)  \n\n\nxFracEff = iff(close - close[Length] > 0, round((PFE / C2C) * 100) , round(-(PFE / C2C) * 100))\n\n\nxEMA = ema(xFracEff, LengthEMA) \n\nBuyBand = input(50)  \nSellBand = input(-50)\n\n\nPFE = sqrt(pow(close - close[Length], 2) + 100)\n\n\nC2C = sum(sqrt(pow((close - close[1]), 2) + 1), Length)\n\n\n\nPositive value when price rises and negative value when price falls. The larger the absolute number, the less efficient the movement.  \n\nTo generate trading signals, we calculate the exponential moving average of xFracEff, called xEMA. Buy and sell bands are defined:   \n\n\n\n\nWhen xEMA crosses above BuyBand, it generates buy signal. When crossing below SellBand, it generates sell signal.\n\n\n### Advantage Analysis   \n\nThe PFE trading strategy has the following advantages:\n\n1. Applies unique concepts from fractal geometry and chaos theory to measure price movement efficiency from a different angle  \n2. Avoids some problems of conventional technical indicators like curve fitting\n3. Parameters can be adjusted to find suitable settings for different market environments  \n4. Simple and clear trading rules, easy to implement\n   \n### Risk Analysis\n\nThe PFE trading strategy also has the following risks:   \n\n1. Difficult parameter optimization, prone to overfitting like all indicator strategies  \n2. Unreliable signals during extreme market turbulence\n3. Need to cautiously handle extremes like price gaps  \n4. Bear some time lag, may have missed best entry point when signal triggers  \n\n### Optimization Directions  \n\nThe PFE strategy can be optimized from the following aspects:  \n\n1. Try different combinations of Length parameter to find optimal balance   \n2. Optimize buy and sell bands to reduce erroneous trades  \n3. Add stop loss to control single trade loss size\n4. Combine other indicators to improve signal quality   \n5. Dynamically adjust parameters to adapt to changing market environments\n\n### Summary   \n\nThe PFE trading strategy proposes a novel approach based on fractal geometry and chaos theory concepts to measure the efficiency of price movements. Compared to conventional technical indicators, this method has its unique advantages but also faces problems like time lag, parameter optimization, signal quality to some extent. With continuous testing and optimization, PFE strategy shows promise to become a reliable quantitative trading strategy choice.\n\n[/trans]\n\n> Strategy Arguments\n\n\n\n|Argument|Default|Description|\n|----|----|----|\n|v_input_1|9|Length|\n|v_input_2|5|LengthEMA|\n|v_input_3|50|BuyBand|\n|v_input_4|-50|SellBand|\n|v_input_5|false|Trade reverse|\n\n\n> Source (PineScript)", "code_length": 2706, "processed_at": "1749801645.4184597"}
{"metadata": {"file_path": "标准分数价格突破策略Z-Score-Price-Breakout-Strategy.md", "name": "## 概述", "extension": ".md", "size_bytes": 7527, "modified_time": 1749801645.4184597, "description": "# 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "量化", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 4, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "BOLL", "MA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "Z_score = (C - SMA(n)) / StdDev(C,n)\n\n\nZ_score = (C - SMA(n)) / StdDev(C,n)", "code_length": 75, "processed_at": "1749801645.4184597"}
{"metadata": {"file_path": "游离波段震荡跟踪策略Isolation-Band-Oscillation-Tracking-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 11260, "modified_time": 1749801645.4304538, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 6, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA", "ATR"], "frequency": "日内", "strategy_patterns": [], "strategy_features": ["risk_management"]}, "code": "长线止损 = 最高价 - ATR * 系数\n短线止损 = 最低价 + ATR * 系数\n\n\nLong Stop = Highest Price - ATR * Coefficient \nShort Stop = Lowest Price + ATR * Coefficient", "code_length": 138, "processed_at": "1749801645.4304538"}
{"metadata": {"file_path": "画线类库Plot-library.md", "name": "d75442',", "extension": ".md", "size_bytes": 6904, "modified_time": 1749801645.4344518, "description": "", "symbol": "unknown", "author": "unknown", "strategy_type": "unknown", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 20, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 4}, "indicators": ["MA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "function main() {\n    var isFirst = true\n    while (true) {\n        var records = exchange.GetRecords();\n        if (records && records.length > 0) {\n            $.PlotRecords(records, 'BTC')\n            if (isFirst) {\n                $.PlotFlag(records[records.length-1].Time, 'Start', 'S')\n                isFirst = false\n            }\n        }\n        var ticker = exchange.GetTicker()\n        if (ticker) {\n            $.PlotLine('Last', ticker.Last)\n            $.PlotTitle('Last ' + ticker.Last)\n        }\n        \n        Sleep(60000)\n    }\n}", "code_length": 550, "processed_at": "1749801645.4344518"}
{"metadata": {"file_path": "短信通知类库.md", "name": "ff0000');", "extension": ".md", "size_bytes": 2165, "modified_time": 1749801645.4384496, "description": "", "symbol": "unknown", "author": "unknown", "strategy_type": "unknown", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 1, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["MA"], "strategy_patterns": [], "strategy_features": []}, "code": "$.SMSNotify(\"abc 短信测试\");", "code_length": 24, "processed_at": "1749801645.4384496"}
{"metadata": {"file_path": "网格管理工具.md", "name": "## 初始化", "extension": ".md", "size_bytes": 10942, "modified_time": 1749801645.4624379, "description": "# 初始化", "symbol": "unknown", "author": "unknown", "strategy_type": "网格", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": true, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 28, "function_count": 1, "class_count": 0, "comment_ratio": 0.20689655172413793, "cyclomatic_complexity": 0}, "indicators": ["MA", "EMA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "# 创建了一个价格1000-800，数量为10的等差网格\nGridPriceManager(upper_price=1000, lower_price=800, grid_num=10)\n\n# 创建了一个价格1000-800，间隔为1%的等比网格\nGridPriceManager(upper_price=1000, lower_price=800, interval=1)\n\n# 传入已有网格信息\ndata = {\n\t\"grid_list\":    {99:None,100:None,101:None,102:None,103:None,104:None},\n\t\"interval\":     None,\n\t\"upper_price\":  104,\n\t\"lower_price\":  99,\n\t\"grid_num\":     6,\n\t\"side\":         \"long\",\n\t\"grid_diff\":    1,\n\t\"type\":         \"等差\",\n}\nGridPriceManager(Data=data)\n\n\ngm = GridPriceManager(1000, 800, 10)\n\n# 底仓事件，在调用base_position方法时会触发此事件\n@gm.event('base_position')\ndef base_position(price):\n    # 传入最近的网格价格，以此价格作为买入价格参考\n    print(price)\n    return 123456\t# 返回底仓订单，manger将订单记录", "code_length": 676, "processed_at": "1749801645.4624379"}
{"metadata": {"file_path": "自适应考夫曼移动平均线趋势跟踪策略Adaptive-Kaufman-Moving-Average-Trend-Following-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 7728, "modified_time": 1749801645.4704337, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 32, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA"], "strategy_patterns": [], "strategy_features": []}, "code": "nAMA = nz(nAMA[1]) + nsmooth * (Close - nz(nAMA[1]))\n\n其中:\n\nnsmooth = (nefratio * (nfastend - nslowend) + nslowend)^2\n\nnefratio = nsignal / nnoise \n\nnsignal = |Close - Close[Length]|\n\nnnoise = sum(|Close - Close[1]|, Length)\n\nnfastend = 0.666\n\nnslowend = 0.0645\n\n\nnAMA = nz(nAMA[1]) + nsmooth * (Close - nz(nAMA[1])) \n\nwhere:  \n\nnsmooth = (nefratio * (nfastend - nslowend) + nslowend)^2\n\nnefratio = nsignal / nnoise\n\nnsignal = |Close - Close[Length]|  \n\nnnoise = sum(|Close - Close[1]|, Length)\n\nnfastend = 0.666  \n\nnslowend = 0.0645", "code_length": 532, "processed_at": "1749801645.4704337"}
{"metadata": {"file_path": "蜡烛形态策略-Candlestick-Pattern-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 14958, "modified_time": 1749801645.4704337, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 4, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 12}, "indicators": ["RSI", "MA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "bullish_engulfing = high[0]>high[1] and low[0]<low[1] and open[0]<open[1] and close[0]>close[1] and close[0]>open[0] and close[1]<close[2] and close[0]>open[1]\n\n\nbullish_engulfing = high[0]>high[1] and low[0]<low[1] and open[0]<open[1] and close[0]>close[1] and close[0]>open[0] and close[1]<close[2] and close[0]>open[1]", "code_length": 321, "processed_at": "1749801645.4704337"}
{"metadata": {"file_path": "超级趋势策略SuperTrend-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 10836, "modified_time": 1749801645.4784298, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 30, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 8}, "indicators": ["MACD", "RSI", "MA", "EMA", "ATR"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "atr = mult * atr(length) \n\nlongStop = hl2 - atr\n\nshortStop = hl2 + atr\n\n\ndir := dir == -1 and close > shortStopPrev ? 1 : \n         dir == 1 and close < longStopPrev ? -1 : dir\n\n\nbuySignal = dir == 1 and dir[1] == -1 \n\nsellSignal = dir == -1 and dir[1] == 1\n\n\natr = mult * atr(length)\n\nlongStop = hl2 - atr \n\nshortStop = hl2 + atr\n\n\ndir := dir == -1 and close > shortStopPrev ? 1 :  \n         dir == 1 and close < longStopPrev ? -1 : dir\n\n\nbuySignal = dir == 1 and dir[1] == -1\n\nsellSignal = dir == -1 and dir[1] == 1", "code_length": 517, "processed_at": "1749801645.4784298"}
{"metadata": {"file_path": "超跌超涨超牛版.md", "name": "# 4.13 更新内容", "extension": ".md", "size_bytes": 36522, "modified_time": 1749801645.4824278, "description": "4.13 更新内容", "symbol": "unknown", "author": "RedSword", "strategy_type": "对冲", "backtest_config": {}, "training_labels": {"has_risk_management": true, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 3, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA", "EMA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "var Stop_loss = 0.8 \nvar Max_diff = 0.4 //当偏差diff大于0.4时，不继续加空仓, 自行设置\nvar Min_diff = -0.3 //当diff小于-0.3时，不继续加多仓, 自行设置", "code_length": 116, "processed_at": "1749801645.4824278"}
{"metadata": {"file_path": "适应性变动性突破策略Adaptive-Volatility-Breakout-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 7180, "modified_time": 1749801645.4984198, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 4, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "BOLL", "MA"], "frequency": "高频", "strategy_patterns": [], "strategy_features": []}, "code": "一定水平 = 收盘价 + k * (最高价 - 最低价)\n\n\nCertain level = Close + k * (High - Low)", "code_length": 71, "processed_at": "1749801645.4984198"}
{"metadata": {"file_path": "量化交易动量方向收敛策略Ergotic-Momentum-Direction-Convergence-Trading-Strategy.md", "name": "# 概述", "extension": ".md", "size_bytes": 7736, "modified_time": 1749801645.5024178, "description": "概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 12, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["RSI", "MA", "EMA"], "frequency": "日线", "strategy_patterns": [], "strategy_features": []}, "code": "Val1 = 100 * EMA(EMA(EMA(价格变化量,r),s),u)  \n\nVal2 = EMA(EMA(EMA(价格变化量的绝对值,r),s),u)\n\nErgotic TSI = 如果Val2不等于0,则为Val1/Val2,否则为0\n\n\nVal1 = 100 * EMA(EMA(EMA(price change, r), s), u)   \n\nVal2 = EMA(EMA(EMA(absolute value of price change, r), s), u))  \n\nErgotic TSI = If Val2 != 0, Val1/Val2, else 0", "code_length": 291, "processed_at": "1749801645.5024178"}
{"metadata": {"file_path": "长期趋势与波动率识别相结合的指数移动均线超级趋势量化交易策略-Long-term-Trend-and-Volatility-Recognition-Combined-Exponential-Moving-Average-SuperTrend-Quantitative-Trading-Strategy.md", "name": "### 概述", "extension": ".md", "size_bytes": 18472, "modified_time": 1749801645.5064158, "description": "## 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": true, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 30, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 6}, "indicators": ["MACD", "RSI", "MA", "EMA", "ATR"], "frequency": "日线", "strategy_patterns": [], "strategy_features": []}, "code": "volatility_condition = ta.atr(14) / close * 100\n   dynamic_factor = volatility_condition > 2 ? 4.0 : 3.0\n   \n\n   strategy.exit(\"Exit Long\", \"Buy\", stop=entry_price * 0.98, limit=entry_price * 1.04)\n   \n\n   rsi_value = ta.rsi(close, 14)\n   valid_signal = rsi_value > 30 and rsi_value < 70\n   longCondition := longCondition and valid_signal\n   \n\n   volume_confirmation = volume > ta.sma(volume, 20)\n   longCondition := longCondition and volume_confirmation\n   \n\n   volatility_condition = ta.atr(14) / close * 100\n   dynamic_factor = volatility_condition > 2 ? 4.0 : 3.0\n   \n\n   strategy.exit(\"Exit Long\", \"Buy\", stop=entry_price * 0.98, limit=entry_price * 1.04)\n   \n\n   rsi_value = ta.rsi(close, 14)\n   valid_signal = rsi_value > 30 and rsi_value < 70\n   longCondition := longCondition and valid_signal\n   \n\n   volume_confirmation = volume > ta.sma(volume, 20)\n   longCondition := longCondition and volume_confirmation", "code_length": 917, "processed_at": "1749801645.5064158"}
{"metadata": {"file_path": "零时滞后-Hull-EMA-组合-趋势跟踪策略Zero-Lag-Hull-EMA-Combo-Trend-Following-Strategy.md", "name": "## 概述", "extension": ".md", "size_bytes": 6520, "modified_time": 1749801645.510414, "description": "# 概述", "symbol": "unknown", "author": "unknown", "strategy_type": "趋势", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 20, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["MACD", "RSI", "KDJ", "MA", "EMA"], "frequency": "日内", "strategy_patterns": [], "strategy_features": []}, "code": "EMA1 = ema(close, Period)\n    EMA2 = ema(EMA1, Period) \n    Difference = EMA1 - EMA2\n    ZeroLagEMA = EMA1 + Difference\n    \n\n    n2ma = 2*wma(ZeroLagEMA, round(S_period/2)) \n    nma = wma(ZeroLagEMA, S_period)\n    n1 = wma(n2ma - nma, sqn)\n    \n\n    EMA1 = ema(close, Period)\n    EMA2 = ema(EMA1, Period)\n    Difference = EMA1 - EMA2 \n    ZeroLagEMA = EMA1 + Difference\n    \n\n    n2ma = 2*wma(ZeroLagEMA, round(S_period/2))\n    nma = wma(ZeroLagEMA, S_period) \n    n1 = wma(n2ma - nma, sqn)", "code_length": 491, "processed_at": "1749801645.510414"}
{"metadata": {"file_path": "麦语言海龟策略体验.md", "name": "麦语言海龟策略体验", "extension": ".md", "size_bytes": 3461, "modified_time": 1749801645.5264058, "description": "", "symbol": "unknown", "author": "unknown", "strategy_type": "量化", "backtest_config": {}, "training_labels": {"has_risk_management": false, "has_position_sizing": false, "has_market_analysis": false, "is_multiasset": false, "complexity_level": "low"}, "complexity_metrics": {"loc": 9, "function_count": 0, "class_count": 0, "comment_ratio": 0.0, "cyclomatic_complexity": 0}, "indicators": ["MA", "ATR"], "frequency": "周线", "strategy_patterns": [], "strategy_features": []}, "code": "%%\n// 这里面可以调用发明者量化的任何API \nscope.TEST = function(obj) {\n    return obj.val * 100;\n}\n%%\n收盘价:C;\n收盘价放大100倍:TEST(C);\n上一个收盘价放大100倍:TEST(REF(C, 1)); // 鼠标移动到回测的K线上就会提示变量值", "code_length": 163, "processed_at": "1749801645.5264058"}
